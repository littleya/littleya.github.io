{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/yilia/source/main.507b3a.css","path":"main.507b3a.css","modified":1,"renderable":1},{"_id":"themes/yilia/source/slider.e37972.js","path":"slider.e37972.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/main.507b3a.js","path":"main.507b3a.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/mobile.fdc4b7.js","path":"mobile.fdc4b7.js","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","path":"fonts/default-skin.b257fa.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","path":"fonts/iconfont.16acc2.ttf","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","path":"fonts/iconfont.45d7ee.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","path":"fonts/iconfont.8c627f.woff","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","path":"fonts/iconfont.b322fa.eot","modified":1,"renderable":1},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","path":"fonts/tooltip.4004ff.svg","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/default-skin.png","path":"img/default-skin.png","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/preloader.gif","path":"img/preloader.gif","modified":1,"renderable":1},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":1,"renderable":1}],"Cache":[{"_id":"themes/yilia/.babelrc","hash":"b1b76475ac17dc9e2fa50af96c9e31eea2d0f2b4","modified":1507540761093},{"_id":"themes/yilia/.editorconfig","hash":"da6d022b8f4d9c961e2f8f80677e92af8de0db4d","modified":1507540761093},{"_id":"themes/yilia/.eslintignore","hash":"df0a50b13cc00acb749226fee3cee6e0351fb1d9","modified":1507540761093},{"_id":"themes/yilia/.eslintrc.js","hash":"5696ae049de010ed3786768b0c359f14c05b5ec6","modified":1507540761093},{"_id":"themes/yilia/.gitattributes","hash":"e0f24dceeb1e6878a1dd9b01a2b9df1bc037a867","modified":1507540761093},{"_id":"themes/yilia/.gitignore","hash":"9c4b7d27a1e3e5efa0c8ed143a032a85d586b03b","modified":1507540761093},{"_id":"themes/yilia/README.md","hash":"1bf755806af9d8874bd22e1abbdaaa24328ef4dc","modified":1507540761093},{"_id":"themes/yilia/_config.yml","hash":"6fbe0d88c731c01c62dc28a49939f909c2c64a6a","modified":1507540761093},{"_id":"themes/yilia/package.json","hash":"367cb9579d35968a942c243ab248a5f5ebfaf462","modified":1507540761093},{"_id":"themes/yilia/webpack.config.js","hash":"05ba46a4ae744272f5312e684928910dccad3755","modified":1507540761097},{"_id":"source/_posts/201710091601.md","hash":"83490548a0df8449635630843a98809e831d9a3c","modified":1507540761060},{"_id":"source/_posts/201710091643.md","hash":"d4d4f0a3196cc16dbbc4b958fc8532d287cf9ebe","modified":1507540761073},{"_id":"source/_posts/201710091701.md","hash":"291d4569e79fc203f64ea43180cd849e438ea9d6","modified":1507540761083},{"_id":"source/_posts/201710091703.md","hash":"c16def2e045edb6ae019312fc535df437331725a","modified":1507540761083},{"_id":"source/_posts/201710091704.md","hash":"24d248e82c16f0d0a104674a00de1959cbced5ab","modified":1507540761083},{"_id":"source/_posts/201710091705.md","hash":"5230bcf0024eba969123fbdb186403ff569df0c7","modified":1507540761083},{"_id":"source/_posts/201710091706.md","hash":"db47c6232691ef8cf6b2108b8fe6f8d44635cc0e","modified":1507540761083},{"_id":"source/_posts/201710091708.md","hash":"5fb54b66002e38d2226722446e33797a66036f69","modified":1507540761083},{"_id":"source/_posts/201710091709.md","hash":"343dda4e886c3ef5628e73de7f912dfcda10930f","modified":1507540761083},{"_id":"source/_posts/201710091710.md","hash":"4e3a9b541876b63456685414b49a7418447d8f9a","modified":1507540761083},{"_id":"source/_posts/201710091712.md","hash":"5fea5ce75738cdc7c5cc60cf59847d6e80c6d098","modified":1507540761083},{"_id":"source/_posts/201710091714.md","hash":"ab3b136b485160aa3dc1ca1f4ac58329382de30d","modified":1507543461527},{"_id":"source/_posts/201710091715.md","hash":"f2be6bed855f3ad10b244dd058a5b52e36c3be80","modified":1507540761083},{"_id":"source/_posts/201710091723.md","hash":"fb72927c332d126621b6940a81461f5863316b1d","modified":1507546489360},{"_id":"themes/yilia/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1507540761093},{"_id":"themes/yilia/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1507540761093},{"_id":"themes/yilia/languages/fr.yml","hash":"84ab164b37c6abf625473e9a0c18f6f815dd5fd9","modified":1507540761093},{"_id":"themes/yilia/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1507540761093},{"_id":"themes/yilia/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1507540761093},{"_id":"themes/yilia/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1507540761093},{"_id":"themes/yilia/languages/zh-tw.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1507540761093},{"_id":"themes/yilia/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1507540761093},{"_id":"themes/yilia/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1507540761093},{"_id":"themes/yilia/layout/index.ejs","hash":"a35dc900203f9d8dd863ea4c1722198d6d457ec8","modified":1507540761093},{"_id":"themes/yilia/layout/layout.ejs","hash":"0a332bdbd3b86c231d690614687f5b97186b85d5","modified":1507540761093},{"_id":"themes/yilia/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1507540761093},{"_id":"themes/yilia/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1507540761093},{"_id":"themes/yilia/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1507540761093},{"_id":"themes/yilia/source/main.507b3a.css","hash":"ddf6e2c6b953c2c59a3c271e6070010a4cc81cf9","modified":1507540761097},{"_id":"themes/yilia/source/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1507540761097},{"_id":"themes/yilia/source-src/css.ejs","hash":"94dbdb02ca11849e415d54fb28546a598f2cffb1","modified":1507540761093},{"_id":"themes/yilia/source-src/script.ejs","hash":"c21381e1317db7bb157f1d182b8c088cb7cba411","modified":1507540761097},{"_id":"themes/yilia/layout/_partial/toc.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1507540761093},{"_id":"themes/yilia/source/main.507b3a.js","hash":"59ccafbd45d28c397a8a901152ef5e196077e4f4","modified":1507540761097},{"_id":"themes/yilia/source/mobile.fdc4b7.js","hash":"6bfff9bfe4d7e067b6289e851a4c424ac815af5e","modified":1507540761097},{"_id":"source/_posts/201710091601/031b589e22e15416.jpg","hash":"a960076d215f95b3414ce08ecafea261193c6bbc","modified":1507540761063},{"_id":"source/_posts/201710091601/06132485ab59545a.jpg","hash":"d539713225e1613f848c1dd9f07042a0c142a0f1","modified":1507540761067},{"_id":"source/_posts/201710091601/06c092ba2bbcc190.jpg","hash":"073e575d1995d805632442bc726679da8f6022f2","modified":1507540761063},{"_id":"source/_posts/201710091601/0afa78fbca1dc288.jpg","hash":"4382b01aa479cd2bccfa3042c7fb596eec583c02","modified":1507540761060},{"_id":"source/_posts/201710091601/0c837e38c20eba10.jpg","hash":"38ce53fd4341ee7bdba1a649f6570459eba4877f","modified":1507540761060},{"_id":"source/_posts/201710091601/0cfc23cd25d88711.jpg","hash":"25a99d2492006bfafb92c778664e7b4c5e61d435","modified":1507540761060},{"_id":"source/_posts/201710091601/0e655e34fd585501.jpg","hash":"aeed89c8d0fb08cc620187070838b552b4fc1aed","modified":1507540761060},{"_id":"source/_posts/201710091601/0feee6754fbdf152.jpg","hash":"872dc8a5ea43e24464c6f500410110687294aa50","modified":1507540761060},{"_id":"source/_posts/201710091601/1508a77d6a8ea1c8.jpg","hash":"2704449a3940c696ceb27a651f05d2cfa699fd24","modified":1507540761067},{"_id":"source/_posts/201710091601/180a716339eaac7d.jpg","hash":"7a6c6c8e25683e225e9bee3d4736b307ccb078c5","modified":1507540761063},{"_id":"source/_posts/201710091601/1a594160a1ba91e0.jpg","hash":"9ce3fe356a9d7065af025a19b419d84ffb6c4dd0","modified":1507540761060},{"_id":"source/_posts/201710091601/1cda4b829db27966.jpg","hash":"432d30c15bf0b0d6890eba587e9142300c5f73a5","modified":1507540761060},{"_id":"source/_posts/201710091601/21eef25b932cef4f.jpg","hash":"ebf9581f32f5e8ceeaa89f81828d03484a022e4a","modified":1507540761063},{"_id":"source/_posts/201710091601/2324f721115c3785.jpg","hash":"32418051355737fe2a03df53b50b450bfdaaf253","modified":1507540761067},{"_id":"source/_posts/201710091601/2354389b190af5b4.jpg","hash":"29900846608d69163a94d835b86a10c05c367d0d","modified":1507540761067},{"_id":"source/_posts/201710091601/266f5cf2a5c7db28.jpg","hash":"5db6b4a52ec984163a7954ebc3a7dd51bce9461f","modified":1507540761067},{"_id":"source/_posts/201710091601/2a5be182dfce2f21.jpg","hash":"bd56381ced5575a4f63756c1bf4d07e634b7b532","modified":1507540761060},{"_id":"source/_posts/201710091601/2d6ca36262af1fb1.jpg","hash":"339c9816496142c2f27f32eef648ae6743f02eab","modified":1507540761060},{"_id":"source/_posts/201710091601/2d95d2595ef8cf3b.jpg","hash":"3f82a10578ed5229e985c875dc874ba7ebad6729","modified":1507540761060},{"_id":"source/_posts/201710091601/2f56d5f920ff1ade.jpg","hash":"a9a48c1c32e8ffaee945406bb7c7e07605eae54f","modified":1507540761060},{"_id":"source/_posts/201710091601/3d6c3c2b7962e631.jpg","hash":"289fef44fa607816f3ceecac2b3fab779e893942","modified":1507540761060},{"_id":"source/_posts/201710091601/42997c9404fbb3c5.jpg","hash":"194e3c9d06e34ad924903459df1f03fea74a7e0b","modified":1507540761067},{"_id":"source/_posts/201710091601/48071838f3615424.jpg","hash":"a0057cdec1b9df02bdb117d0bf8527f9968edbef","modified":1507540761067},{"_id":"source/_posts/201710091601/4c9a2f038cdaeb71.jpg","hash":"8fd14f3e165de0e421fa372f5ce60a68af2591fb","modified":1507540761060},{"_id":"source/_posts/201710091601/551b7ab676551748.jpg","hash":"b80585902e24b1c169c0b49bb424cf888b058594","modified":1507540761067},{"_id":"source/_posts/201710091601/566bae7cacf04cc7.jpg","hash":"0409ef7e5b2bdbc55d8d1183ec2122dad147d095","modified":1507540761067},{"_id":"source/_posts/201710091601/5691d99da449aeb2.jpg","hash":"fff9482807003b97180733cce50c20e214d48961","modified":1507540761067},{"_id":"source/_posts/201710091601/5a74c07b6f07c6d7.jpg","hash":"6bcef3017dd557affbf4b2f77afdfaa3993bd735","modified":1507540761060},{"_id":"source/_posts/201710091601/5b4ae1ddf38c5bac.jpg","hash":"21504c5548218278acd7f65c87ac33b6b735ee90","modified":1507540761060},{"_id":"source/_posts/201710091601/5cf991d40fd5681e.jpg","hash":"1d04c303e5d74162308b6e553146734c2cd00055","modified":1507540761063},{"_id":"source/_posts/201710091601/6062c404ce14a9d1.jpg","hash":"97a1767bdf8dcc0c523ce63f7e111330a9915348","modified":1507540761067},{"_id":"source/_posts/201710091601/61e865e896205541.jpg","hash":"7ed1c00ff40cce7f9fade9c87fcab08ab3d7ad03","modified":1507540761063},{"_id":"source/_posts/201710091601/62ab2af515b36b54.jpg","hash":"caaf310a6726a094443321ddc14748c0185d64cd","modified":1507540761063},{"_id":"source/_posts/201710091601/633b5face3642b7c.jpg","hash":"da4cd75081184add38c36fd09380b9dd23e2d4bc","modified":1507540761067},{"_id":"source/_posts/201710091601/63d531446c748da6.jpg","hash":"95670faabc64e724d9d760385ba53a5d6dbd928f","modified":1507540761063},{"_id":"source/_posts/201710091601/66e88f1227120852.jpg","hash":"1498bd82b17e2279eeae103fe237c9da8faefc61","modified":1507540761063},{"_id":"source/_posts/201710091601/6848d154f70459a4.jpg","hash":"b2629f49f8b7d8334234f02aa3f580f320df096b","modified":1507540761067},{"_id":"source/_posts/201710091601/6a9abbd5bcd8ae9b.jpg","hash":"c39b6a82fefdc354421bfb421a3b688ab8915f3e","modified":1507540761063},{"_id":"source/_posts/201710091601/6cbc855c0e0788ca.jpg","hash":"c4f32a438b69f1a5533a7d45c40371b7229f7b01","modified":1507540761063},{"_id":"source/_posts/201710091601/6e480ad0f8a2f6f8.jpg","hash":"fe844689bef01a6f5c452ccca162a651047ab0eb","modified":1507540761063},{"_id":"source/_posts/201710091601/6e979887453d65b1.jpg","hash":"4309d1a5916cf56fd1003f28694745ea69d37bad","modified":1507540761063},{"_id":"source/_posts/201710091601/744d4a1d9493956f.jpg","hash":"a85fe9ee94035a648daa27fd1c77a18999aaf1c2","modified":1507540761067},{"_id":"source/_posts/201710091601/751bb2b097bb76bf.jpg","hash":"8572522d1f49461397ad9a4b2bfc0ca536fbad19","modified":1507540761067},{"_id":"source/_posts/201710091601/785e0001fc28c841.jpg","hash":"ffff32cf356922b194441a888d9abb7be68b080f","modified":1507540761067},{"_id":"source/_posts/201710091601/7896501557e9646b.jpg","hash":"4cacc74b81e04260fac1fd255c5c3b6940c3448c","modified":1507540761067},{"_id":"source/_posts/201710091601/7977fce67fad7ab2.jpg","hash":"e02bffc0d92fc18fde8119e93c395263faf32ae6","modified":1507540761067},{"_id":"source/_posts/201710091601/7d3f472d90225cb6.jpg","hash":"f2dca5f7e423a3d6a31a91e9d021ec553b6f847f","modified":1507540761063},{"_id":"source/_posts/201710091601/873b13631b0a2d43.jpg","hash":"b119aee541d0b1b60a9755f136178baa1180ad78","modified":1507540761067},{"_id":"source/_posts/201710091601/89d7a010bcc96bca.jpg","hash":"85f606af3db48cf9c484862fa45abd75492487a9","modified":1507540761063},{"_id":"source/_posts/201710091601/8e5ebabc9106f714.jpg","hash":"8b56f395b4c9bedfa36258fcc1fe13203a4f5915","modified":1507540761063},{"_id":"source/_posts/201710091601/8f4b4c50b604bbdf.jpg","hash":"a45d56bd3255a6ae87a80445f4a7c049dc183b29","modified":1507540761063},{"_id":"source/_posts/201710091601/8f82cb2725fa616e.jpg","hash":"e824c65783589ccd1a257e98f1ba6ce44c6189d1","modified":1507540761063},{"_id":"source/_posts/201710091601/939dfa4b1fcc1ce4.jpg","hash":"b2c799d22bfccc3ed88f591b2d50142197f3e81f","modified":1507540761067},{"_id":"source/_posts/201710091601/941e2ac251f1c098.jpg","hash":"af1d838fad72057c51c070dbbfff750125b16727","modified":1507540761067},{"_id":"source/_posts/201710091601/95811662f155207b.jpg","hash":"1ff1b72bdb58ea89d2639445a288974d9c4d7b98","modified":1507540761067},{"_id":"source/_posts/201710091601/95b0d3bf93fe30ff.jpg","hash":"2bf35e04003961d552d87ca95942c850da7e2f40","modified":1507540761063},{"_id":"source/_posts/201710091601/96ac1f339e1a918c.jpg","hash":"a56ced3d2754be1293258af7f40560ee0ea5d90e","modified":1507540761063},{"_id":"source/_posts/201710091601/973098e8bf92ca7d.jpg","hash":"0f77461bdef71697f75bed895f39e45718c853fd","modified":1507540761067},{"_id":"source/_posts/201710091601/99c342e6c648a626.jpg","hash":"a1c5c8a9a68ce827b8c240becfec07b39d31c936","modified":1507540761063},{"_id":"source/_posts/201710091601/9b3ba694564ec5f0.jpg","hash":"a6333525f0be13c6edb586f8909026d20d0634ca","modified":1507540761063},{"_id":"source/_posts/201710091601/9e2505199e03c37c.jpg","hash":"755ce2d8416ad171e50b8fa3b452f759fcf6d958","modified":1507540761063},{"_id":"source/_posts/201710091601/a182ce0049370fe2.jpg","hash":"d0797250d0ce8d3afcffdb7c0ec9da75af554336","modified":1507540761067},{"_id":"source/_posts/201710091601/a5e44268d9368b5e.jpg","hash":"67d0e73b5fbef0185d0572a8416b4540c9ac969a","modified":1507540761067},{"_id":"source/_posts/201710091601/a73157c0e03e0bef.jpg","hash":"e571bb814496352d9a45749c3a6e24e941e73e8a","modified":1507540761067},{"_id":"source/_posts/201710091601/abfe4002d809a330.jpg","hash":"5f06e5dab3ef939ed953cae07e93ea078926db65","modified":1507540761070},{"_id":"source/_posts/201710091601/ad32819d93b8330c.jpg","hash":"d7e8e173945497225be21006a97bbd5dcf56d029","modified":1507540761070},{"_id":"source/_posts/201710091601/ae6370a150336ea8.jpg","hash":"0d98583862a2aafbec539308bb71191eb59f6ede","modified":1507540761070},{"_id":"source/_posts/201710091601/aff21e7004340e15.jpg","hash":"6d0f0953119810c732f10fa144fb3e8cd439a308","modified":1507540761070},{"_id":"source/_posts/201710091601/b121ca70c26deb9b.jpg","hash":"ab16934bda96ed75db9fff6d57e452bd6865199a","modified":1507540761070},{"_id":"source/_posts/201710091601/b169f5c72441e23a.jpg","hash":"b173db6932e770ad9e4099107e36ce4087bae326","modified":1507540761070},{"_id":"source/_posts/201710091601/b1e83ae7831df206.jpg","hash":"d5f055ebc7d65c65b28cd4992001a94e65dca08d","modified":1507540761070},{"_id":"source/_posts/201710091601/b39860a01ad48dc3.jpg","hash":"d3f7579b1d9874c738e19e2d60c68458a64aaa3d","modified":1507540761070},{"_id":"source/_posts/201710091601/b4b3d6a322cdc35d.jpg","hash":"f14cf1fe3e4e881c7f84a91235a4754a10e0cc14","modified":1507540761070},{"_id":"source/_posts/201710091601/b9575e72d62e7474.jpg","hash":"06268d3d3baceb96560a8749815b8c8aa8070a5d","modified":1507540761070},{"_id":"source/_posts/201710091601/ba5c85b09c522978.jpg","hash":"ae978d482f2c839df2c9f842cd304125700f83b8","modified":1507540761070},{"_id":"source/_posts/201710091601/bd5f4888a2ae5a64.jpg","hash":"f5e902eaaf80d747cbb4443ca3ec2815f71cfa0c","modified":1507540761070},{"_id":"source/_posts/201710091601/c1e7b073aa72b3c1.jpg","hash":"c73aa23b52451fd7d4cee9b60115ddf5a40344cf","modified":1507540761070},{"_id":"source/_posts/201710091601/c3138d78572d2472.jpg","hash":"50df7ad61e7750297f9b6fbb1d386630d14d1a78","modified":1507540761070},{"_id":"source/_posts/201710091601/c34e5c68c50e2534.jpg","hash":"ce3bc18f464a3719d42e0ec759ccdd4e43612f99","modified":1507540761070},{"_id":"source/_posts/201710091601/c48ab6841594e0ac.jpg","hash":"0eb7082ff240676e7f6ab929a2bd6d914a74c0e1","modified":1507540761070},{"_id":"source/_posts/201710091601/c4c9fe68e495067a.jpg","hash":"d578679f9f0cf966714836db05406657ef78eecf","modified":1507540761070},{"_id":"source/_posts/201710091601/cbedaa2848096de4.jpg","hash":"4d57db07d0b3d79a74a43d4da98b471d61ff4f5b","modified":1507540761070},{"_id":"source/_posts/201710091601/cdbf09ff9e323ccf.jpg","hash":"9b7b4b719d1c14f3d6cb4db71c08f268a5e6b175","modified":1507540761070},{"_id":"source/_posts/201710091601/d0e16aa7a3eecca7.jpg","hash":"d2942fb53220a548307f2cf3476cfd84de2d3853","modified":1507540761070},{"_id":"source/_posts/201710091601/d547095ccdfa9a70.jpg","hash":"32bcb4821ad50eb2634d308378f11070a4b57cce","modified":1507540761070},{"_id":"source/_posts/201710091601/d6e56c27934793e5.jpg","hash":"2b52b8f2fa93a64cb172eead420884f0ba60b3bf","modified":1507540761070},{"_id":"source/_posts/201710091601/d805875fea4f71d5.jpg","hash":"a15a8021864e5057914041700d437aaab1462ded","modified":1507540761070},{"_id":"source/_posts/201710091601/d9fd15b03ad56209.jpg","hash":"6f85fe0c474e3080a9ef0bbc458c09361dce64aa","modified":1507540761070},{"_id":"source/_posts/201710091601/d84386cd9bcedc8f.jpg","hash":"27f834498a0f484989c954ebd96941e6c559f9dc","modified":1507540761070},{"_id":"source/_posts/201710091601/e0b95334d12d044f.jpg","hash":"756cfe15c2c796a2156347ce8b6aafae01d03050","modified":1507540761070},{"_id":"source/_posts/201710091601/e0bb2f4c6b455757.jpg","hash":"b527a7706f26ce803db0e284179fee84b8457b5a","modified":1507540761070},{"_id":"source/_posts/201710091601/e53df4dd51341905.jpg","hash":"86da1f35da29b42db95549414dc8f6fe262b6e18","modified":1507540761073},{"_id":"source/_posts/201710091601/e5aa907519fce1c0.jpg","hash":"5b8fd015ef1e7a1a8bad96cb000ca6786a8fe1da","modified":1507540761070},{"_id":"source/_posts/201710091601/e620aae6ab7c8e13.jpg","hash":"4b34ab12f32a2b3c00bc863c744d8dd367a2ac6c","modified":1507540761073},{"_id":"source/_posts/201710091601/e649a7b010a24b60.jpg","hash":"5fec9f5f099cc927a275116e29e33af0fbaed70b","modified":1507540761073},{"_id":"source/_posts/201710091601/e6eaabb5e0327380.jpg","hash":"aae8af8282152037112fe8455574c24095dddc3f","modified":1507540761070},{"_id":"source/_posts/201710091601/e83ee1ff8a839a1c.jpg","hash":"f58c0d8698602cbdac97a93587b093d92d38f790","modified":1507540761073},{"_id":"source/_posts/201710091601/eb9fae41092bd441.jpg","hash":"c612e91b1e00b061a6f406b00fd4edb90e6b51d1","modified":1507540761073},{"_id":"source/_posts/201710091601/f10b4296db3e0a05.jpg","hash":"ba7ee6ef91f12dd4b8bb86715200c3e1e0310c54","modified":1507540761073},{"_id":"source/_posts/201710091601/f410bb787d1fb33f.jpg","hash":"0289aa17eda8bf280e456c68fa0e0cae96c31383","modified":1507540761073},{"_id":"source/_posts/201710091601/f48bf0716013ac11.jpg","hash":"4fe45f6b3c8021883eb28316e0fc6542eacb4640","modified":1507540761073},{"_id":"source/_posts/201710091601/f9120d53fb7c396b.jpg","hash":"02f7cbe27e9a1c5e30349261edd61eab0a957857","modified":1507540761073},{"_id":"source/_posts/201710091601/f92ff5e1e860a45c.jpg","hash":"86a2bc112cd300a0921726a1b124f0ba9b85a7a8","modified":1507540761073},{"_id":"source/_posts/201710091601/fb218f399632a938.jpg","hash":"95fd1d790d94f9f8d0b2f4821c5c0f3be768c186","modified":1507540761073},{"_id":"source/_posts/201710091601/fb85018c73538669.jpg","hash":"04d12b71b7854f521d5f7be256fbb77ef3f7b549","modified":1507540761073},{"_id":"source/_posts/201710091643/031b589e22e15416.jpg","hash":"a960076d215f95b3414ce08ecafea261193c6bbc","modified":1507540761077},{"_id":"source/_posts/201710091643/06132485ab59545a.jpg","hash":"d539713225e1613f848c1dd9f07042a0c142a0f1","modified":1507540761080},{"_id":"source/_posts/201710091643/06c092ba2bbcc190.jpg","hash":"073e575d1995d805632442bc726679da8f6022f2","modified":1507540761073},{"_id":"source/_posts/201710091643/0afa78fbca1dc288.jpg","hash":"4382b01aa479cd2bccfa3042c7fb596eec583c02","modified":1507540761073},{"_id":"source/_posts/201710091643/0c837e38c20eba10.jpg","hash":"38ce53fd4341ee7bdba1a649f6570459eba4877f","modified":1507540761073},{"_id":"source/_posts/201710091643/0cfc23cd25d88711.jpg","hash":"25a99d2492006bfafb92c778664e7b4c5e61d435","modified":1507540761073},{"_id":"source/_posts/201710091643/0e655e34fd585501.jpg","hash":"aeed89c8d0fb08cc620187070838b552b4fc1aed","modified":1507540761073},{"_id":"source/_posts/201710091643/0feee6754fbdf152.jpg","hash":"872dc8a5ea43e24464c6f500410110687294aa50","modified":1507540761073},{"_id":"source/_posts/201710091643/1508a77d6a8ea1c8.jpg","hash":"2704449a3940c696ceb27a651f05d2cfa699fd24","modified":1507540761080},{"_id":"source/_posts/201710091643/180a716339eaac7d.jpg","hash":"7a6c6c8e25683e225e9bee3d4736b307ccb078c5","modified":1507540761077},{"_id":"source/_posts/201710091601/4812df9dc90e7725.jpg","hash":"defc040ebec8dd818d92c8baf009252fc2c8e09c","modified":1507540761067},{"_id":"source/_posts/201710091643/1a594160a1ba91e0.jpg","hash":"9ce3fe356a9d7065af025a19b419d84ffb6c4dd0","modified":1507540761073},{"_id":"source/_posts/201710091643/2324f721115c3785.jpg","hash":"32418051355737fe2a03df53b50b450bfdaaf253","modified":1507540761080},{"_id":"source/_posts/201710091643/1cda4b829db27966.jpg","hash":"432d30c15bf0b0d6890eba587e9142300c5f73a5","modified":1507540761073},{"_id":"source/_posts/201710091643/2354389b190af5b4.jpg","hash":"29900846608d69163a94d835b86a10c05c367d0d","modified":1507540761080},{"_id":"source/_posts/201710091643/266f5cf2a5c7db28.jpg","hash":"5db6b4a52ec984163a7954ebc3a7dd51bce9461f","modified":1507540761077},{"_id":"source/_posts/201710091643/2a5be182dfce2f21.jpg","hash":"bd56381ced5575a4f63756c1bf4d07e634b7b532","modified":1507540761073},{"_id":"source/_posts/201710091643/2d6ca36262af1fb1.jpg","hash":"339c9816496142c2f27f32eef648ae6743f02eab","modified":1507540761073},{"_id":"source/_posts/201710091643/2f56d5f920ff1ade.jpg","hash":"a9a48c1c32e8ffaee945406bb7c7e07605eae54f","modified":1507540761073},{"_id":"source/_posts/201710091643/2d95d2595ef8cf3b.jpg","hash":"3f82a10578ed5229e985c875dc874ba7ebad6729","modified":1507540761073},{"_id":"source/_posts/201710091643/3d6c3c2b7962e631.jpg","hash":"289fef44fa607816f3ceecac2b3fab779e893942","modified":1507540761073},{"_id":"source/_posts/201710091643/42997c9404fbb3c5.jpg","hash":"194e3c9d06e34ad924903459df1f03fea74a7e0b","modified":1507540761080},{"_id":"source/_posts/201710091643/48071838f3615424.jpg","hash":"a0057cdec1b9df02bdb117d0bf8527f9968edbef","modified":1507540761080},{"_id":"source/_posts/201710091643/4812df9dc90e7725.jpg","hash":"defc040ebec8dd818d92c8baf009252fc2c8e09c","modified":1507540761080},{"_id":"source/_posts/201710091643/4c9a2f038cdaeb71.jpg","hash":"8fd14f3e165de0e421fa372f5ce60a68af2591fb","modified":1507540761073},{"_id":"source/_posts/201710091643/551b7ab676551748.jpg","hash":"b80585902e24b1c169c0b49bb424cf888b058594","modified":1507540761077},{"_id":"source/_posts/201710091643/566bae7cacf04cc7.jpg","hash":"0409ef7e5b2bdbc55d8d1183ec2122dad147d095","modified":1507540761077},{"_id":"source/_posts/201710091643/5691d99da449aeb2.jpg","hash":"fff9482807003b97180733cce50c20e214d48961","modified":1507540761080},{"_id":"source/_posts/201710091643/5a74c07b6f07c6d7.jpg","hash":"6bcef3017dd557affbf4b2f77afdfaa3993bd735","modified":1507540761073},{"_id":"source/_posts/201710091643/5b4ae1ddf38c5bac.jpg","hash":"21504c5548218278acd7f65c87ac33b6b735ee90","modified":1507540761073},{"_id":"source/_posts/201710091643/5cf991d40fd5681e.jpg","hash":"1d04c303e5d74162308b6e553146734c2cd00055","modified":1507540761073},{"_id":"source/_posts/201710091643/6062c404ce14a9d1.jpg","hash":"97a1767bdf8dcc0c523ce63f7e111330a9915348","modified":1507540761080},{"_id":"source/_posts/201710091643/61e865e896205541.jpg","hash":"7ed1c00ff40cce7f9fade9c87fcab08ab3d7ad03","modified":1507540761077},{"_id":"source/_posts/201710091643/62ab2af515b36b54.jpg","hash":"caaf310a6726a094443321ddc14748c0185d64cd","modified":1507540761077},{"_id":"source/_posts/201710091643/633b5face3642b7c.jpg","hash":"da4cd75081184add38c36fd09380b9dd23e2d4bc","modified":1507540761077},{"_id":"source/_posts/201710091643/63d531446c748da6.jpg","hash":"95670faabc64e724d9d760385ba53a5d6dbd928f","modified":1507540761077},{"_id":"source/_posts/201710091643/66e88f1227120852.jpg","hash":"1498bd82b17e2279eeae103fe237c9da8faefc61","modified":1507540761077},{"_id":"source/_posts/201710091643/6848d154f70459a4.jpg","hash":"b2629f49f8b7d8334234f02aa3f580f320df096b","modified":1507540761080},{"_id":"source/_posts/201710091643/6a9abbd5bcd8ae9b.jpg","hash":"c39b6a82fefdc354421bfb421a3b688ab8915f3e","modified":1507540761073},{"_id":"source/_posts/201710091643/6cbc855c0e0788ca.jpg","hash":"c4f32a438b69f1a5533a7d45c40371b7229f7b01","modified":1507540761073},{"_id":"source/_posts/201710091643/6e480ad0f8a2f6f8.jpg","hash":"fe844689bef01a6f5c452ccca162a651047ab0eb","modified":1507540761073},{"_id":"source/_posts/201710091643/6e979887453d65b1.jpg","hash":"4309d1a5916cf56fd1003f28694745ea69d37bad","modified":1507540761073},{"_id":"source/_posts/201710091643/744d4a1d9493956f.jpg","hash":"a85fe9ee94035a648daa27fd1c77a18999aaf1c2","modified":1507540761077},{"_id":"source/_posts/201710091643/751bb2b097bb76bf.jpg","hash":"8572522d1f49461397ad9a4b2bfc0ca536fbad19","modified":1507540761077},{"_id":"source/_posts/201710091643/785e0001fc28c841.jpg","hash":"ffff32cf356922b194441a888d9abb7be68b080f","modified":1507540761077},{"_id":"source/_posts/201710091643/7896501557e9646b.jpg","hash":"4cacc74b81e04260fac1fd255c5c3b6940c3448c","modified":1507540761080},{"_id":"source/_posts/201710091643/7977fce67fad7ab2.jpg","hash":"e02bffc0d92fc18fde8119e93c395263faf32ae6","modified":1507540761080},{"_id":"source/_posts/201710091643/7d3f472d90225cb6.jpg","hash":"f2dca5f7e423a3d6a31a91e9d021ec553b6f847f","modified":1507540761077},{"_id":"source/_posts/201710091643/873b13631b0a2d43.jpg","hash":"b119aee541d0b1b60a9755f136178baa1180ad78","modified":1507540761077},{"_id":"source/_posts/201710091643/89d7a010bcc96bca.jpg","hash":"85f606af3db48cf9c484862fa45abd75492487a9","modified":1507540761077},{"_id":"source/_posts/201710091643/8e5ebabc9106f714.jpg","hash":"8b56f395b4c9bedfa36258fcc1fe13203a4f5915","modified":1507540761077},{"_id":"source/_posts/201710091643/8f4b4c50b604bbdf.jpg","hash":"a45d56bd3255a6ae87a80445f4a7c049dc183b29","modified":1507540761077},{"_id":"source/_posts/201710091643/8f82cb2725fa616e.jpg","hash":"e824c65783589ccd1a257e98f1ba6ce44c6189d1","modified":1507540761077},{"_id":"source/_posts/201710091643/939dfa4b1fcc1ce4.jpg","hash":"b2c799d22bfccc3ed88f591b2d50142197f3e81f","modified":1507540761077},{"_id":"source/_posts/201710091643/941e2ac251f1c098.jpg","hash":"af1d838fad72057c51c070dbbfff750125b16727","modified":1507540761080},{"_id":"source/_posts/201710091643/95811662f155207b.jpg","hash":"1ff1b72bdb58ea89d2639445a288974d9c4d7b98","modified":1507540761080},{"_id":"source/_posts/201710091643/95b0d3bf93fe30ff.jpg","hash":"2bf35e04003961d552d87ca95942c850da7e2f40","modified":1507540761077},{"_id":"source/_posts/201710091643/96ac1f339e1a918c.jpg","hash":"a56ced3d2754be1293258af7f40560ee0ea5d90e","modified":1507540761077},{"_id":"source/_posts/201710091643/973098e8bf92ca7d.jpg","hash":"0f77461bdef71697f75bed895f39e45718c853fd","modified":1507540761080},{"_id":"source/_posts/201710091643/99c342e6c648a626.jpg","hash":"a1c5c8a9a68ce827b8c240becfec07b39d31c936","modified":1507540761077},{"_id":"source/_posts/201710091643/9b3ba694564ec5f0.jpg","hash":"a6333525f0be13c6edb586f8909026d20d0634ca","modified":1507540761077},{"_id":"source/_posts/201710091643/9e2505199e03c37c.jpg","hash":"755ce2d8416ad171e50b8fa3b452f759fcf6d958","modified":1507540761077},{"_id":"source/_posts/201710091643/a182ce0049370fe2.jpg","hash":"d0797250d0ce8d3afcffdb7c0ec9da75af554336","modified":1507540761080},{"_id":"source/_posts/201710091643/a5e44268d9368b5e.jpg","hash":"67d0e73b5fbef0185d0572a8416b4540c9ac969a","modified":1507540761080},{"_id":"source/_posts/201710091643/a73157c0e03e0bef.jpg","hash":"e571bb814496352d9a45749c3a6e24e941e73e8a","modified":1507540761080},{"_id":"source/_posts/201710091643/abfe4002d809a330.jpg","hash":"5f06e5dab3ef939ed953cae07e93ea078926db65","modified":1507540761080},{"_id":"source/_posts/201710091643/ad32819d93b8330c.jpg","hash":"d7e8e173945497225be21006a97bbd5dcf56d029","modified":1507540761080},{"_id":"source/_posts/201710091643/ae6370a150336ea8.jpg","hash":"0d98583862a2aafbec539308bb71191eb59f6ede","modified":1507540761080},{"_id":"source/_posts/201710091643/aff21e7004340e15.jpg","hash":"6d0f0953119810c732f10fa144fb3e8cd439a308","modified":1507540761080},{"_id":"source/_posts/201710091643/b121ca70c26deb9b.jpg","hash":"ab16934bda96ed75db9fff6d57e452bd6865199a","modified":1507540761080},{"_id":"source/_posts/201710091643/b169f5c72441e23a.jpg","hash":"b173db6932e770ad9e4099107e36ce4087bae326","modified":1507540761080},{"_id":"source/_posts/201710091643/b1e83ae7831df206.jpg","hash":"d5f055ebc7d65c65b28cd4992001a94e65dca08d","modified":1507540761080},{"_id":"source/_posts/201710091643/b39860a01ad48dc3.jpg","hash":"d3f7579b1d9874c738e19e2d60c68458a64aaa3d","modified":1507540761080},{"_id":"source/_posts/201710091643/b4b3d6a322cdc35d.jpg","hash":"f14cf1fe3e4e881c7f84a91235a4754a10e0cc14","modified":1507540761080},{"_id":"source/_posts/201710091643/b9575e72d62e7474.jpg","hash":"06268d3d3baceb96560a8749815b8c8aa8070a5d","modified":1507540761080},{"_id":"source/_posts/201710091643/ba5c85b09c522978.jpg","hash":"ae978d482f2c839df2c9f842cd304125700f83b8","modified":1507540761080},{"_id":"source/_posts/201710091643/bd5f4888a2ae5a64.jpg","hash":"f5e902eaaf80d747cbb4443ca3ec2815f71cfa0c","modified":1507540761080},{"_id":"source/_posts/201710091643/c1e7b073aa72b3c1.jpg","hash":"c73aa23b52451fd7d4cee9b60115ddf5a40344cf","modified":1507540761080},{"_id":"source/_posts/201710091643/c3138d78572d2472.jpg","hash":"50df7ad61e7750297f9b6fbb1d386630d14d1a78","modified":1507540761080},{"_id":"source/_posts/201710091643/c34e5c68c50e2534.jpg","hash":"ce3bc18f464a3719d42e0ec759ccdd4e43612f99","modified":1507540761080},{"_id":"source/_posts/201710091643/c48ab6841594e0ac.jpg","hash":"0eb7082ff240676e7f6ab929a2bd6d914a74c0e1","modified":1507540761080},{"_id":"source/_posts/201710091643/c4c9fe68e495067a.jpg","hash":"d578679f9f0cf966714836db05406657ef78eecf","modified":1507540761080},{"_id":"source/_posts/201710091643/cbedaa2848096de4.jpg","hash":"4d57db07d0b3d79a74a43d4da98b471d61ff4f5b","modified":1507540761080},{"_id":"source/_posts/201710091643/cdbf09ff9e323ccf.jpg","hash":"9b7b4b719d1c14f3d6cb4db71c08f268a5e6b175","modified":1507540761080},{"_id":"source/_posts/201710091643/d0e16aa7a3eecca7.jpg","hash":"d2942fb53220a548307f2cf3476cfd84de2d3853","modified":1507540761080},{"_id":"source/_posts/201710091643/d547095ccdfa9a70.jpg","hash":"32bcb4821ad50eb2634d308378f11070a4b57cce","modified":1507540761080},{"_id":"source/_posts/201710091643/d6e56c27934793e5.jpg","hash":"2b52b8f2fa93a64cb172eead420884f0ba60b3bf","modified":1507540761080},{"_id":"source/_posts/201710091643/d805875fea4f71d5.jpg","hash":"a15a8021864e5057914041700d437aaab1462ded","modified":1507540761080},{"_id":"source/_posts/201710091643/d84386cd9bcedc8f.jpg","hash":"27f834498a0f484989c954ebd96941e6c559f9dc","modified":1507540761080},{"_id":"source/_posts/201710091643/d9fd15b03ad56209.jpg","hash":"6f85fe0c474e3080a9ef0bbc458c09361dce64aa","modified":1507540761080},{"_id":"source/_posts/201710091643/e0b95334d12d044f.jpg","hash":"756cfe15c2c796a2156347ce8b6aafae01d03050","modified":1507540761080},{"_id":"source/_posts/201710091643/e0bb2f4c6b455757.jpg","hash":"b527a7706f26ce803db0e284179fee84b8457b5a","modified":1507540761080},{"_id":"source/_posts/201710091643/e53df4dd51341905.jpg","hash":"86da1f35da29b42db95549414dc8f6fe262b6e18","modified":1507540761083},{"_id":"source/_posts/201710091643/e5aa907519fce1c0.jpg","hash":"5b8fd015ef1e7a1a8bad96cb000ca6786a8fe1da","modified":1507540761083},{"_id":"source/_posts/201710091643/e620aae6ab7c8e13.jpg","hash":"4b34ab12f32a2b3c00bc863c744d8dd367a2ac6c","modified":1507540761083},{"_id":"source/_posts/201710091643/e649a7b010a24b60.jpg","hash":"5fec9f5f099cc927a275116e29e33af0fbaed70b","modified":1507540761083},{"_id":"source/_posts/201710091643/e6eaabb5e0327380.jpg","hash":"aae8af8282152037112fe8455574c24095dddc3f","modified":1507540761083},{"_id":"source/_posts/201710091643/e83ee1ff8a839a1c.jpg","hash":"f58c0d8698602cbdac97a93587b093d92d38f790","modified":1507540761083},{"_id":"source/_posts/201710091643/eb9fae41092bd441.jpg","hash":"c612e91b1e00b061a6f406b00fd4edb90e6b51d1","modified":1507540761083},{"_id":"source/_posts/201710091643/f10b4296db3e0a05.jpg","hash":"ba7ee6ef91f12dd4b8bb86715200c3e1e0310c54","modified":1507540761083},{"_id":"source/_posts/201710091643/f410bb787d1fb33f.jpg","hash":"0289aa17eda8bf280e456c68fa0e0cae96c31383","modified":1507540761083},{"_id":"source/_posts/201710091643/f48bf0716013ac11.jpg","hash":"4fe45f6b3c8021883eb28316e0fc6542eacb4640","modified":1507540761083},{"_id":"source/_posts/201710091643/f9120d53fb7c396b.jpg","hash":"02f7cbe27e9a1c5e30349261edd61eab0a957857","modified":1507540761083},{"_id":"source/_posts/201710091643/f92ff5e1e860a45c.jpg","hash":"86a2bc112cd300a0921726a1b124f0ba9b85a7a8","modified":1507540761083},{"_id":"source/_posts/201710091643/fb218f399632a938.jpg","hash":"95fd1d790d94f9f8d0b2f4821c5c0f3be768c186","modified":1507540761083},{"_id":"source/_posts/201710091643/fb85018c73538669.jpg","hash":"04d12b71b7854f521d5f7be256fbb77ef3f7b549","modified":1507540761083},{"_id":"themes/yilia/layout/_partial/archive-post.ejs","hash":"1f7d4819b7f67602c4a1b99871808d2160b60978","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/archive.ejs","hash":"a6e94061ac55b9eb55275f87b608d62f6ea35659","modified":1507540761093},{"_id":"source/_posts/201710091643/21eef25b932cef4f.jpg","hash":"ebf9581f32f5e8ceeaa89f81828d03484a022e4a","modified":1507540761077},{"_id":"themes/yilia/layout/_partial/after-footer.ejs","hash":"b86b248720ad415ec1b5fee53fb583776c776f83","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/article.ejs","hash":"630c6ec866d056657d3d91e34b4c64eb993c0654","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/aside.ejs","hash":"8edbd7993b9b061611a193533a664e2e85eae748","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/baidu-analytics.ejs","hash":"f0e6e88f9f7eb08b8fe51449a8a3016273507924","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/css.ejs","hash":"b011d92be321ebe09fa2b3179c08aa435b9d051c","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/footer.ejs","hash":"f2994e0acd1d606ebf4680afc4fa652e148ccf4e","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/head.ejs","hash":"64f092186b5a744aa1603ce22bb1d44a34446add","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/header.ejs","hash":"6387a93dad7c3d778eb91e3821852fbf6813880c","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/left-col.ejs","hash":"183d7ca4ba8e7c80694ffdc8cf39957092238346","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/mathjax.ejs","hash":"151a1ef2173ba7b6789d349f0f8da89616cc1394","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/mobile-nav.ejs","hash":"7fbbfabf5e29525b24ada14613c21a26789132b4","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/tools.ejs","hash":"c41341b9618e591538e1136a2d1637587c1bbd90","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/viewer.ejs","hash":"e495790b2abe2290875817e42bd505bc611d3e26","modified":1507540761093},{"_id":"themes/yilia/source/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1507540761097},{"_id":"themes/yilia/source/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1507540761097},{"_id":"themes/yilia/source/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1507540761097},{"_id":"themes/yilia/source/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1507540761097},{"_id":"themes/yilia/source/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1507540761097},{"_id":"themes/yilia/source/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1507540761097},{"_id":"themes/yilia/source/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1507540761097},{"_id":"themes/yilia/source/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1507540761097},{"_id":"themes/yilia/source/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1507540761097},{"_id":"themes/yilia/source-src/css/_core.scss","hash":"24f347a2412abbf58318369152504da9538f8d3b","modified":1507540761093},{"_id":"themes/yilia/source-src/css/_function.scss","hash":"93a50dd19a93485712da1f8d0a1672482dd1eabc","modified":1507540761093},{"_id":"themes/yilia/source-src/css/archive.scss","hash":"7d27e22ac898e8fafec14549e940c73cbea1fba8","modified":1507540761093},{"_id":"themes/yilia/source-src/css/article-inner.scss","hash":"d79f2d35a06de83a2a226ca790b7a0a34789c115","modified":1507540761093},{"_id":"themes/yilia/source-src/css/article-main.scss","hash":"3fad68bd74260326f83090b0974dd80707e7bac7","modified":1507540761093},{"_id":"themes/yilia/source-src/css/article-nav.scss","hash":"43e507f2a48504079afd9471353337e23ca47470","modified":1507540761093},{"_id":"themes/yilia/source-src/css/article.scss","hash":"0f6d61af99ed4db87f8589db1feaea7747b55963","modified":1507540761097},{"_id":"themes/yilia/source-src/css/aside.scss","hash":"578a67464dd0f542197f7fcee158c991db058563","modified":1507540761097},{"_id":"themes/yilia/source-src/css/comment.scss","hash":"cafe3834017a3bf47420f37543725025225a2c89","modified":1507540761097},{"_id":"themes/yilia/source-src/css/fonts.scss","hash":"97b8fba41c914145710b90091f400b845879577f","modified":1507540761097},{"_id":"themes/yilia/source-src/css/footer.scss","hash":"7c995410b25baaf61dfc5e148e22ca60330abcd3","modified":1507540761097},{"_id":"themes/yilia/source-src/css/global.scss","hash":"b4cb4f45a55d4250cd9056f76dab2a3c0dabcec4","modified":1507540761097},{"_id":"themes/yilia/source-src/css/grid.scss","hash":"849a29fcd7150214fcf7b9715fa5dc71d1f9b896","modified":1507540761097},{"_id":"themes/yilia/source-src/css/highlight.scss","hash":"3719994c2c9393813cc1d42b657205c368a329cb","modified":1507540761097},{"_id":"themes/yilia/source-src/css/left.scss","hash":"0d30c0e7cdb831c3881a017006c782f2214ac195","modified":1507540761097},{"_id":"themes/yilia/source-src/css/main.scss","hash":"2f86a014af93583caba78a563d9549826bf28294","modified":1507540761097},{"_id":"themes/yilia/source-src/css/mobile-slider.scss","hash":"f053c609d84df0dd9eee1d11ddf0c19163a456be","modified":1507540761097},{"_id":"themes/yilia/source-src/css/mobile.scss","hash":"ace041d72f95b419f6a5e443191703c2b62007f4","modified":1507540761097},{"_id":"themes/yilia/source-src/css/page.scss","hash":"bf206bb7f7d0967bc8b7fdf01b7ffc99aff9ba88","modified":1507540761097},{"_id":"themes/yilia/source-src/css/reward.scss","hash":"80a4fcf9171d4a33235da96ac8a2b7dcabc45dfb","modified":1507540761097},{"_id":"themes/yilia/source-src/css/scroll.scss","hash":"9c8dfd1c76854ef063494ca76fac6360b391ed6d","modified":1507540761097},{"_id":"themes/yilia/source-src/css/share.scss","hash":"150c6425f6582e7ec78a873256ce49c9930e8805","modified":1507540761097},{"_id":"themes/yilia/source-src/css/social.scss","hash":"724162ccf3977e70a45d189abfaa20b6e2fba87b","modified":1507540761097},{"_id":"themes/yilia/source-src/css/tags-cloud.scss","hash":"c8aa84fca93862d3caae77c552873b8610f33327","modified":1507540761097},{"_id":"themes/yilia/source-src/css/tags.scss","hash":"ac67a3c7097849206244db9b0ba91daaba017ef5","modified":1507540761097},{"_id":"themes/yilia/source-src/css/tools.scss","hash":"1b1aa0908e58cf942b28e3881d07c5573c4129e1","modified":1507540761097},{"_id":"themes/yilia/source-src/css/tooltip.scss","hash":"53d5a554bc2f38e9bb3d26400a47767013c05216","modified":1507540761097},{"_id":"themes/yilia/source-src/js/Q.js","hash":"d011af172064b6c6e0c7051d8f9879373ddac113","modified":1507540761097},{"_id":"themes/yilia/source-src/js/anm.js","hash":"4a4c5d82b09a3063f91a434388e6aa064fd7fd98","modified":1507540761097},{"_id":"themes/yilia/source-src/js/aside.js","hash":"754f771264548a6c5a8ad842908e59ae4e7ed099","modified":1507540761097},{"_id":"themes/yilia/source-src/js/browser.js","hash":"04095b38cfd4316a23f8eb14b1ffaf95f78a4260","modified":1507540761097},{"_id":"themes/yilia/source-src/js/fix.js","hash":"7f9599ffd5c5551538e90b97023e7d6c599d1ee6","modified":1507540761097},{"_id":"themes/yilia/source-src/js/main.js","hash":"3894e60827c817319e43c9ff3ed045fc3d7336ce","modified":1507540761097},{"_id":"themes/yilia/source-src/js/mobile.js","hash":"4d823b039fd296d24a454eae5a798b93c44560cb","modified":1507540761097},{"_id":"themes/yilia/source-src/js/report.js","hash":"4f1d9a18a936ce40b037f636a39127dd19175b6e","modified":1507540761097},{"_id":"themes/yilia/source-src/js/share.js","hash":"b090f82cf80cba7da764753906d9e2cc2acdf30d","modified":1507540761097},{"_id":"themes/yilia/source-src/js/slider.js","hash":"e846bcc5aac9c68b93f7b8de353df54d8d29f666","modified":1507540761097},{"_id":"themes/yilia/source-src/js/util.js","hash":"8456e9d6b19532742582c99b2fb9d09e146e1c58","modified":1507540761097},{"_id":"themes/yilia/source-src/js/viewer.js","hash":"e8a35d4497fe1e0f119662ae08bd8404e5dab2a4","modified":1507540761097},{"_id":"source/_posts/201710091601/07d3ef73b5c3f8ce.jpg","hash":"7f6a07ae54c128ab528bba8d8249db3f63af3628","modified":1507540761063},{"_id":"source/_posts/201710091601/1673c7249c05f467.jpg","hash":"463d8267a7742c21f99350c07dc64bb738370d3e","modified":1507540761067},{"_id":"source/_posts/201710091601/1d6b5e876b43563e.jpg","hash":"254c9a770214fc5a7e0802ab2d873fa48d930f61","modified":1507540761060},{"_id":"source/_posts/201710091601/32e3eb023f6ee3ba.jpg","hash":"5a3cfde215322b3d7f9b0d1a8898cc17921c7599","modified":1507540761063},{"_id":"source/_posts/201710091601/339c821002d465d5.jpg","hash":"b1d3fcb9c19508b5e60b98fb4560deb64ec44e1a","modified":1507540761067},{"_id":"source/_posts/201710091601/37bfc853a59b3cea.jpg","hash":"6e9c2d14d77545de8737825dcd6fb6e1befa6d3d","modified":1507540761063},{"_id":"source/_posts/201710091601/42d722931576c18a.jpg","hash":"e200a5ca584e6fadcf99e5afeac0598b98a9103c","modified":1507540761063},{"_id":"source/_posts/201710091601/528dcf36c7d52e6e.jpg","hash":"3e4feb9e3f2e7a85f4337f04e728505646032121","modified":1507540761067},{"_id":"source/_posts/201710091601/545eaec054fd5218.jpg","hash":"d78033d1dcfd9cc79e2e29fe09f677ea7c069d17","modified":1507540761067},{"_id":"source/_posts/201710091601/5ae453ac46cb1abd.jpg","hash":"32e1b7938f75c0e0552adb93e6128a679b361aa0","modified":1507540761060},{"_id":"source/_posts/201710091601/73411fbff77a7f7f.jpg","hash":"50d6c8ddcb327e507de936f0d3bb438d10d96639","modified":1507540761067},{"_id":"source/_posts/201710091601/7775353d41d1249a.jpg","hash":"a098164b065a69d0a66efde33db39ea8201fb307","modified":1507540761067},{"_id":"source/_posts/201710091601/89edccb8d8efc05c.jpg","hash":"36bc1cdd0bcb806ab9ed29a038cd3120814b7112","modified":1507540761063},{"_id":"source/_posts/201710091601/8f64eab0ae66fc3a.jpg","hash":"218650b02e2aaf3085d17c68590161737823edf9","modified":1507540761063},{"_id":"source/_posts/201710091601/8ff306dda9496ae3.jpg","hash":"126ef4ee1a2908120c50cadf4b88e7062d346546","modified":1507540761063},{"_id":"source/_posts/201710091601/9aecf98177c7cca2.jpg","hash":"2f491a739d7bdc22cb03fc05337cef6a6edee086","modified":1507540761063},{"_id":"source/_posts/201710091601/9f4a8ebbc574434d.jpg","hash":"57747b4761c3420157e6148260c27af80a3f37b2","modified":1507540761063},{"_id":"source/_posts/201710091601/a20500ba11982b27.jpg","hash":"65e3bc80018da86053e0685ca7e38c3145b1fcfa","modified":1507540761067},{"_id":"source/_posts/201710091601/a2709486cef98dd9.jpg","hash":"64fa50da65a64fcd94974d24ff6075b6277116e0","modified":1507540761067},{"_id":"source/_posts/201710091601/a88904ba22eff8e8.jpg","hash":"37a16b5017cddb36e801748005d18008eca2ee43","modified":1507540761067},{"_id":"source/_posts/201710091601/af16537d53144f5b.jpg","hash":"1f3feeb7c80dd10c88ef47bbcb4007208a2d8f67","modified":1507540761070},{"_id":"source/_posts/201710091601/b1969927bd8996fc.jpg","hash":"6b4a4c7ce2128a3c03bd3fda53e47d3a43084d4a","modified":1507540761070},{"_id":"source/_posts/201710091601/b54c525c75ddad2c.jpg","hash":"b0e1675b7c960a5709d5f22d3990593ff94a5862","modified":1507540761070},{"_id":"source/_posts/201710091601/c50e8879ac7789e9.jpg","hash":"4e50923c18bd46ef56ffcb76df90383edb51b4a7","modified":1507540761070},{"_id":"source/_posts/201710091601/d4c4710cfbbb1b48.jpg","hash":"f281ab730895dd1d36b907a9e22e7fdf86f60fd6","modified":1507540761070},{"_id":"source/_posts/201710091601/d52ef53e746bc4cb.jpg","hash":"ea797a2b34406c7230445a82a9de6c3aeb297c8b","modified":1507540761070},{"_id":"source/_posts/201710091601/e0099648baa42e6f.jpg","hash":"2f8dba71abe8e40da15fd5fdfd196a420218993c","modified":1507540761073},{"_id":"source/_posts/201710091601/e01e25032e3cd3a8.jpg","hash":"a3ec9f4e6011998debf879229f63abf8724a182a","modified":1507540761070},{"_id":"source/_posts/201710091601/e0b981f651d23679.jpg","hash":"c0b079a856cc495f925a7599fe2f74a53849c4d8","modified":1507540761070},{"_id":"source/_posts/201710091601/e696685082cabdab.jpg","hash":"1ec94e8d2c8bccb786d74550b0d0a55eb3fd447c","modified":1507540761073},{"_id":"source/_posts/201710091601/f4526c5a2570e5b2.jpg","hash":"0722f0f620920b103692a0048c89bad387ecc090","modified":1507540761073},{"_id":"source/_posts/201710091601/f48dc945f00e213f.jpg","hash":"55385f1d5221b46e710bc5f91400ce93e1e26dff","modified":1507540761073},{"_id":"source/_posts/201710091601/fba20274fc7b6174.jpg","hash":"5f1fe4a144bec40e2cd894e07f73854819e73945","modified":1507540761073},{"_id":"source/_posts/201710091643/07d3ef73b5c3f8ce.jpg","hash":"7f6a07ae54c128ab528bba8d8249db3f63af3628","modified":1507540761073},{"_id":"source/_posts/201710091643/1673c7249c05f467.jpg","hash":"463d8267a7742c21f99350c07dc64bb738370d3e","modified":1507540761080},{"_id":"source/_posts/201710091601/50b60481426d3afd.jpg","hash":"e9ca53ec40998003e538c925a107b98e4eb2b278","modified":1507540761063},{"_id":"source/_posts/201710091643/1d6b5e876b43563e.jpg","hash":"254c9a770214fc5a7e0802ab2d873fa48d930f61","modified":1507540761073},{"_id":"source/_posts/201710091643/32e3eb023f6ee3ba.jpg","hash":"5a3cfde215322b3d7f9b0d1a8898cc17921c7599","modified":1507540761077},{"_id":"source/_posts/201710091643/339c821002d465d5.jpg","hash":"b1d3fcb9c19508b5e60b98fb4560deb64ec44e1a","modified":1507540761077},{"_id":"source/_posts/201710091643/37bfc853a59b3cea.jpg","hash":"6e9c2d14d77545de8737825dcd6fb6e1befa6d3d","modified":1507540761077},{"_id":"source/_posts/201710091643/42d722931576c18a.jpg","hash":"e200a5ca584e6fadcf99e5afeac0598b98a9103c","modified":1507540761077},{"_id":"source/_posts/201710091643/50b60481426d3afd.jpg","hash":"e9ca53ec40998003e538c925a107b98e4eb2b278","modified":1507540761077},{"_id":"source/_posts/201710091643/528dcf36c7d52e6e.jpg","hash":"3e4feb9e3f2e7a85f4337f04e728505646032121","modified":1507540761077},{"_id":"source/_posts/201710091643/545eaec054fd5218.jpg","hash":"d78033d1dcfd9cc79e2e29fe09f677ea7c069d17","modified":1507540761077},{"_id":"source/_posts/201710091643/5ae453ac46cb1abd.jpg","hash":"32e1b7938f75c0e0552adb93e6128a679b361aa0","modified":1507540761073},{"_id":"source/_posts/201710091643/73411fbff77a7f7f.jpg","hash":"50d6c8ddcb327e507de936f0d3bb438d10d96639","modified":1507540761080},{"_id":"source/_posts/201710091643/7775353d41d1249a.jpg","hash":"a098164b065a69d0a66efde33db39ea8201fb307","modified":1507540761080},{"_id":"source/_posts/201710091643/89edccb8d8efc05c.jpg","hash":"36bc1cdd0bcb806ab9ed29a038cd3120814b7112","modified":1507540761077},{"_id":"source/_posts/201710091643/8f64eab0ae66fc3a.jpg","hash":"218650b02e2aaf3085d17c68590161737823edf9","modified":1507540761077},{"_id":"source/_posts/201710091643/8ff306dda9496ae3.jpg","hash":"126ef4ee1a2908120c50cadf4b88e7062d346546","modified":1507540761077},{"_id":"source/_posts/201710091643/9aecf98177c7cca2.jpg","hash":"2f491a739d7bdc22cb03fc05337cef6a6edee086","modified":1507540761077},{"_id":"source/_posts/201710091643/9f4a8ebbc574434d.jpg","hash":"57747b4761c3420157e6148260c27af80a3f37b2","modified":1507540761077},{"_id":"source/_posts/201710091643/a20500ba11982b27.jpg","hash":"65e3bc80018da86053e0685ca7e38c3145b1fcfa","modified":1507540761080},{"_id":"source/_posts/201710091643/a2709486cef98dd9.jpg","hash":"64fa50da65a64fcd94974d24ff6075b6277116e0","modified":1507540761080},{"_id":"source/_posts/201710091643/a88904ba22eff8e8.jpg","hash":"37a16b5017cddb36e801748005d18008eca2ee43","modified":1507540761080},{"_id":"source/_posts/201710091643/af16537d53144f5b.jpg","hash":"1f3feeb7c80dd10c88ef47bbcb4007208a2d8f67","modified":1507540761080},{"_id":"source/_posts/201710091643/b1969927bd8996fc.jpg","hash":"6b4a4c7ce2128a3c03bd3fda53e47d3a43084d4a","modified":1507540761080},{"_id":"source/_posts/201710091643/b54c525c75ddad2c.jpg","hash":"b0e1675b7c960a5709d5f22d3990593ff94a5862","modified":1507540761080},{"_id":"source/_posts/201710091643/c50e8879ac7789e9.jpg","hash":"4e50923c18bd46ef56ffcb76df90383edb51b4a7","modified":1507540761080},{"_id":"source/_posts/201710091643/d4c4710cfbbb1b48.jpg","hash":"f281ab730895dd1d36b907a9e22e7fdf86f60fd6","modified":1507540761080},{"_id":"source/_posts/201710091643/d52ef53e746bc4cb.jpg","hash":"ea797a2b34406c7230445a82a9de6c3aeb297c8b","modified":1507540761080},{"_id":"source/_posts/201710091643/e0099648baa42e6f.jpg","hash":"2f8dba71abe8e40da15fd5fdfd196a420218993c","modified":1507540761083},{"_id":"source/_posts/201710091643/e01e25032e3cd3a8.jpg","hash":"a3ec9f4e6011998debf879229f63abf8724a182a","modified":1507540761080},{"_id":"source/_posts/201710091643/e0b981f651d23679.jpg","hash":"c0b079a856cc495f925a7599fe2f74a53849c4d8","modified":1507540761080},{"_id":"source/_posts/201710091643/e696685082cabdab.jpg","hash":"1ec94e8d2c8bccb786d74550b0d0a55eb3fd447c","modified":1507540761083},{"_id":"source/_posts/201710091643/f4526c5a2570e5b2.jpg","hash":"0722f0f620920b103692a0048c89bad387ecc090","modified":1507540761083},{"_id":"source/_posts/201710091643/f48dc945f00e213f.jpg","hash":"55385f1d5221b46e710bc5f91400ce93e1e26dff","modified":1507540761083},{"_id":"source/_posts/201710091643/fba20274fc7b6174.jpg","hash":"5f1fe4a144bec40e2cd894e07f73854819e73945","modified":1507540761083},{"_id":"themes/yilia/layout/_partial/script.ejs","hash":"439f2afa6c3515a7edd67d512aae6eba5b1b0d0b","modified":1507540761093},{"_id":"source/_posts/201710091601/183e05351cd1cd68.jpg","hash":"db9528c384e97178e353615bc883c5e066b5079e","modified":1507540761063},{"_id":"source/_posts/201710091601/295ffe7e24431533.jpg","hash":"0a5b5018b2c5ad736687f948dba30706a934d590","modified":1507540761067},{"_id":"source/_posts/201710091601/59918027883d893c.jpg","hash":"4ff1aa4f737c4b568159bae4077cb15a47e0b3f4","modified":1507540761067},{"_id":"source/_posts/201710091601/68b12c83fd82b947.jpg","hash":"31c190cd64a750d268686c606a1b8dba95c167e0","modified":1507540761063},{"_id":"source/_posts/201710091601/90b48b8f16df2557.jpg","hash":"eeedd8b9985743ded601581d15a0ea130120c5ce","modified":1507540761063},{"_id":"source/_posts/201710091601/ba39d3720b24a03f.jpg","hash":"39e10a0be812d2b8a42cbd0e2c07328ff22a44b4","modified":1507540761070},{"_id":"source/_posts/201710091643/183e05351cd1cd68.jpg","hash":"db9528c384e97178e353615bc883c5e066b5079e","modified":1507540761077},{"_id":"source/_posts/201710091643/295ffe7e24431533.jpg","hash":"0a5b5018b2c5ad736687f948dba30706a934d590","modified":1507540761077},{"_id":"source/_posts/201710091643/59918027883d893c.jpg","hash":"4ff1aa4f737c4b568159bae4077cb15a47e0b3f4","modified":1507540761080},{"_id":"source/_posts/201710091643/68b12c83fd82b947.jpg","hash":"31c190cd64a750d268686c606a1b8dba95c167e0","modified":1507540761077},{"_id":"source/_posts/201710091643/90b48b8f16df2557.jpg","hash":"eeedd8b9985743ded601581d15a0ea130120c5ce","modified":1507540761077},{"_id":"source/_posts/201710091643/ba39d3720b24a03f.jpg","hash":"39e10a0be812d2b8a42cbd0e2c07328ff22a44b4","modified":1507540761080},{"_id":"themes/yilia/layout/_partial/post/category.ejs","hash":"0809a4829aabeb4e911a3ed04ec28db4df7dfe3f","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/changyan.ejs","hash":"ec71ffc2023cebd933c96bd35a7a23d44a30a422","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/date.ejs","hash":"ef71c4081e866a494367575c59610e7e6339ece0","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/duoshuo.ejs","hash":"e8399025ed3b980aedb821c92855889f5f12fd5b","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/gitment.ejs","hash":"e68bbac9ffb1ad27b56837c9abad6ed6bb7daa0c","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/nav.ejs","hash":"1036c8e4e1a7bc935ba173744da735a0d6ed09cd","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/share.ejs","hash":"341103df70d0b476e3acd0afbc507a4a120d8f5f","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/tag.ejs","hash":"2e783e68755abb852760eb0e627a3fbb50a05a55","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1507540761093},{"_id":"themes/yilia/layout/_partial/post/wangyiyun.ejs","hash":"ea41c462168d9697caef9485862e9cac718a12c1","modified":1507540761093},{"_id":"themes/yilia/source-src/css/fonts/iconfont.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1507540761097},{"_id":"themes/yilia/source-src/css/fonts/iconfont.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1507540761097},{"_id":"themes/yilia/source-src/css/fonts/iconfont.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1507540761097},{"_id":"themes/yilia/source-src/css/fonts/iconfont.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1507540761097},{"_id":"themes/yilia/source-src/css/core/_animation.scss","hash":"63a37f26276f9207405afe0f2d65339ce295bbaf","modified":1507540761097},{"_id":"themes/yilia/source-src/css/core/_media-queries.scss","hash":"491ab3378d5c11005ba65c607608bb36b368a9d5","modified":1507540761097},{"_id":"themes/yilia/source-src/css/core/_mixin.scss","hash":"3bba5c77bad5981eac859fe05c9561d580ba7fa9","modified":1507540761097},{"_id":"themes/yilia/source-src/css/core/_reset.scss","hash":"fab871fa93bd542e76a71a56428f2994a4aaf443","modified":1507540761097},{"_id":"themes/yilia/source-src/css/core/_variables.scss","hash":"fb511c505d1309249f21dc577d4ad2bad99a764f","modified":1507540761097},{"_id":"themes/yilia/source-src/css/img/checkered-pattern.png","hash":"049262fa0886989d750637b264bed34ab51c23c8","modified":1507540761097},{"_id":"themes/yilia/source-src/css/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1507540761097},{"_id":"themes/yilia/source-src/css/img/tooltip.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1507540761097},{"_id":"public/content.json","hash":"e3fba6c9e5ea170d2430fd498998446027f01c02","modified":1507546529728},{"_id":"public/2017/10/09/201710091723/index.html","hash":"795a4f234b635b2c33b574e842d72c713666ba28","modified":1507546530131},{"_id":"public/2017/10/09/201710091715/index.html","hash":"e0eef64f53c45cf1e9db2758100e2de84bd006e7","modified":1507546530131},{"_id":"public/2017/10/09/201710091714/index.html","hash":"82157b18b2af6a2ad41d8f0544e6deaf0a8da977","modified":1507546530133},{"_id":"public/2017/10/09/201710091712/index.html","hash":"28c6d922f1d590cfa8c90861a4c8832eb368a602","modified":1507546530133},{"_id":"public/2017/10/09/201710091710/index.html","hash":"2354c4b1e6079cbdf68cc7aed8b3ec18fd0dbfc6","modified":1507546530133},{"_id":"public/2017/10/09/201710091709/index.html","hash":"420b4d3c3f831b36224ce269c2bfee48ffe81045","modified":1507546530133},{"_id":"public/2017/10/09/201710091708/index.html","hash":"3c9330ba464a84cde97827cf8154a64481d583fe","modified":1507546530134},{"_id":"public/2017/10/09/201710091706/index.html","hash":"a8f1bdfdb7bd0482d0f4d08c731aaf588188d9fb","modified":1507546530134},{"_id":"public/2017/10/09/201710091705/index.html","hash":"7d424f25a60a0bd0b12c2d8b56cbe5e81c37818a","modified":1507546530134},{"_id":"public/2017/10/09/201710091704/index.html","hash":"d2c3d90eaefdc4700ed17e14d4bb71bf27ea12e6","modified":1507546530134},{"_id":"public/2017/10/09/201710091703/index.html","hash":"5d617cb509183d7f331ccfa53c95080add6bc8e7","modified":1507546530134},{"_id":"public/2017/10/09/201710091701/index.html","hash":"b37558ad2156900be5afc6be76804ae57be39c07","modified":1507546530135},{"_id":"public/2017/10/09/201710091643/index.html","hash":"6d39b5a6e5c9a7cce394a074d107cedc45e1d909","modified":1507546530135},{"_id":"public/2017/10/09/201710091601/index.html","hash":"8bf3fcb41ddc649536666b2537df2e56224db468","modified":1507546530135},{"_id":"public/archives/index.html","hash":"83fce768d09df64710976606b9024a8dd48f01dd","modified":1507546530135},{"_id":"public/archives/page/2/index.html","hash":"e80dd30b9e88f19f0918884cabef73071a6b43d5","modified":1507546530135},{"_id":"public/archives/2017/index.html","hash":"7ce4f1a02d8697523a7d8e91fdc526208e0fbfb3","modified":1507546530136},{"_id":"public/archives/2017/page/2/index.html","hash":"9f59576ca9112e261a18e58aa2bade50932a27c7","modified":1507546530136},{"_id":"public/archives/2017/10/index.html","hash":"d64b5af52f1eb75893c8fc053dd0fc1f40d27883","modified":1507546530136},{"_id":"public/archives/2017/10/page/2/index.html","hash":"f63ff0fac2f8301f26675c8245344b090455e328","modified":1507546530136},{"_id":"public/index.html","hash":"29143235a0f3429c024a4c14d0182590264792ce","modified":1507546530136},{"_id":"public/page/2/index.html","hash":"b7e93e29a9b5846330d47db468b4b6d71c99821b","modified":1507546530136},{"_id":"public/tags/virtualization/index.html","hash":"c3a4480a2be712b36ac00da19e3e069080784cc7","modified":1507546530137},{"_id":"public/tags/ESXi/index.html","hash":"9af4f50f480e4e565ca21f562108264910c69aec","modified":1507546530137},{"_id":"public/tags/linux/index.html","hash":"476596c1cb55f367b83e9c5e3093ffa96245ea6a","modified":1507546530137},{"_id":"public/tags/linux/page/2/index.html","hash":"43aba676b77211d4aaa405473c304fc22ff6d0fd","modified":1507546530137},{"_id":"public/tags/other/index.html","hash":"ca002c451cd40b6c8387d04ddd0bd95aa257070b","modified":1507546530137},{"_id":"public/tags/network/index.html","hash":"1bfe95f949611fe7efcf27bc1a385789ba902b83","modified":1507546530137},{"_id":"public/tags/gfw/index.html","hash":"9fc4d558d08051e42e3ae6cc7f7ce88c54b1394d","modified":1507546530138},{"_id":"public/tags/tools/index.html","hash":"98db75e9531c77eb0de1897dfb7cc6e73f1e21ed","modified":1507546530138},{"_id":"public/fonts/default-skin.b257fa.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1507546530161},{"_id":"public/fonts/iconfont.16acc2.ttf","hash":"f342ac8bf4d937f42a7d6a0032ad267ab47eb7f2","modified":1507546530161},{"_id":"public/fonts/iconfont.45d7ee.svg","hash":"f9304e5714d20861be7d8f4d36687e88e86b9e1b","modified":1507546530161},{"_id":"public/fonts/iconfont.8c627f.woff","hash":"aa9672cb097f7fd73ae5a03bcd3d9d726935bc0a","modified":1507546530162},{"_id":"public/fonts/iconfont.b322fa.eot","hash":"bc8c5e88f4994a852041b4d83f126d9c4d419b4a","modified":1507546530162},{"_id":"public/fonts/tooltip.4004ff.svg","hash":"397fe4b1093bf9b62457dac48aa15dac06b54a3c","modified":1507546530162},{"_id":"public/img/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1507546530162},{"_id":"public/img/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1507546530162},{"_id":"public/img/scrollbar_arrow.png","hash":"d64a33c4ddfbdb89deeb6f4e3d36eb84dc4777c0","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/031b589e22e15416.jpg","hash":"a960076d215f95b3414ce08ecafea261193c6bbc","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/06132485ab59545a.jpg","hash":"d539713225e1613f848c1dd9f07042a0c142a0f1","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/06c092ba2bbcc190.jpg","hash":"073e575d1995d805632442bc726679da8f6022f2","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/0c837e38c20eba10.jpg","hash":"38ce53fd4341ee7bdba1a649f6570459eba4877f","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/0afa78fbca1dc288.jpg","hash":"4382b01aa479cd2bccfa3042c7fb596eec583c02","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/0cfc23cd25d88711.jpg","hash":"25a99d2492006bfafb92c778664e7b4c5e61d435","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/0e655e34fd585501.jpg","hash":"aeed89c8d0fb08cc620187070838b552b4fc1aed","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/0feee6754fbdf152.jpg","hash":"872dc8a5ea43e24464c6f500410110687294aa50","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/1508a77d6a8ea1c8.jpg","hash":"2704449a3940c696ceb27a651f05d2cfa699fd24","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/180a716339eaac7d.jpg","hash":"7a6c6c8e25683e225e9bee3d4736b307ccb078c5","modified":1507546530162},{"_id":"public/2017/10/09/201710091601/1a594160a1ba91e0.jpg","hash":"9ce3fe356a9d7065af025a19b419d84ffb6c4dd0","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/1cda4b829db27966.jpg","hash":"432d30c15bf0b0d6890eba587e9142300c5f73a5","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/21eef25b932cef4f.jpg","hash":"ebf9581f32f5e8ceeaa89f81828d03484a022e4a","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/2324f721115c3785.jpg","hash":"32418051355737fe2a03df53b50b450bfdaaf253","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/2354389b190af5b4.jpg","hash":"29900846608d69163a94d835b86a10c05c367d0d","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/266f5cf2a5c7db28.jpg","hash":"5db6b4a52ec984163a7954ebc3a7dd51bce9461f","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/2a5be182dfce2f21.jpg","hash":"bd56381ced5575a4f63756c1bf4d07e634b7b532","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/2d6ca36262af1fb1.jpg","hash":"339c9816496142c2f27f32eef648ae6743f02eab","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/2f56d5f920ff1ade.jpg","hash":"a9a48c1c32e8ffaee945406bb7c7e07605eae54f","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/2d95d2595ef8cf3b.jpg","hash":"3f82a10578ed5229e985c875dc874ba7ebad6729","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/3d6c3c2b7962e631.jpg","hash":"289fef44fa607816f3ceecac2b3fab779e893942","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/42997c9404fbb3c5.jpg","hash":"194e3c9d06e34ad924903459df1f03fea74a7e0b","modified":1507546530163},{"_id":"public/2017/10/09/201710091601/48071838f3615424.jpg","hash":"a0057cdec1b9df02bdb117d0bf8527f9968edbef","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/4812df9dc90e7725.jpg","hash":"defc040ebec8dd818d92c8baf009252fc2c8e09c","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/4c9a2f038cdaeb71.jpg","hash":"8fd14f3e165de0e421fa372f5ce60a68af2591fb","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/551b7ab676551748.jpg","hash":"b80585902e24b1c169c0b49bb424cf888b058594","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/566bae7cacf04cc7.jpg","hash":"0409ef7e5b2bdbc55d8d1183ec2122dad147d095","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/5691d99da449aeb2.jpg","hash":"fff9482807003b97180733cce50c20e214d48961","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/5a74c07b6f07c6d7.jpg","hash":"6bcef3017dd557affbf4b2f77afdfaa3993bd735","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/5b4ae1ddf38c5bac.jpg","hash":"21504c5548218278acd7f65c87ac33b6b735ee90","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/5cf991d40fd5681e.jpg","hash":"1d04c303e5d74162308b6e553146734c2cd00055","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/61e865e896205541.jpg","hash":"7ed1c00ff40cce7f9fade9c87fcab08ab3d7ad03","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/6062c404ce14a9d1.jpg","hash":"97a1767bdf8dcc0c523ce63f7e111330a9915348","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/62ab2af515b36b54.jpg","hash":"caaf310a6726a094443321ddc14748c0185d64cd","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/633b5face3642b7c.jpg","hash":"da4cd75081184add38c36fd09380b9dd23e2d4bc","modified":1507546530164},{"_id":"public/2017/10/09/201710091601/66e88f1227120852.jpg","hash":"1498bd82b17e2279eeae103fe237c9da8faefc61","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/63d531446c748da6.jpg","hash":"95670faabc64e724d9d760385ba53a5d6dbd928f","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/6848d154f70459a4.jpg","hash":"b2629f49f8b7d8334234f02aa3f580f320df096b","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/6a9abbd5bcd8ae9b.jpg","hash":"c39b6a82fefdc354421bfb421a3b688ab8915f3e","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/6cbc855c0e0788ca.jpg","hash":"c4f32a438b69f1a5533a7d45c40371b7229f7b01","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/6e480ad0f8a2f6f8.jpg","hash":"fe844689bef01a6f5c452ccca162a651047ab0eb","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/6e979887453d65b1.jpg","hash":"4309d1a5916cf56fd1003f28694745ea69d37bad","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/744d4a1d9493956f.jpg","hash":"a85fe9ee94035a648daa27fd1c77a18999aaf1c2","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/751bb2b097bb76bf.jpg","hash":"8572522d1f49461397ad9a4b2bfc0ca536fbad19","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/785e0001fc28c841.jpg","hash":"ffff32cf356922b194441a888d9abb7be68b080f","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/7896501557e9646b.jpg","hash":"4cacc74b81e04260fac1fd255c5c3b6940c3448c","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/7977fce67fad7ab2.jpg","hash":"e02bffc0d92fc18fde8119e93c395263faf32ae6","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/7d3f472d90225cb6.jpg","hash":"f2dca5f7e423a3d6a31a91e9d021ec553b6f847f","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/873b13631b0a2d43.jpg","hash":"b119aee541d0b1b60a9755f136178baa1180ad78","modified":1507546530165},{"_id":"public/2017/10/09/201710091601/89d7a010bcc96bca.jpg","hash":"85f606af3db48cf9c484862fa45abd75492487a9","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/8e5ebabc9106f714.jpg","hash":"8b56f395b4c9bedfa36258fcc1fe13203a4f5915","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/8f4b4c50b604bbdf.jpg","hash":"a45d56bd3255a6ae87a80445f4a7c049dc183b29","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/8f82cb2725fa616e.jpg","hash":"e824c65783589ccd1a257e98f1ba6ce44c6189d1","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/939dfa4b1fcc1ce4.jpg","hash":"b2c799d22bfccc3ed88f591b2d50142197f3e81f","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/941e2ac251f1c098.jpg","hash":"af1d838fad72057c51c070dbbfff750125b16727","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/95811662f155207b.jpg","hash":"1ff1b72bdb58ea89d2639445a288974d9c4d7b98","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/95b0d3bf93fe30ff.jpg","hash":"2bf35e04003961d552d87ca95942c850da7e2f40","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/96ac1f339e1a918c.jpg","hash":"a56ced3d2754be1293258af7f40560ee0ea5d90e","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/973098e8bf92ca7d.jpg","hash":"0f77461bdef71697f75bed895f39e45718c853fd","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/9b3ba694564ec5f0.jpg","hash":"a6333525f0be13c6edb586f8909026d20d0634ca","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/99c342e6c648a626.jpg","hash":"a1c5c8a9a68ce827b8c240becfec07b39d31c936","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/9e2505199e03c37c.jpg","hash":"755ce2d8416ad171e50b8fa3b452f759fcf6d958","modified":1507546530166},{"_id":"public/2017/10/09/201710091601/a182ce0049370fe2.jpg","hash":"d0797250d0ce8d3afcffdb7c0ec9da75af554336","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/a5e44268d9368b5e.jpg","hash":"67d0e73b5fbef0185d0572a8416b4540c9ac969a","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/abfe4002d809a330.jpg","hash":"5f06e5dab3ef939ed953cae07e93ea078926db65","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/a73157c0e03e0bef.jpg","hash":"e571bb814496352d9a45749c3a6e24e941e73e8a","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/ad32819d93b8330c.jpg","hash":"d7e8e173945497225be21006a97bbd5dcf56d029","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/ae6370a150336ea8.jpg","hash":"0d98583862a2aafbec539308bb71191eb59f6ede","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/aff21e7004340e15.jpg","hash":"6d0f0953119810c732f10fa144fb3e8cd439a308","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/b121ca70c26deb9b.jpg","hash":"ab16934bda96ed75db9fff6d57e452bd6865199a","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/b169f5c72441e23a.jpg","hash":"b173db6932e770ad9e4099107e36ce4087bae326","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/b39860a01ad48dc3.jpg","hash":"d3f7579b1d9874c738e19e2d60c68458a64aaa3d","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/b1e83ae7831df206.jpg","hash":"d5f055ebc7d65c65b28cd4992001a94e65dca08d","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/b4b3d6a322cdc35d.jpg","hash":"f14cf1fe3e4e881c7f84a91235a4754a10e0cc14","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/b9575e72d62e7474.jpg","hash":"06268d3d3baceb96560a8749815b8c8aa8070a5d","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/ba5c85b09c522978.jpg","hash":"ae978d482f2c839df2c9f842cd304125700f83b8","modified":1507546530167},{"_id":"public/2017/10/09/201710091601/bd5f4888a2ae5a64.jpg","hash":"f5e902eaaf80d747cbb4443ca3ec2815f71cfa0c","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/c1e7b073aa72b3c1.jpg","hash":"c73aa23b52451fd7d4cee9b60115ddf5a40344cf","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/c3138d78572d2472.jpg","hash":"50df7ad61e7750297f9b6fbb1d386630d14d1a78","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/c34e5c68c50e2534.jpg","hash":"ce3bc18f464a3719d42e0ec759ccdd4e43612f99","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/c48ab6841594e0ac.jpg","hash":"0eb7082ff240676e7f6ab929a2bd6d914a74c0e1","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/c4c9fe68e495067a.jpg","hash":"d578679f9f0cf966714836db05406657ef78eecf","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/cbedaa2848096de4.jpg","hash":"4d57db07d0b3d79a74a43d4da98b471d61ff4f5b","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/d0e16aa7a3eecca7.jpg","hash":"d2942fb53220a548307f2cf3476cfd84de2d3853","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/cdbf09ff9e323ccf.jpg","hash":"9b7b4b719d1c14f3d6cb4db71c08f268a5e6b175","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/d547095ccdfa9a70.jpg","hash":"32bcb4821ad50eb2634d308378f11070a4b57cce","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/d805875fea4f71d5.jpg","hash":"a15a8021864e5057914041700d437aaab1462ded","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/d6e56c27934793e5.jpg","hash":"2b52b8f2fa93a64cb172eead420884f0ba60b3bf","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/d9fd15b03ad56209.jpg","hash":"6f85fe0c474e3080a9ef0bbc458c09361dce64aa","modified":1507546530168},{"_id":"public/2017/10/09/201710091601/d84386cd9bcedc8f.jpg","hash":"27f834498a0f484989c954ebd96941e6c559f9dc","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e0b95334d12d044f.jpg","hash":"756cfe15c2c796a2156347ce8b6aafae01d03050","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e0bb2f4c6b455757.jpg","hash":"b527a7706f26ce803db0e284179fee84b8457b5a","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e53df4dd51341905.jpg","hash":"86da1f35da29b42db95549414dc8f6fe262b6e18","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e5aa907519fce1c0.jpg","hash":"5b8fd015ef1e7a1a8bad96cb000ca6786a8fe1da","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e620aae6ab7c8e13.jpg","hash":"4b34ab12f32a2b3c00bc863c744d8dd367a2ac6c","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e649a7b010a24b60.jpg","hash":"5fec9f5f099cc927a275116e29e33af0fbaed70b","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e6eaabb5e0327380.jpg","hash":"aae8af8282152037112fe8455574c24095dddc3f","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/e83ee1ff8a839a1c.jpg","hash":"f58c0d8698602cbdac97a93587b093d92d38f790","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/f10b4296db3e0a05.jpg","hash":"ba7ee6ef91f12dd4b8bb86715200c3e1e0310c54","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/eb9fae41092bd441.jpg","hash":"c612e91b1e00b061a6f406b00fd4edb90e6b51d1","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/f410bb787d1fb33f.jpg","hash":"0289aa17eda8bf280e456c68fa0e0cae96c31383","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/f48bf0716013ac11.jpg","hash":"4fe45f6b3c8021883eb28316e0fc6542eacb4640","modified":1507546530169},{"_id":"public/2017/10/09/201710091601/f9120d53fb7c396b.jpg","hash":"02f7cbe27e9a1c5e30349261edd61eab0a957857","modified":1507546530170},{"_id":"public/2017/10/09/201710091601/f92ff5e1e860a45c.jpg","hash":"86a2bc112cd300a0921726a1b124f0ba9b85a7a8","modified":1507546530170},{"_id":"public/2017/10/09/201710091601/fb218f399632a938.jpg","hash":"95fd1d790d94f9f8d0b2f4821c5c0f3be768c186","modified":1507546530170},{"_id":"public/2017/10/09/201710091601/fb85018c73538669.jpg","hash":"04d12b71b7854f521d5f7be256fbb77ef3f7b549","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/031b589e22e15416.jpg","hash":"a960076d215f95b3414ce08ecafea261193c6bbc","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/06132485ab59545a.jpg","hash":"d539713225e1613f848c1dd9f07042a0c142a0f1","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/06c092ba2bbcc190.jpg","hash":"073e575d1995d805632442bc726679da8f6022f2","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/0afa78fbca1dc288.jpg","hash":"4382b01aa479cd2bccfa3042c7fb596eec583c02","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/0c837e38c20eba10.jpg","hash":"38ce53fd4341ee7bdba1a649f6570459eba4877f","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/0cfc23cd25d88711.jpg","hash":"25a99d2492006bfafb92c778664e7b4c5e61d435","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/0e655e34fd585501.jpg","hash":"aeed89c8d0fb08cc620187070838b552b4fc1aed","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/0feee6754fbdf152.jpg","hash":"872dc8a5ea43e24464c6f500410110687294aa50","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/1508a77d6a8ea1c8.jpg","hash":"2704449a3940c696ceb27a651f05d2cfa699fd24","modified":1507546530170},{"_id":"public/2017/10/09/201710091643/180a716339eaac7d.jpg","hash":"7a6c6c8e25683e225e9bee3d4736b307ccb078c5","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/1a594160a1ba91e0.jpg","hash":"9ce3fe356a9d7065af025a19b419d84ffb6c4dd0","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/21eef25b932cef4f.jpg","hash":"ebf9581f32f5e8ceeaa89f81828d03484a022e4a","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/1cda4b829db27966.jpg","hash":"432d30c15bf0b0d6890eba587e9142300c5f73a5","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/2324f721115c3785.jpg","hash":"32418051355737fe2a03df53b50b450bfdaaf253","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/2354389b190af5b4.jpg","hash":"29900846608d69163a94d835b86a10c05c367d0d","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/266f5cf2a5c7db28.jpg","hash":"5db6b4a52ec984163a7954ebc3a7dd51bce9461f","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/2a5be182dfce2f21.jpg","hash":"bd56381ced5575a4f63756c1bf4d07e634b7b532","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/2d6ca36262af1fb1.jpg","hash":"339c9816496142c2f27f32eef648ae6743f02eab","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/2f56d5f920ff1ade.jpg","hash":"a9a48c1c32e8ffaee945406bb7c7e07605eae54f","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/2d95d2595ef8cf3b.jpg","hash":"3f82a10578ed5229e985c875dc874ba7ebad6729","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/3d6c3c2b7962e631.jpg","hash":"289fef44fa607816f3ceecac2b3fab779e893942","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/42997c9404fbb3c5.jpg","hash":"194e3c9d06e34ad924903459df1f03fea74a7e0b","modified":1507546530171},{"_id":"public/2017/10/09/201710091643/48071838f3615424.jpg","hash":"a0057cdec1b9df02bdb117d0bf8527f9968edbef","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/4812df9dc90e7725.jpg","hash":"defc040ebec8dd818d92c8baf009252fc2c8e09c","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/4c9a2f038cdaeb71.jpg","hash":"8fd14f3e165de0e421fa372f5ce60a68af2591fb","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/551b7ab676551748.jpg","hash":"b80585902e24b1c169c0b49bb424cf888b058594","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/566bae7cacf04cc7.jpg","hash":"0409ef7e5b2bdbc55d8d1183ec2122dad147d095","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/5691d99da449aeb2.jpg","hash":"fff9482807003b97180733cce50c20e214d48961","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/5a74c07b6f07c6d7.jpg","hash":"6bcef3017dd557affbf4b2f77afdfaa3993bd735","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/5b4ae1ddf38c5bac.jpg","hash":"21504c5548218278acd7f65c87ac33b6b735ee90","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/5cf991d40fd5681e.jpg","hash":"1d04c303e5d74162308b6e553146734c2cd00055","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/61e865e896205541.jpg","hash":"7ed1c00ff40cce7f9fade9c87fcab08ab3d7ad03","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/6062c404ce14a9d1.jpg","hash":"97a1767bdf8dcc0c523ce63f7e111330a9915348","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/62ab2af515b36b54.jpg","hash":"caaf310a6726a094443321ddc14748c0185d64cd","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/633b5face3642b7c.jpg","hash":"da4cd75081184add38c36fd09380b9dd23e2d4bc","modified":1507546530172},{"_id":"public/2017/10/09/201710091643/63d531446c748da6.jpg","hash":"95670faabc64e724d9d760385ba53a5d6dbd928f","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/66e88f1227120852.jpg","hash":"1498bd82b17e2279eeae103fe237c9da8faefc61","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/6848d154f70459a4.jpg","hash":"b2629f49f8b7d8334234f02aa3f580f320df096b","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/6a9abbd5bcd8ae9b.jpg","hash":"c39b6a82fefdc354421bfb421a3b688ab8915f3e","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/6cbc855c0e0788ca.jpg","hash":"c4f32a438b69f1a5533a7d45c40371b7229f7b01","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/6e480ad0f8a2f6f8.jpg","hash":"fe844689bef01a6f5c452ccca162a651047ab0eb","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/6e979887453d65b1.jpg","hash":"4309d1a5916cf56fd1003f28694745ea69d37bad","modified":1507546530173},{"_id":"public/2017/10/09/201710091643/744d4a1d9493956f.jpg","hash":"a85fe9ee94035a648daa27fd1c77a18999aaf1c2","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/751bb2b097bb76bf.jpg","hash":"8572522d1f49461397ad9a4b2bfc0ca536fbad19","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/785e0001fc28c841.jpg","hash":"ffff32cf356922b194441a888d9abb7be68b080f","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/7896501557e9646b.jpg","hash":"4cacc74b81e04260fac1fd255c5c3b6940c3448c","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/7977fce67fad7ab2.jpg","hash":"e02bffc0d92fc18fde8119e93c395263faf32ae6","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/7d3f472d90225cb6.jpg","hash":"f2dca5f7e423a3d6a31a91e9d021ec553b6f847f","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/873b13631b0a2d43.jpg","hash":"b119aee541d0b1b60a9755f136178baa1180ad78","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/89d7a010bcc96bca.jpg","hash":"85f606af3db48cf9c484862fa45abd75492487a9","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/8e5ebabc9106f714.jpg","hash":"8b56f395b4c9bedfa36258fcc1fe13203a4f5915","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/8f4b4c50b604bbdf.jpg","hash":"a45d56bd3255a6ae87a80445f4a7c049dc183b29","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/8f82cb2725fa616e.jpg","hash":"e824c65783589ccd1a257e98f1ba6ce44c6189d1","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/939dfa4b1fcc1ce4.jpg","hash":"b2c799d22bfccc3ed88f591b2d50142197f3e81f","modified":1507546530174},{"_id":"public/2017/10/09/201710091643/941e2ac251f1c098.jpg","hash":"af1d838fad72057c51c070dbbfff750125b16727","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/95811662f155207b.jpg","hash":"1ff1b72bdb58ea89d2639445a288974d9c4d7b98","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/95b0d3bf93fe30ff.jpg","hash":"2bf35e04003961d552d87ca95942c850da7e2f40","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/96ac1f339e1a918c.jpg","hash":"a56ced3d2754be1293258af7f40560ee0ea5d90e","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/973098e8bf92ca7d.jpg","hash":"0f77461bdef71697f75bed895f39e45718c853fd","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/99c342e6c648a626.jpg","hash":"a1c5c8a9a68ce827b8c240becfec07b39d31c936","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/9b3ba694564ec5f0.jpg","hash":"a6333525f0be13c6edb586f8909026d20d0634ca","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/9e2505199e03c37c.jpg","hash":"755ce2d8416ad171e50b8fa3b452f759fcf6d958","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/a182ce0049370fe2.jpg","hash":"d0797250d0ce8d3afcffdb7c0ec9da75af554336","modified":1507546530175},{"_id":"public/2017/10/09/201710091643/a5e44268d9368b5e.jpg","hash":"67d0e73b5fbef0185d0572a8416b4540c9ac969a","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/a73157c0e03e0bef.jpg","hash":"e571bb814496352d9a45749c3a6e24e941e73e8a","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/abfe4002d809a330.jpg","hash":"5f06e5dab3ef939ed953cae07e93ea078926db65","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/ad32819d93b8330c.jpg","hash":"d7e8e173945497225be21006a97bbd5dcf56d029","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/ae6370a150336ea8.jpg","hash":"0d98583862a2aafbec539308bb71191eb59f6ede","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/aff21e7004340e15.jpg","hash":"6d0f0953119810c732f10fa144fb3e8cd439a308","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/b121ca70c26deb9b.jpg","hash":"ab16934bda96ed75db9fff6d57e452bd6865199a","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/b169f5c72441e23a.jpg","hash":"b173db6932e770ad9e4099107e36ce4087bae326","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/b1e83ae7831df206.jpg","hash":"d5f055ebc7d65c65b28cd4992001a94e65dca08d","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/b39860a01ad48dc3.jpg","hash":"d3f7579b1d9874c738e19e2d60c68458a64aaa3d","modified":1507546530176},{"_id":"public/2017/10/09/201710091643/b4b3d6a322cdc35d.jpg","hash":"f14cf1fe3e4e881c7f84a91235a4754a10e0cc14","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/b9575e72d62e7474.jpg","hash":"06268d3d3baceb96560a8749815b8c8aa8070a5d","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/ba5c85b09c522978.jpg","hash":"ae978d482f2c839df2c9f842cd304125700f83b8","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/bd5f4888a2ae5a64.jpg","hash":"f5e902eaaf80d747cbb4443ca3ec2815f71cfa0c","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/c1e7b073aa72b3c1.jpg","hash":"c73aa23b52451fd7d4cee9b60115ddf5a40344cf","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/c3138d78572d2472.jpg","hash":"50df7ad61e7750297f9b6fbb1d386630d14d1a78","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/c34e5c68c50e2534.jpg","hash":"ce3bc18f464a3719d42e0ec759ccdd4e43612f99","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/c48ab6841594e0ac.jpg","hash":"0eb7082ff240676e7f6ab929a2bd6d914a74c0e1","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/c4c9fe68e495067a.jpg","hash":"d578679f9f0cf966714836db05406657ef78eecf","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/cbedaa2848096de4.jpg","hash":"4d57db07d0b3d79a74a43d4da98b471d61ff4f5b","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/cdbf09ff9e323ccf.jpg","hash":"9b7b4b719d1c14f3d6cb4db71c08f268a5e6b175","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/d0e16aa7a3eecca7.jpg","hash":"d2942fb53220a548307f2cf3476cfd84de2d3853","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/d547095ccdfa9a70.jpg","hash":"32bcb4821ad50eb2634d308378f11070a4b57cce","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/d6e56c27934793e5.jpg","hash":"2b52b8f2fa93a64cb172eead420884f0ba60b3bf","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/d805875fea4f71d5.jpg","hash":"a15a8021864e5057914041700d437aaab1462ded","modified":1507546530177},{"_id":"public/2017/10/09/201710091643/d84386cd9bcedc8f.jpg","hash":"27f834498a0f484989c954ebd96941e6c559f9dc","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/d9fd15b03ad56209.jpg","hash":"6f85fe0c474e3080a9ef0bbc458c09361dce64aa","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e0b95334d12d044f.jpg","hash":"756cfe15c2c796a2156347ce8b6aafae01d03050","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e0bb2f4c6b455757.jpg","hash":"b527a7706f26ce803db0e284179fee84b8457b5a","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e53df4dd51341905.jpg","hash":"86da1f35da29b42db95549414dc8f6fe262b6e18","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e5aa907519fce1c0.jpg","hash":"5b8fd015ef1e7a1a8bad96cb000ca6786a8fe1da","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e620aae6ab7c8e13.jpg","hash":"4b34ab12f32a2b3c00bc863c744d8dd367a2ac6c","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e649a7b010a24b60.jpg","hash":"5fec9f5f099cc927a275116e29e33af0fbaed70b","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e6eaabb5e0327380.jpg","hash":"aae8af8282152037112fe8455574c24095dddc3f","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/e83ee1ff8a839a1c.jpg","hash":"f58c0d8698602cbdac97a93587b093d92d38f790","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/eb9fae41092bd441.jpg","hash":"c612e91b1e00b061a6f406b00fd4edb90e6b51d1","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/f10b4296db3e0a05.jpg","hash":"ba7ee6ef91f12dd4b8bb86715200c3e1e0310c54","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/f410bb787d1fb33f.jpg","hash":"0289aa17eda8bf280e456c68fa0e0cae96c31383","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/f48bf0716013ac11.jpg","hash":"4fe45f6b3c8021883eb28316e0fc6542eacb4640","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/f9120d53fb7c396b.jpg","hash":"02f7cbe27e9a1c5e30349261edd61eab0a957857","modified":1507546530178},{"_id":"public/2017/10/09/201710091643/f92ff5e1e860a45c.jpg","hash":"86a2bc112cd300a0921726a1b124f0ba9b85a7a8","modified":1507546530179},{"_id":"public/2017/10/09/201710091643/fb218f399632a938.jpg","hash":"95fd1d790d94f9f8d0b2f4821c5c0f3be768c186","modified":1507546530179},{"_id":"public/2017/10/09/201710091643/fb85018c73538669.jpg","hash":"04d12b71b7854f521d5f7be256fbb77ef3f7b549","modified":1507546530179},{"_id":"public/2017/10/09/201710091601/07d3ef73b5c3f8ce.jpg","hash":"7f6a07ae54c128ab528bba8d8249db3f63af3628","modified":1507546530193},{"_id":"public/2017/10/09/201710091601/1673c7249c05f467.jpg","hash":"463d8267a7742c21f99350c07dc64bb738370d3e","modified":1507546530195},{"_id":"public/2017/10/09/201710091601/1d6b5e876b43563e.jpg","hash":"254c9a770214fc5a7e0802ab2d873fa48d930f61","modified":1507546530195},{"_id":"public/2017/10/09/201710091601/32e3eb023f6ee3ba.jpg","hash":"5a3cfde215322b3d7f9b0d1a8898cc17921c7599","modified":1507546530195},{"_id":"public/2017/10/09/201710091601/339c821002d465d5.jpg","hash":"b1d3fcb9c19508b5e60b98fb4560deb64ec44e1a","modified":1507546530195},{"_id":"public/2017/10/09/201710091601/37bfc853a59b3cea.jpg","hash":"6e9c2d14d77545de8737825dcd6fb6e1befa6d3d","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/42d722931576c18a.jpg","hash":"e200a5ca584e6fadcf99e5afeac0598b98a9103c","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/50b60481426d3afd.jpg","hash":"e9ca53ec40998003e538c925a107b98e4eb2b278","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/528dcf36c7d52e6e.jpg","hash":"3e4feb9e3f2e7a85f4337f04e728505646032121","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/545eaec054fd5218.jpg","hash":"d78033d1dcfd9cc79e2e29fe09f677ea7c069d17","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/5ae453ac46cb1abd.jpg","hash":"32e1b7938f75c0e0552adb93e6128a679b361aa0","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/73411fbff77a7f7f.jpg","hash":"50d6c8ddcb327e507de936f0d3bb438d10d96639","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/7775353d41d1249a.jpg","hash":"a098164b065a69d0a66efde33db39ea8201fb307","modified":1507546530196},{"_id":"public/2017/10/09/201710091601/89edccb8d8efc05c.jpg","hash":"36bc1cdd0bcb806ab9ed29a038cd3120814b7112","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/8f64eab0ae66fc3a.jpg","hash":"218650b02e2aaf3085d17c68590161737823edf9","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/8ff306dda9496ae3.jpg","hash":"126ef4ee1a2908120c50cadf4b88e7062d346546","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/9aecf98177c7cca2.jpg","hash":"2f491a739d7bdc22cb03fc05337cef6a6edee086","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/9f4a8ebbc574434d.jpg","hash":"57747b4761c3420157e6148260c27af80a3f37b2","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/a20500ba11982b27.jpg","hash":"65e3bc80018da86053e0685ca7e38c3145b1fcfa","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/a2709486cef98dd9.jpg","hash":"64fa50da65a64fcd94974d24ff6075b6277116e0","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/a88904ba22eff8e8.jpg","hash":"37a16b5017cddb36e801748005d18008eca2ee43","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/af16537d53144f5b.jpg","hash":"1f3feeb7c80dd10c88ef47bbcb4007208a2d8f67","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/b1969927bd8996fc.jpg","hash":"6b4a4c7ce2128a3c03bd3fda53e47d3a43084d4a","modified":1507546530197},{"_id":"public/2017/10/09/201710091601/b54c525c75ddad2c.jpg","hash":"b0e1675b7c960a5709d5f22d3990593ff94a5862","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/c50e8879ac7789e9.jpg","hash":"4e50923c18bd46ef56ffcb76df90383edb51b4a7","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/d4c4710cfbbb1b48.jpg","hash":"f281ab730895dd1d36b907a9e22e7fdf86f60fd6","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/d52ef53e746bc4cb.jpg","hash":"ea797a2b34406c7230445a82a9de6c3aeb297c8b","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/e0099648baa42e6f.jpg","hash":"2f8dba71abe8e40da15fd5fdfd196a420218993c","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/e01e25032e3cd3a8.jpg","hash":"a3ec9f4e6011998debf879229f63abf8724a182a","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/e0b981f651d23679.jpg","hash":"c0b079a856cc495f925a7599fe2f74a53849c4d8","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/e696685082cabdab.jpg","hash":"1ec94e8d2c8bccb786d74550b0d0a55eb3fd447c","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/f4526c5a2570e5b2.jpg","hash":"0722f0f620920b103692a0048c89bad387ecc090","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/f48dc945f00e213f.jpg","hash":"55385f1d5221b46e710bc5f91400ce93e1e26dff","modified":1507546530198},{"_id":"public/2017/10/09/201710091601/fba20274fc7b6174.jpg","hash":"5f1fe4a144bec40e2cd894e07f73854819e73945","modified":1507546530198},{"_id":"public/2017/10/09/201710091643/07d3ef73b5c3f8ce.jpg","hash":"7f6a07ae54c128ab528bba8d8249db3f63af3628","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/1673c7249c05f467.jpg","hash":"463d8267a7742c21f99350c07dc64bb738370d3e","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/1d6b5e876b43563e.jpg","hash":"254c9a770214fc5a7e0802ab2d873fa48d930f61","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/339c821002d465d5.jpg","hash":"b1d3fcb9c19508b5e60b98fb4560deb64ec44e1a","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/32e3eb023f6ee3ba.jpg","hash":"5a3cfde215322b3d7f9b0d1a8898cc17921c7599","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/37bfc853a59b3cea.jpg","hash":"6e9c2d14d77545de8737825dcd6fb6e1befa6d3d","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/42d722931576c18a.jpg","hash":"e200a5ca584e6fadcf99e5afeac0598b98a9103c","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/50b60481426d3afd.jpg","hash":"e9ca53ec40998003e538c925a107b98e4eb2b278","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/528dcf36c7d52e6e.jpg","hash":"3e4feb9e3f2e7a85f4337f04e728505646032121","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/545eaec054fd5218.jpg","hash":"d78033d1dcfd9cc79e2e29fe09f677ea7c069d17","modified":1507546530199},{"_id":"public/2017/10/09/201710091643/5ae453ac46cb1abd.jpg","hash":"32e1b7938f75c0e0552adb93e6128a679b361aa0","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/73411fbff77a7f7f.jpg","hash":"50d6c8ddcb327e507de936f0d3bb438d10d96639","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/7775353d41d1249a.jpg","hash":"a098164b065a69d0a66efde33db39ea8201fb307","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/89edccb8d8efc05c.jpg","hash":"36bc1cdd0bcb806ab9ed29a038cd3120814b7112","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/8f64eab0ae66fc3a.jpg","hash":"218650b02e2aaf3085d17c68590161737823edf9","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/8ff306dda9496ae3.jpg","hash":"126ef4ee1a2908120c50cadf4b88e7062d346546","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/9aecf98177c7cca2.jpg","hash":"2f491a739d7bdc22cb03fc05337cef6a6edee086","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/9f4a8ebbc574434d.jpg","hash":"57747b4761c3420157e6148260c27af80a3f37b2","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/a20500ba11982b27.jpg","hash":"65e3bc80018da86053e0685ca7e38c3145b1fcfa","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/a2709486cef98dd9.jpg","hash":"64fa50da65a64fcd94974d24ff6075b6277116e0","modified":1507546530200},{"_id":"public/2017/10/09/201710091643/a88904ba22eff8e8.jpg","hash":"37a16b5017cddb36e801748005d18008eca2ee43","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/af16537d53144f5b.jpg","hash":"1f3feeb7c80dd10c88ef47bbcb4007208a2d8f67","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/b1969927bd8996fc.jpg","hash":"6b4a4c7ce2128a3c03bd3fda53e47d3a43084d4a","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/b54c525c75ddad2c.jpg","hash":"b0e1675b7c960a5709d5f22d3990593ff94a5862","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/c50e8879ac7789e9.jpg","hash":"4e50923c18bd46ef56ffcb76df90383edb51b4a7","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/d4c4710cfbbb1b48.jpg","hash":"f281ab730895dd1d36b907a9e22e7fdf86f60fd6","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/d52ef53e746bc4cb.jpg","hash":"ea797a2b34406c7230445a82a9de6c3aeb297c8b","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/e0099648baa42e6f.jpg","hash":"2f8dba71abe8e40da15fd5fdfd196a420218993c","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/e01e25032e3cd3a8.jpg","hash":"a3ec9f4e6011998debf879229f63abf8724a182a","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/e0b981f651d23679.jpg","hash":"c0b079a856cc495f925a7599fe2f74a53849c4d8","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/e696685082cabdab.jpg","hash":"1ec94e8d2c8bccb786d74550b0d0a55eb3fd447c","modified":1507546530201},{"_id":"public/2017/10/09/201710091643/f4526c5a2570e5b2.jpg","hash":"0722f0f620920b103692a0048c89bad387ecc090","modified":1507546530202},{"_id":"public/2017/10/09/201710091643/f48dc945f00e213f.jpg","hash":"55385f1d5221b46e710bc5f91400ce93e1e26dff","modified":1507546530202},{"_id":"public/2017/10/09/201710091643/fba20274fc7b6174.jpg","hash":"5f1fe4a144bec40e2cd894e07f73854819e73945","modified":1507546530202},{"_id":"public/main.507b3a.js","hash":"59ccafbd45d28c397a8a901152ef5e196077e4f4","modified":1507546530214},{"_id":"public/slider.e37972.js","hash":"6dec4e220c89049037eebc44404abd8455d22ad7","modified":1507546530214},{"_id":"public/mobile.fdc4b7.js","hash":"6bfff9bfe4d7e067b6289e851a4c424ac815af5e","modified":1507546530215},{"_id":"public/main.507b3a.css","hash":"ddf6e2c6b953c2c59a3c271e6070010a4cc81cf9","modified":1507546530215},{"_id":"public/2017/10/09/201710091601/183e05351cd1cd68.jpg","hash":"db9528c384e97178e353615bc883c5e066b5079e","modified":1507546530215},{"_id":"public/2017/10/09/201710091601/295ffe7e24431533.jpg","hash":"0a5b5018b2c5ad736687f948dba30706a934d590","modified":1507546530215},{"_id":"public/2017/10/09/201710091601/59918027883d893c.jpg","hash":"4ff1aa4f737c4b568159bae4077cb15a47e0b3f4","modified":1507546530215},{"_id":"public/2017/10/09/201710091601/68b12c83fd82b947.jpg","hash":"31c190cd64a750d268686c606a1b8dba95c167e0","modified":1507546530215},{"_id":"public/2017/10/09/201710091601/90b48b8f16df2557.jpg","hash":"eeedd8b9985743ded601581d15a0ea130120c5ce","modified":1507546530216},{"_id":"public/2017/10/09/201710091601/ba39d3720b24a03f.jpg","hash":"39e10a0be812d2b8a42cbd0e2c07328ff22a44b4","modified":1507546530216},{"_id":"public/2017/10/09/201710091643/183e05351cd1cd68.jpg","hash":"db9528c384e97178e353615bc883c5e066b5079e","modified":1507546530216},{"_id":"public/2017/10/09/201710091643/295ffe7e24431533.jpg","hash":"0a5b5018b2c5ad736687f948dba30706a934d590","modified":1507546530216},{"_id":"public/2017/10/09/201710091643/59918027883d893c.jpg","hash":"4ff1aa4f737c4b568159bae4077cb15a47e0b3f4","modified":1507546530216},{"_id":"public/2017/10/09/201710091643/68b12c83fd82b947.jpg","hash":"31c190cd64a750d268686c606a1b8dba95c167e0","modified":1507546530216},{"_id":"public/2017/10/09/201710091643/90b48b8f16df2557.jpg","hash":"eeedd8b9985743ded601581d15a0ea130120c5ce","modified":1507546530216},{"_id":"public/2017/10/09/201710091643/ba39d3720b24a03f.jpg","hash":"39e10a0be812d2b8a42cbd0e2c07328ff22a44b4","modified":1507546530217}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"ESXiVcenter","date":"2017-10-09T08:01:14.000Z","_content":"\nESXiVcenter\n\n<!-- more -->\n\n# 1 \n\n## 1.1 VSphere\n|                                                 |                         |\n| --------------------------------------------------- | ----------------------- |\n| 1.VMware-VMvisor-Installer-5.5.0-1331820.x86_64.iso | ESXi            |\n| 2.VMware-viclient-all-5.5.0-1281650.exe             | vsphere client  |\n| 3.VMware-VIMSetup-all-5.5.0-1312299Vcenter.iso  | Vcenter         |\n| VMware_vSphere5keygen.rar                           | Vcenter           |\n\n> : [http://pan.baidu.com/s/1hq0dbda](http://pan.baidu.com/s/1hq0dbda)\n> : jkh4\n\n## 1.2 WindownsServer &SQLServer\n\n|                                                                                                   |                   |\n| ----------------------------------------------------------------------------------------------------- | ----------------- |\n| cn_windows_server_2008_r2_standard_enterprise_datacenter_and_web_with_sp1_vl_build_x64_dvd_617396.iso | WindowsServer |\n| SQLFULL_x64_CHS.exe                                                                                   | SQL Server 2008 R |\n\n> : [http://pan.baidu.com/s/1hqwFm9e](http://pan.baidu.com/s/1hqwFm9e)\n> : ajn3\n> <br>\n>\n> : [http://pan.baidu.com/s/1mg1qOEO](http://pan.baidu.com/s/1mg1qOEO)\n> : qajv\n\n# 2 ESXi5.5\n\n## 2.1 ESXi5.5\n\n### 2.1.1 \n\n![](/66e88f1227120852.jpg)\n\n### 2.1.2 \n\nLSI_MR3.V00\n:U\"LSI_MR3.V00\",U\"LSI_MSGP.V00\",\"LSI_MR3.V00\"\n![](/c1e7b073aa72b3c1.jpg)\n\n### 2.1.3 \n\nCPU,,\n![](/48071838f3615424.jpg)\n\n### 2.1.4 \n\nEnter\n![](/c3138d78572d2472.jpg)\n\n### 2.1.5 \n\nF11\n![](/bd5f4888a2ae5a64.jpg)\n\n### 2.1.6 \n\nU,Enter\n![](/941e2ac251f1c098.jpg)\n\n### 2.1.7 \n\nUS\n![](/d0e16aa7a3eecca7.jpg)\n\n### 2.1.8 ROOT\n\nEnter\n![](/9e2505199e03c37c.jpg)\n\n### 2.1.9 \n\nF11\n![](/42997c9404fbb3c5.jpg)\n\n![](/785e0001fc28c841.jpg)\n\n### 2.1.10 \n\nU,Enter\n![](/d84386cd9bcedc8f.jpg)\n\n## 2.2 ESXi\n\n### 2.2.1 \n\nF2\n![](/c4c9fe68e495067a.jpg)\n\nroot\n![](/cbedaa2848096de4.jpg)\n\n### 2.2.2 \n\n(Configure Management Network)\n![](/9f4a8ebbc574434d.jpg)\n\nIP(IP Configuration)\n![](/07d3ef73b5c3f8ce.jpg)\n\nIPIP,Netmask,Gateway,Enter\n![](/8ff306dda9496ae3.jpg)\n\nDNS(DNS Configuration)\n![](/73411fbff77a7f7f.jpg)\nDNS\n![](/a20500ba11982b27.jpg)\n\n\n![](/d52ef53e746bc4cb.jpg)\n\n# 3 WindowsServer\n\n## 3.1 Vsphere CLient\n\n## 3.2 WindowsServer\n\n### 3.2.1 ESXi\n\n![](/545eaec054fd5218.jpg)\n\n### 3.2.2 \n\n\n![](/5a74c07b6f07c6d7.jpg)\n\n\n![](/2324f721115c3785.jpg)\n\n,\n![](/e83ee1ff8a839a1c.jpg)\n\n,\n![](/1508a77d6a8ea1c8.jpg)\n\n\n![](/751bb2b097bb76bf.jpg)\n\n,\n![](/f92ff5e1e860a45c.jpg)\n\n,\n![](/e620aae6ab7c8e13.jpg)\n\n\n![](/7d3f472d90225cb6.jpg)\n\n### 3.2.3 \n\n\n\n#### 3.2.3.1 \n\n,\n![](/2a5be182dfce2f21.jpg)\n\n,\n![](/e0b95334d12d044f.jpg)\n\n\n![](/e0bb2f4c6b455757.jpg)\n\n\n![](/0afa78fbca1dc288.jpg)\n\nCD/DVD,,,,\n![](/fba20274fc7b6174.jpg)\n\n\n![](/fb218f399632a938.jpg)\n\n#### 3.2.3.2 \n\n\n![](/fb218f399632a938.jpg)\n\n\n![](/e6eaabb5e0327380.jpg)\n\nCD/DVD,ISO\n![](/e5aa907519fce1c0.jpg)\n\n\n![](/566bae7cacf04cc7.jpg)\n\n# 4 SQLServer\n\n## 4.1 .NET Framework 3.5.1\n\n![](/4c9a2f038cdaeb71.jpg)\n\n![](/6e979887453d65b1.jpg)\n\n![](/5691d99da449aeb2.jpg)\n\n![](/e01e25032e3cd3a8.jpg)\n\n![](/1673c7249c05f467.jpg)\n\n![](/e696685082cabdab.jpg)\n\n## 4.2 SQLServer\n\n### 4.2.1 setup.exe\n\n![](/50b60481426d3afd.jpg)\n\n### 4.2.2 \n\n\n![](/32e3eb023f6ee3ba.jpg)\n\n![](/5cf991d40fd5681e.jpg)\n\n### 4.2.3 \n\n![](/a182ce0049370fe2.jpg)\n\n### 4.2.4 \n\n![](/180a716339eaac7d.jpg)\n\n### 4.2.5 \n\n- ![](/7977fce67fad7ab2.jpg)\n\n- SQL ServerSQL Server\n![](/e0b981f651d23679.jpg)\n\n- ![](/cdbf09ff9e323ccf.jpg)\n\n- Reporting Services80vCenter Server80\n![](/b121ca70c26deb9b.jpg)\n\n- ![](/7775353d41d1249a.jpg)\n\n- ,\n![](/6a9abbd5bcd8ae9b.jpg)\n\n- \n![](/0e655e34fd585501.jpg)\n\n- \n,SQLServer\n![](/f9120d53fb7c396b.jpg)\nNT AUTHORITY\\SYSTEM,,\n![](/c34e5c68c50e2534.jpg)\n\n- \n;\nSQL Server sa;\n,SQL Server;\n![](/eb9fae41092bd441.jpg)\n\n- ,\n![](/3d6c3c2b7962e631.jpg)\n\n- \n![](/e53df4dd51341905.jpg)\n\n- :,\n![](/551b7ab676551748.jpg)\n\n- \n![](/fb85018c73538669.jpg)\n\n- \n![](/ae6370a150336ea8.jpg)\n\n## 4.3 SQLServer\n\n### 4.3.1 \n\n \"\" ->\"\"->\"secpol.msc\", , \"\" -> \"\" , \"\"\n![](/6e480ad0f8a2f6f8.jpg)\n\n### 4.3.2 SQLServer\n\n- SQL Server Management Studio\n![](/0cfc23cd25d88711.jpg)\n\n- Windows\n![](/2354389b190af5b4.jpg)\n\n### 4.3.3 Vcenter\n\nSQLServer\n![](/06132485ab59545a.jpg)\n\n\n```\nuse [master]\ngo\nCREATE DATABASE [VCDB] ON PRIMARY\n(NAME = N'vcdb', FILENAME = N'C:\\VCDB.mdf' , SIZE = 3000KB , FILEGROWTH = 10% )\nLOG ON\n(NAME = N'vcdb_log', FILENAME = N'C:\\VCDB.ldf' , SIZE = 1000KB , FILEGROWTH = 10%)\nCOLLATE SQL_Latin1_General_CP1_CI_AS\ngo\nuse VCDB\ngo\nsp_addlogin @loginame=[vpxuser], @passwd=N'vpxuser', @defdb='VCDB', @deflanguage='us_english'\ngo\nALTER LOGIN [vpxuser] WITH CHECK_POLICY = OFF\ngo\nCREATE USER [vpxuser] for LOGIN [vpxuser]\ngo\n```\n\n\n```\nCREATE SCHEMA [VMW]\ngo\nALTER USER [vpxuser] WITH DEFAULT_SCHEMA =[VMW]\ngo\nif not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = 'VC_ADMIN_ROLE')\nCREATE ROLE VC_ADMIN_ROLE;\nGRANT ALTER ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;\nGRANT REFERENCES ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;\nGRANT INSERT ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;\nGRANT CREATE TABLE to VC_ADMIN_ROLE;\nGRANT CREATE VIEW to VC_ADMIN_ROLE;\nGRANT CREATE Procedure to VC_ADMIN_ROLE;\nif not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = 'VC_USER_ROLE')\nCREATE ROLE VC_USER_ROLE\ngo\nGRANT SELECT ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT INSERT ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT DELETE ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT UPDATE ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT EXECUTE ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nsp_addrolemember VC_USER_ROLE , [vpxuser]\ngo\nsp_addrolemember VC_ADMIN_ROLE , [vpxuser]\ngo\nuse MSDB\ngo\nif not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = 'VC_ADMIN_ROLE')\nCREATE ROLE VC_ADMIN_ROLE;\ngo\nGRANT SELECT on msdb.dbo.syscategories to VC_ADMIN_ROLE\ngo\nGRANT SELECT on msdb.dbo.sysjobsteps to VC_ADMIN_ROLE\ngo\nGRANT SELECT ON msdb.dbo.sysjobs to VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_job TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_delete_job TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_jobstep TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_update_job TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_jobserver TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_jobschedule TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_category TO VC_ADMIN_ROLE\ngo\nsp_addrolemember VC_ADMIN_ROLE , [vpxuser]\ngo\n```\n\n### 4.3.4 \n\n\n![](/1cda4b829db27966.jpg)\n\n\"RemoteDACEnable\"\"True\"\n![](/6062c404ce14a9d1.jpg)\n\n### 4.3.5 ODBC\n\n- ODBC\n![](/339c821002d465d5.jpg)\n\n- DSN,\n![](/aff21e7004340e15.jpg)\n\n- SQL Server Native Client 10.0,\n![](/8f82cb2725fa616e.jpg)\n\n- SQLServer\n,localhost,\n![](/d6e56c27934793e5.jpg)\n\n- ,Windows,\n![](/5b4ae1ddf38c5bac.jpg)\n\n- ,,\n![](/a5e44268d9368b5e.jpg)\n\n- \n![](/a73157c0e03e0bef.jpg)\n\n- \n![](/031b589e22e15416.jpg)\n\n- ,,\n![](/89d7a010bcc96bca.jpg)\n![](/63d531446c748da6.jpg)\n\n# 5 vCenter\n\n## 5.1 autorun.exe\n\n## 5.2 simple install\n\n![](/68b12c83fd82b947.jpg)\n\n![](/2d95d2595ef8cf3b.jpg)\n\n![](/b1969927bd8996fc.jpg)\n\n![](/f410bb787d1fb33f.jpg)\n\n## 5.3 vCenter\n\n![](/ba5c85b09c522978.jpg)\n\n\n![](/6cbc855c0e0788ca.jpg)\n\n## 5.4 Simple install\n\n\n![](/b169f5c72441e23a.jpg)\n\n\n![](/873b13631b0a2d43.jpg)\n\n\n![](/2d6ca36262af1fb1.jpg)\n\n\n![](/9b3ba694564ec5f0.jpg)\n\n## 5.5 \n\n![](/e649a7b010a24b60.jpg)\n\n(XP)\n![](/f48bf0716013ac11.jpg)\n\n## 5.6 \n\n\n![](/4812df9dc90e7725.jpg)\n\nWindows,\n![](/8f4b4c50b604bbdf.jpg)\n\n## 5.7 \n\n- vCenter Server: \n![](/b9575e72d62e7474.jpg)\n\n- : (vCenter Server HTTP8080)\n![](/a2709486cef98dd9.jpg)\n\n- JVM: \n![](/99c342e6c648a626.jpg)\n\n## 5.8 \n\n![](/b1e83ae7831df206.jpg)\n\n![](/ad32819d93b8330c.jpg)\n\n![](/abfe4002d809a330.jpg)\n\n## 5.9 vsphere clientvCenter\n\n![](/f4526c5a2570e5b2.jpg)\n\n![](/d547095ccdfa9a70.jpg)\n","source":"_posts/201710091601.md","raw":"---\ntitle: ESXiVcenter\ndate: 2017-10-09 16:01:14\ntags: \n  - virtualization\n---\n\nESXiVcenter\n\n<!-- more -->\n\n# 1 \n\n## 1.1 VSphere\n|                                                 |                         |\n| --------------------------------------------------- | ----------------------- |\n| 1.VMware-VMvisor-Installer-5.5.0-1331820.x86_64.iso | ESXi            |\n| 2.VMware-viclient-all-5.5.0-1281650.exe             | vsphere client  |\n| 3.VMware-VIMSetup-all-5.5.0-1312299Vcenter.iso  | Vcenter         |\n| VMware_vSphere5keygen.rar                           | Vcenter           |\n\n> : [http://pan.baidu.com/s/1hq0dbda](http://pan.baidu.com/s/1hq0dbda)\n> : jkh4\n\n## 1.2 WindownsServer &SQLServer\n\n|                                                                                                   |                   |\n| ----------------------------------------------------------------------------------------------------- | ----------------- |\n| cn_windows_server_2008_r2_standard_enterprise_datacenter_and_web_with_sp1_vl_build_x64_dvd_617396.iso | WindowsServer |\n| SQLFULL_x64_CHS.exe                                                                                   | SQL Server 2008 R |\n\n> : [http://pan.baidu.com/s/1hqwFm9e](http://pan.baidu.com/s/1hqwFm9e)\n> : ajn3\n> <br>\n>\n> : [http://pan.baidu.com/s/1mg1qOEO](http://pan.baidu.com/s/1mg1qOEO)\n> : qajv\n\n# 2 ESXi5.5\n\n## 2.1 ESXi5.5\n\n### 2.1.1 \n\n![](/66e88f1227120852.jpg)\n\n### 2.1.2 \n\nLSI_MR3.V00\n:U\"LSI_MR3.V00\",U\"LSI_MSGP.V00\",\"LSI_MR3.V00\"\n![](/c1e7b073aa72b3c1.jpg)\n\n### 2.1.3 \n\nCPU,,\n![](/48071838f3615424.jpg)\n\n### 2.1.4 \n\nEnter\n![](/c3138d78572d2472.jpg)\n\n### 2.1.5 \n\nF11\n![](/bd5f4888a2ae5a64.jpg)\n\n### 2.1.6 \n\nU,Enter\n![](/941e2ac251f1c098.jpg)\n\n### 2.1.7 \n\nUS\n![](/d0e16aa7a3eecca7.jpg)\n\n### 2.1.8 ROOT\n\nEnter\n![](/9e2505199e03c37c.jpg)\n\n### 2.1.9 \n\nF11\n![](/42997c9404fbb3c5.jpg)\n\n![](/785e0001fc28c841.jpg)\n\n### 2.1.10 \n\nU,Enter\n![](/d84386cd9bcedc8f.jpg)\n\n## 2.2 ESXi\n\n### 2.2.1 \n\nF2\n![](/c4c9fe68e495067a.jpg)\n\nroot\n![](/cbedaa2848096de4.jpg)\n\n### 2.2.2 \n\n(Configure Management Network)\n![](/9f4a8ebbc574434d.jpg)\n\nIP(IP Configuration)\n![](/07d3ef73b5c3f8ce.jpg)\n\nIPIP,Netmask,Gateway,Enter\n![](/8ff306dda9496ae3.jpg)\n\nDNS(DNS Configuration)\n![](/73411fbff77a7f7f.jpg)\nDNS\n![](/a20500ba11982b27.jpg)\n\n\n![](/d52ef53e746bc4cb.jpg)\n\n# 3 WindowsServer\n\n## 3.1 Vsphere CLient\n\n## 3.2 WindowsServer\n\n### 3.2.1 ESXi\n\n![](/545eaec054fd5218.jpg)\n\n### 3.2.2 \n\n\n![](/5a74c07b6f07c6d7.jpg)\n\n\n![](/2324f721115c3785.jpg)\n\n,\n![](/e83ee1ff8a839a1c.jpg)\n\n,\n![](/1508a77d6a8ea1c8.jpg)\n\n\n![](/751bb2b097bb76bf.jpg)\n\n,\n![](/f92ff5e1e860a45c.jpg)\n\n,\n![](/e620aae6ab7c8e13.jpg)\n\n\n![](/7d3f472d90225cb6.jpg)\n\n### 3.2.3 \n\n\n\n#### 3.2.3.1 \n\n,\n![](/2a5be182dfce2f21.jpg)\n\n,\n![](/e0b95334d12d044f.jpg)\n\n\n![](/e0bb2f4c6b455757.jpg)\n\n\n![](/0afa78fbca1dc288.jpg)\n\nCD/DVD,,,,\n![](/fba20274fc7b6174.jpg)\n\n\n![](/fb218f399632a938.jpg)\n\n#### 3.2.3.2 \n\n\n![](/fb218f399632a938.jpg)\n\n\n![](/e6eaabb5e0327380.jpg)\n\nCD/DVD,ISO\n![](/e5aa907519fce1c0.jpg)\n\n\n![](/566bae7cacf04cc7.jpg)\n\n# 4 SQLServer\n\n## 4.1 .NET Framework 3.5.1\n\n![](/4c9a2f038cdaeb71.jpg)\n\n![](/6e979887453d65b1.jpg)\n\n![](/5691d99da449aeb2.jpg)\n\n![](/e01e25032e3cd3a8.jpg)\n\n![](/1673c7249c05f467.jpg)\n\n![](/e696685082cabdab.jpg)\n\n## 4.2 SQLServer\n\n### 4.2.1 setup.exe\n\n![](/50b60481426d3afd.jpg)\n\n### 4.2.2 \n\n\n![](/32e3eb023f6ee3ba.jpg)\n\n![](/5cf991d40fd5681e.jpg)\n\n### 4.2.3 \n\n![](/a182ce0049370fe2.jpg)\n\n### 4.2.4 \n\n![](/180a716339eaac7d.jpg)\n\n### 4.2.5 \n\n- ![](/7977fce67fad7ab2.jpg)\n\n- SQL ServerSQL Server\n![](/e0b981f651d23679.jpg)\n\n- ![](/cdbf09ff9e323ccf.jpg)\n\n- Reporting Services80vCenter Server80\n![](/b121ca70c26deb9b.jpg)\n\n- ![](/7775353d41d1249a.jpg)\n\n- ,\n![](/6a9abbd5bcd8ae9b.jpg)\n\n- \n![](/0e655e34fd585501.jpg)\n\n- \n,SQLServer\n![](/f9120d53fb7c396b.jpg)\nNT AUTHORITY\\SYSTEM,,\n![](/c34e5c68c50e2534.jpg)\n\n- \n;\nSQL Server sa;\n,SQL Server;\n![](/eb9fae41092bd441.jpg)\n\n- ,\n![](/3d6c3c2b7962e631.jpg)\n\n- \n![](/e53df4dd51341905.jpg)\n\n- :,\n![](/551b7ab676551748.jpg)\n\n- \n![](/fb85018c73538669.jpg)\n\n- \n![](/ae6370a150336ea8.jpg)\n\n## 4.3 SQLServer\n\n### 4.3.1 \n\n \"\" ->\"\"->\"secpol.msc\", , \"\" -> \"\" , \"\"\n![](/6e480ad0f8a2f6f8.jpg)\n\n### 4.3.2 SQLServer\n\n- SQL Server Management Studio\n![](/0cfc23cd25d88711.jpg)\n\n- Windows\n![](/2354389b190af5b4.jpg)\n\n### 4.3.3 Vcenter\n\nSQLServer\n![](/06132485ab59545a.jpg)\n\n\n```\nuse [master]\ngo\nCREATE DATABASE [VCDB] ON PRIMARY\n(NAME = N'vcdb', FILENAME = N'C:\\VCDB.mdf' , SIZE = 3000KB , FILEGROWTH = 10% )\nLOG ON\n(NAME = N'vcdb_log', FILENAME = N'C:\\VCDB.ldf' , SIZE = 1000KB , FILEGROWTH = 10%)\nCOLLATE SQL_Latin1_General_CP1_CI_AS\ngo\nuse VCDB\ngo\nsp_addlogin @loginame=[vpxuser], @passwd=N'vpxuser', @defdb='VCDB', @deflanguage='us_english'\ngo\nALTER LOGIN [vpxuser] WITH CHECK_POLICY = OFF\ngo\nCREATE USER [vpxuser] for LOGIN [vpxuser]\ngo\n```\n\n\n```\nCREATE SCHEMA [VMW]\ngo\nALTER USER [vpxuser] WITH DEFAULT_SCHEMA =[VMW]\ngo\nif not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = 'VC_ADMIN_ROLE')\nCREATE ROLE VC_ADMIN_ROLE;\nGRANT ALTER ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;\nGRANT REFERENCES ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;\nGRANT INSERT ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;\nGRANT CREATE TABLE to VC_ADMIN_ROLE;\nGRANT CREATE VIEW to VC_ADMIN_ROLE;\nGRANT CREATE Procedure to VC_ADMIN_ROLE;\nif not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = 'VC_USER_ROLE')\nCREATE ROLE VC_USER_ROLE\ngo\nGRANT SELECT ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT INSERT ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT DELETE ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT UPDATE ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nGRANT EXECUTE ON SCHEMA ::[VMW] to VC_USER_ROLE\ngo\nsp_addrolemember VC_USER_ROLE , [vpxuser]\ngo\nsp_addrolemember VC_ADMIN_ROLE , [vpxuser]\ngo\nuse MSDB\ngo\nif not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = 'VC_ADMIN_ROLE')\nCREATE ROLE VC_ADMIN_ROLE;\ngo\nGRANT SELECT on msdb.dbo.syscategories to VC_ADMIN_ROLE\ngo\nGRANT SELECT on msdb.dbo.sysjobsteps to VC_ADMIN_ROLE\ngo\nGRANT SELECT ON msdb.dbo.sysjobs to VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_job TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_delete_job TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_jobstep TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_update_job TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_jobserver TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_jobschedule TO VC_ADMIN_ROLE\ngo\nGRANT EXECUTE ON msdb.dbo.sp_add_category TO VC_ADMIN_ROLE\ngo\nsp_addrolemember VC_ADMIN_ROLE , [vpxuser]\ngo\n```\n\n### 4.3.4 \n\n\n![](/1cda4b829db27966.jpg)\n\n\"RemoteDACEnable\"\"True\"\n![](/6062c404ce14a9d1.jpg)\n\n### 4.3.5 ODBC\n\n- ODBC\n![](/339c821002d465d5.jpg)\n\n- DSN,\n![](/aff21e7004340e15.jpg)\n\n- SQL Server Native Client 10.0,\n![](/8f82cb2725fa616e.jpg)\n\n- SQLServer\n,localhost,\n![](/d6e56c27934793e5.jpg)\n\n- ,Windows,\n![](/5b4ae1ddf38c5bac.jpg)\n\n- ,,\n![](/a5e44268d9368b5e.jpg)\n\n- \n![](/a73157c0e03e0bef.jpg)\n\n- \n![](/031b589e22e15416.jpg)\n\n- ,,\n![](/89d7a010bcc96bca.jpg)\n![](/63d531446c748da6.jpg)\n\n# 5 vCenter\n\n## 5.1 autorun.exe\n\n## 5.2 simple install\n\n![](/68b12c83fd82b947.jpg)\n\n![](/2d95d2595ef8cf3b.jpg)\n\n![](/b1969927bd8996fc.jpg)\n\n![](/f410bb787d1fb33f.jpg)\n\n## 5.3 vCenter\n\n![](/ba5c85b09c522978.jpg)\n\n\n![](/6cbc855c0e0788ca.jpg)\n\n## 5.4 Simple install\n\n\n![](/b169f5c72441e23a.jpg)\n\n\n![](/873b13631b0a2d43.jpg)\n\n\n![](/2d6ca36262af1fb1.jpg)\n\n\n![](/9b3ba694564ec5f0.jpg)\n\n## 5.5 \n\n![](/e649a7b010a24b60.jpg)\n\n(XP)\n![](/f48bf0716013ac11.jpg)\n\n## 5.6 \n\n\n![](/4812df9dc90e7725.jpg)\n\nWindows,\n![](/8f4b4c50b604bbdf.jpg)\n\n## 5.7 \n\n- vCenter Server: \n![](/b9575e72d62e7474.jpg)\n\n- : (vCenter Server HTTP8080)\n![](/a2709486cef98dd9.jpg)\n\n- JVM: \n![](/99c342e6c648a626.jpg)\n\n## 5.8 \n\n![](/b1e83ae7831df206.jpg)\n\n![](/ad32819d93b8330c.jpg)\n\n![](/abfe4002d809a330.jpg)\n\n## 5.9 vsphere clientvCenter\n\n![](/f4526c5a2570e5b2.jpg)\n\n![](/d547095ccdfa9a70.jpg)\n","slug":"201710091601","published":1,"updated":"2017-10-09T09:19:21.060Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a24r0000zizpavcpsk1z","content":"<p>ESXiVcenter</p>\n<a id=\"more\"></a>\n<h1 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1 \"></a>1 </h1><h2 id=\"1-1-VSphere\"><a href=\"#1-1-VSphere\" class=\"headerlink\" title=\"1.1 VSphere\"></a>1.1 VSphere</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1.VMware-VMvisor-Installer-5.5.0-1331820.x86_64.iso</td>\n<td>ESXi</td>\n</tr>\n<tr>\n<td>2.VMware-viclient-all-5.5.0-1281650.exe</td>\n<td>vsphere client </td>\n</tr>\n<tr>\n<td>3.VMware-VIMSetup-all-5.5.0-1312299Vcenter.iso</td>\n<td>Vcenter</td>\n</tr>\n<tr>\n<td>VMware_vSphere5keygen.rar</td>\n<td>Vcenter</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>: <a href=\"http://pan.baidu.com/s/1hq0dbda\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1hq0dbda</a><br>: jkh4</p>\n</blockquote>\n<h2 id=\"1-2-WindownsServer-amp-SQLServer\"><a href=\"#1-2-WindownsServer-amp-SQLServer\" class=\"headerlink\" title=\"1.2 WindownsServer &amp;SQLServer\"></a>1.2 WindownsServer &amp;SQLServer</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cn_windows_server_2008_r2_standard_enterprise_datacenter_and_web_with_sp1_vl_build_x64_dvd_617396.iso</td>\n<td>WindowsServer</td>\n</tr>\n<tr>\n<td>SQLFULL_x64_CHS.exe</td>\n<td>SQL Server 2008 R</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>: <a href=\"http://pan.baidu.com/s/1hqwFm9e\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1hqwFm9e</a><br>: ajn3<br><br></p>\n<p>: <a href=\"http://pan.baidu.com/s/1mg1qOEO\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1mg1qOEO</a><br>: qajv</p>\n</blockquote>\n<h1 id=\"2-ESXi5-5\"><a href=\"#2-ESXi5-5\" class=\"headerlink\" title=\"2 ESXi5.5\"></a>2 ESXi5.5</h1><h2 id=\"2-1-ESXi5-5\"><a href=\"#2-1-ESXi5-5\" class=\"headerlink\" title=\"2.1 ESXi5.5\"></a>2.1 ESXi5.5</h2><h3 id=\"2-1-1-\"><a href=\"#2-1-1-\" class=\"headerlink\" title=\"2.1.1 \"></a>2.1.1 </h3><p><br><img src=\"/2017/10/09/201710091601/66e88f1227120852.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-2-\"><a href=\"#2-1-2-\" class=\"headerlink\" title=\"2.1.2 \"></a>2.1.2 </h3><p>LSI_MR3.V00<br>:ULSI_MR3.V00,ULSI_MSGP.V00,LSI_MR3.V00<br><img src=\"/2017/10/09/201710091601/c1e7b073aa72b3c1.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-3-\"><a href=\"#2-1-3-\" class=\"headerlink\" title=\"2.1.3 \"></a>2.1.3 </h3><p>CPU,,<br><img src=\"/2017/10/09/201710091601/48071838f3615424.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-4-\"><a href=\"#2-1-4-\" class=\"headerlink\" title=\"2.1.4 \"></a>2.1.4 </h3><p>Enter<br><img src=\"/2017/10/09/201710091601/c3138d78572d2472.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-5-\"><a href=\"#2-1-5-\" class=\"headerlink\" title=\"2.1.5 \"></a>2.1.5 </h3><p>F11<br><img src=\"/2017/10/09/201710091601/bd5f4888a2ae5a64.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-6-\"><a href=\"#2-1-6-\" class=\"headerlink\" title=\"2.1.6 \"></a>2.1.6 </h3><p>U,Enter<br><img src=\"/2017/10/09/201710091601/941e2ac251f1c098.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-7-\"><a href=\"#2-1-7-\" class=\"headerlink\" title=\"2.1.7 \"></a>2.1.7 </h3><p>US<br><img src=\"/2017/10/09/201710091601/d0e16aa7a3eecca7.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-8-ROOT\"><a href=\"#2-1-8-ROOT\" class=\"headerlink\" title=\"2.1.8 ROOT\"></a>2.1.8 ROOT</h3><p>Enter<br><img src=\"/2017/10/09/201710091601/9e2505199e03c37c.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-9-\"><a href=\"#2-1-9-\" class=\"headerlink\" title=\"2.1.9 \"></a>2.1.9 </h3><p>F11<br><img src=\"/2017/10/09/201710091601/42997c9404fbb3c5.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/785e0001fc28c841.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-10-\"><a href=\"#2-1-10-\" class=\"headerlink\" title=\"2.1.10 \"></a>2.1.10 </h3><p>U,Enter<br><img src=\"/2017/10/09/201710091601/d84386cd9bcedc8f.jpg\" alt=\"\"></p>\n<h2 id=\"2-2-ESXi\"><a href=\"#2-2-ESXi\" class=\"headerlink\" title=\"2.2 ESXi\"></a>2.2 ESXi</h2><h3 id=\"2-2-1-\"><a href=\"#2-2-1-\" class=\"headerlink\" title=\"2.2.1 \"></a>2.2.1 </h3><p>F2<br><img src=\"/2017/10/09/201710091601/c4c9fe68e495067a.jpg\" alt=\"\"></p>\n<p>root<br><img src=\"/2017/10/09/201710091601/cbedaa2848096de4.jpg\" alt=\"\"></p>\n<h3 id=\"2-2-2-\"><a href=\"#2-2-2-\" class=\"headerlink\" title=\"2.2.2 \"></a>2.2.2 </h3><p>(Configure Management Network)<br><img src=\"/2017/10/09/201710091601/9f4a8ebbc574434d.jpg\" alt=\"\"></p>\n<p>IP(IP Configuration)<br><img src=\"/2017/10/09/201710091601/07d3ef73b5c3f8ce.jpg\" alt=\"\"></p>\n<p>IPIP,Netmask,Gateway,Enter<br><img src=\"/2017/10/09/201710091601/8ff306dda9496ae3.jpg\" alt=\"\"></p>\n<p>DNS(DNS Configuration)<br><img src=\"/2017/10/09/201710091601/73411fbff77a7f7f.jpg\" alt=\"\"><br>DNS<br><img src=\"/2017/10/09/201710091601/a20500ba11982b27.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/d52ef53e746bc4cb.jpg\" alt=\"\"></p>\n<h1 id=\"3-WindowsServer\"><a href=\"#3-WindowsServer\" class=\"headerlink\" title=\"3 WindowsServer\"></a>3 WindowsServer</h1><h2 id=\"3-1-Vsphere-CLient\"><a href=\"#3-1-Vsphere-CLient\" class=\"headerlink\" title=\"3.1 Vsphere CLient\"></a>3.1 Vsphere CLient</h2><h2 id=\"3-2-WindowsServer\"><a href=\"#3-2-WindowsServer\" class=\"headerlink\" title=\"3.2 WindowsServer\"></a>3.2 WindowsServer</h2><h3 id=\"3-2-1-ESXi\"><a href=\"#3-2-1-ESXi\" class=\"headerlink\" title=\"3.2.1 ESXi\"></a>3.2.1 ESXi</h3><p><img src=\"/2017/10/09/201710091601/545eaec054fd5218.jpg\" alt=\"\"></p>\n<h3 id=\"3-2-2-\"><a href=\"#3-2-2-\" class=\"headerlink\" title=\"3.2.2 \"></a>3.2.2 </h3><p><br><img src=\"/2017/10/09/201710091601/5a74c07b6f07c6d7.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/2324f721115c3785.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/e83ee1ff8a839a1c.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/1508a77d6a8ea1c8.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/751bb2b097bb76bf.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/f92ff5e1e860a45c.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/e620aae6ab7c8e13.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/7d3f472d90225cb6.jpg\" alt=\"\"></p>\n<h3 id=\"3-2-3-\"><a href=\"#3-2-3-\" class=\"headerlink\" title=\"3.2.3 \"></a>3.2.3 </h3><p></p>\n<h4 id=\"3-2-3-1-\"><a href=\"#3-2-3-1-\" class=\"headerlink\" title=\"3.2.3.1 \"></a>3.2.3.1 </h4><p>,<br><img src=\"/2017/10/09/201710091601/2a5be182dfce2f21.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/e0b95334d12d044f.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/e0bb2f4c6b455757.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/0afa78fbca1dc288.jpg\" alt=\"\"></p>\n<p>CD/DVD,,,,<br><img src=\"/2017/10/09/201710091601/fba20274fc7b6174.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/fb218f399632a938.jpg\" alt=\"\"></p>\n<h4 id=\"3-2-3-2-\"><a href=\"#3-2-3-2-\" class=\"headerlink\" title=\"3.2.3.2 \"></a>3.2.3.2 </h4><p><br><img src=\"/2017/10/09/201710091601/fb218f399632a938.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/e6eaabb5e0327380.jpg\" alt=\"\"></p>\n<p>CD/DVD,ISO<br><img src=\"/2017/10/09/201710091601/e5aa907519fce1c0.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/566bae7cacf04cc7.jpg\" alt=\"\"></p>\n<h1 id=\"4-SQLServer\"><a href=\"#4-SQLServer\" class=\"headerlink\" title=\"4 SQLServer\"></a>4 SQLServer</h1><h2 id=\"4-1--NET-Framework-3-5-1\"><a href=\"#4-1--NET-Framework-3-5-1\" class=\"headerlink\" title=\"4.1 .NET Framework 3.5.1\"></a>4.1 .NET Framework 3.5.1</h2><p><img src=\"/2017/10/09/201710091601/4c9a2f038cdaeb71.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/6e979887453d65b1.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/5691d99da449aeb2.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/e01e25032e3cd3a8.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/1673c7249c05f467.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/e696685082cabdab.jpg\" alt=\"\"></p>\n<h2 id=\"4-2-SQLServer\"><a href=\"#4-2-SQLServer\" class=\"headerlink\" title=\"4.2 SQLServer\"></a>4.2 SQLServer</h2><h3 id=\"4-2-1-setup-exe\"><a href=\"#4-2-1-setup-exe\" class=\"headerlink\" title=\"4.2.1 setup.exe\"></a>4.2.1 setup.exe</h3><p><img src=\"/2017/10/09/201710091601/50b60481426d3afd.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-2-\"><a href=\"#4-2-2-\" class=\"headerlink\" title=\"4.2.2 \"></a>4.2.2 </h3><p><br><img src=\"/2017/10/09/201710091601/32e3eb023f6ee3ba.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/5cf991d40fd5681e.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-3-\"><a href=\"#4-2-3-\" class=\"headerlink\" title=\"4.2.3 \"></a>4.2.3 </h3><p><img src=\"/2017/10/09/201710091601/a182ce0049370fe2.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-4-\"><a href=\"#4-2-4-\" class=\"headerlink\" title=\"4.2.4 \"></a>4.2.4 </h3><p><img src=\"/2017/10/09/201710091601/180a716339eaac7d.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-5-\"><a href=\"#4-2-5-\" class=\"headerlink\" title=\"4.2.5 \"></a>4.2.5 </h3><ul>\n<li><p><img src=\"/2017/10/09/201710091601/7977fce67fad7ab2.jpg\" alt=\"\"></p>\n</li>\n<li><p>SQL ServerSQL Server<br><img src=\"/2017/10/09/201710091601/e0b981f651d23679.jpg\" alt=\"\"></p>\n</li>\n<li><p><img src=\"/2017/10/09/201710091601/cdbf09ff9e323ccf.jpg\" alt=\"\"></p>\n</li>\n<li><p>Reporting Services80vCenter Server80<br><img src=\"/2017/10/09/201710091601/b121ca70c26deb9b.jpg\" alt=\"\"></p>\n</li>\n<li><p><img src=\"/2017/10/09/201710091601/7775353d41d1249a.jpg\" alt=\"\"></p>\n</li>\n<li><p>,<br><img src=\"/2017/10/09/201710091601/6a9abbd5bcd8ae9b.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/0e655e34fd585501.jpg\" alt=\"\"></p>\n</li>\n<li><p><br>,SQLServer<br><img src=\"/2017/10/09/201710091601/f9120d53fb7c396b.jpg\" alt=\"\"><br>NT AUTHORITY\\SYSTEM,,<br><img src=\"/2017/10/09/201710091601/c34e5c68c50e2534.jpg\" alt=\"\"></p>\n</li>\n<li><p><br>;<br>SQL Server sa;<br>,SQL Server;<br><img src=\"/2017/10/09/201710091601/eb9fae41092bd441.jpg\" alt=\"\"></p>\n</li>\n<li><p>,<br><img src=\"/2017/10/09/201710091601/3d6c3c2b7962e631.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/e53df4dd51341905.jpg\" alt=\"\"></p>\n</li>\n<li><p>:,<br><img src=\"/2017/10/09/201710091601/551b7ab676551748.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/fb85018c73538669.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/ae6370a150336ea8.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h2 id=\"4-3-SQLServer\"><a href=\"#4-3-SQLServer\" class=\"headerlink\" title=\"4.3 SQLServer\"></a>4.3 SQLServer</h2><h3 id=\"4-3-1-\"><a href=\"#4-3-1-\" class=\"headerlink\" title=\"4.3.1 \"></a>4.3.1 </h3><p>  -&gt;-&gt;secpol.msc, ,  -&gt;  , <br><img src=\"/2017/10/09/201710091601/6e480ad0f8a2f6f8.jpg\" alt=\"\"></p>\n<h3 id=\"4-3-2-SQLServer\"><a href=\"#4-3-2-SQLServer\" class=\"headerlink\" title=\"4.3.2 SQLServer\"></a>4.3.2 SQLServer</h3><ul>\n<li><p>SQL Server Management Studio<br><img src=\"/2017/10/09/201710091601/0cfc23cd25d88711.jpg\" alt=\"\"></p>\n</li>\n<li><p>Windows<br><img src=\"/2017/10/09/201710091601/2354389b190af5b4.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h3 id=\"4-3-3-Vcenter\"><a href=\"#4-3-3-Vcenter\" class=\"headerlink\" title=\"4.3.3 Vcenter\"></a>4.3.3 Vcenter</h3><p>SQLServer<br><img src=\"/2017/10/09/201710091601/06132485ab59545a.jpg\" alt=\"\"></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">use [master]</div><div class=\"line\">go</div><div class=\"line\">CREATE DATABASE [VCDB] ON PRIMARY</div><div class=\"line\">(NAME = N&apos;vcdb&apos;, FILENAME = N&apos;C:\\VCDB.mdf&apos; , SIZE = 3000KB , FILEGROWTH = 10% )</div><div class=\"line\">LOG ON</div><div class=\"line\">(NAME = N&apos;vcdb_log&apos;, FILENAME = N&apos;C:\\VCDB.ldf&apos; , SIZE = 1000KB , FILEGROWTH = 10%)</div><div class=\"line\">COLLATE SQL_Latin1_General_CP1_CI_AS</div><div class=\"line\">go</div><div class=\"line\">use VCDB</div><div class=\"line\">go</div><div class=\"line\">sp_addlogin @loginame=[vpxuser], @passwd=N&apos;vpxuser&apos;, @defdb=&apos;VCDB&apos;, @deflanguage=&apos;us_english&apos;</div><div class=\"line\">go</div><div class=\"line\">ALTER LOGIN [vpxuser] WITH CHECK_POLICY = OFF</div><div class=\"line\">go</div><div class=\"line\">CREATE USER [vpxuser] for LOGIN [vpxuser]</div><div class=\"line\">go</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div></pre></td><td class=\"code\"><pre><div class=\"line\">CREATE SCHEMA [VMW]</div><div class=\"line\">go</div><div class=\"line\">ALTER USER [vpxuser] WITH DEFAULT_SCHEMA =[VMW]</div><div class=\"line\">go</div><div class=\"line\">if not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = &apos;VC_ADMIN_ROLE&apos;)</div><div class=\"line\">CREATE ROLE VC_ADMIN_ROLE;</div><div class=\"line\">GRANT ALTER ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT REFERENCES ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT INSERT ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT CREATE TABLE to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT CREATE VIEW to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT CREATE Procedure to VC_ADMIN_ROLE;</div><div class=\"line\">if not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = &apos;VC_USER_ROLE&apos;)</div><div class=\"line\">CREATE ROLE VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT INSERT ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT DELETE ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT UPDATE ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">sp_addrolemember VC_USER_ROLE , [vpxuser]</div><div class=\"line\">go</div><div class=\"line\">sp_addrolemember VC_ADMIN_ROLE , [vpxuser]</div><div class=\"line\">go</div><div class=\"line\">use MSDB</div><div class=\"line\">go</div><div class=\"line\">if not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = &apos;VC_ADMIN_ROLE&apos;)</div><div class=\"line\">CREATE ROLE VC_ADMIN_ROLE;</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT on msdb.dbo.syscategories to VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT on msdb.dbo.sysjobsteps to VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT ON msdb.dbo.sysjobs to VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_job TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_delete_job TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_jobstep TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_update_job TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_jobserver TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_jobschedule TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_category TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">sp_addrolemember VC_ADMIN_ROLE , [vpxuser]</div><div class=\"line\">go</div></pre></td></tr></table></figure></p>\n<h3 id=\"4-3-4-\"><a href=\"#4-3-4-\" class=\"headerlink\" title=\"4.3.4 \"></a>4.3.4 </h3><p><br><img src=\"/2017/10/09/201710091601/1cda4b829db27966.jpg\" alt=\"\"></p>\n<p>RemoteDACEnableTrue<br><img src=\"/2017/10/09/201710091601/6062c404ce14a9d1.jpg\" alt=\"\"></p>\n<h3 id=\"4-3-5-ODBC\"><a href=\"#4-3-5-ODBC\" class=\"headerlink\" title=\"4.3.5 ODBC\"></a>4.3.5 ODBC</h3><ul>\n<li><p>ODBC<br><img src=\"/2017/10/09/201710091601/339c821002d465d5.jpg\" alt=\"\"></p>\n</li>\n<li><p>DSN,<br><img src=\"/2017/10/09/201710091601/aff21e7004340e15.jpg\" alt=\"\"></p>\n</li>\n<li><p>SQL Server Native Client 10.0,<br><img src=\"/2017/10/09/201710091601/8f82cb2725fa616e.jpg\" alt=\"\"></p>\n</li>\n<li><p>SQLServer<br>,localhost,<br><img src=\"/2017/10/09/201710091601/d6e56c27934793e5.jpg\" alt=\"\"></p>\n</li>\n<li><p>,Windows,<br><img src=\"/2017/10/09/201710091601/5b4ae1ddf38c5bac.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,<br><img src=\"/2017/10/09/201710091601/a5e44268d9368b5e.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/a73157c0e03e0bef.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/031b589e22e15416.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,<br><img src=\"/2017/10/09/201710091601/89d7a010bcc96bca.jpg\" alt=\"\"><br><img src=\"/2017/10/09/201710091601/63d531446c748da6.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h1 id=\"5-vCenter\"><a href=\"#5-vCenter\" class=\"headerlink\" title=\"5 vCenter\"></a>5 vCenter</h1><h2 id=\"5-1-autorun-exe\"><a href=\"#5-1-autorun-exe\" class=\"headerlink\" title=\"5.1 autorun.exe\"></a>5.1 autorun.exe</h2><h2 id=\"5-2-simple-install\"><a href=\"#5-2-simple-install\" class=\"headerlink\" title=\"5.2 simple install\"></a>5.2 simple install</h2><p><img src=\"/2017/10/09/201710091601/68b12c83fd82b947.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/2d95d2595ef8cf3b.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/b1969927bd8996fc.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/f410bb787d1fb33f.jpg\" alt=\"\"></p>\n<h2 id=\"5-3-vCenter\"><a href=\"#5-3-vCenter\" class=\"headerlink\" title=\"5.3 vCenter\"></a>5.3 vCenter</h2><p><img src=\"/2017/10/09/201710091601/ba5c85b09c522978.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/6cbc855c0e0788ca.jpg\" alt=\"\"></p>\n<h2 id=\"5-4-Simple-install\"><a href=\"#5-4-Simple-install\" class=\"headerlink\" title=\"5.4 Simple install\"></a>5.4 Simple install</h2><p><br><img src=\"/2017/10/09/201710091601/b169f5c72441e23a.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/873b13631b0a2d43.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/2d6ca36262af1fb1.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/9b3ba694564ec5f0.jpg\" alt=\"\"></p>\n<h2 id=\"5-5-\"><a href=\"#5-5-\" class=\"headerlink\" title=\"5.5 \"></a>5.5 </h2><p><img src=\"/2017/10/09/201710091601/e649a7b010a24b60.jpg\" alt=\"\"></p>\n<p>(XP)<br><img src=\"/2017/10/09/201710091601/f48bf0716013ac11.jpg\" alt=\"\"></p>\n<h2 id=\"5-6-\"><a href=\"#5-6-\" class=\"headerlink\" title=\"5.6 \"></a>5.6 </h2><p><br><img src=\"/2017/10/09/201710091601/4812df9dc90e7725.jpg\" alt=\"\"></p>\n<p>Windows,<br><img src=\"/2017/10/09/201710091601/8f4b4c50b604bbdf.jpg\" alt=\"\"></p>\n<h2 id=\"5-7-\"><a href=\"#5-7-\" class=\"headerlink\" title=\"5.7 \"></a>5.7 </h2><ul>\n<li><p>vCenter Server: <br><img src=\"/2017/10/09/201710091601/b9575e72d62e7474.jpg\" alt=\"\"></p>\n</li>\n<li><p>: (vCenter Server HTTP8080)<br><img src=\"/2017/10/09/201710091601/a2709486cef98dd9.jpg\" alt=\"\"></p>\n</li>\n<li><p>JVM: <br><img src=\"/2017/10/09/201710091601/99c342e6c648a626.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h2 id=\"5-8-\"><a href=\"#5-8-\" class=\"headerlink\" title=\"5.8 \"></a>5.8 </h2><p><img src=\"/2017/10/09/201710091601/b1e83ae7831df206.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/ad32819d93b8330c.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/abfe4002d809a330.jpg\" alt=\"\"></p>\n<h2 id=\"5-9-vsphere-clientvCenter\"><a href=\"#5-9-vsphere-clientvCenter\" class=\"headerlink\" title=\"5.9 vsphere clientvCenter\"></a>5.9 vsphere clientvCenter</h2><p><img src=\"/2017/10/09/201710091601/f4526c5a2570e5b2.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/d547095ccdfa9a70.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<p>ESXiVcenter</p>","more":"<h1 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1 \"></a>1 </h1><h2 id=\"1-1-VSphere\"><a href=\"#1-1-VSphere\" class=\"headerlink\" title=\"1.1 VSphere\"></a>1.1 VSphere</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1.VMware-VMvisor-Installer-5.5.0-1331820.x86_64.iso</td>\n<td>ESXi</td>\n</tr>\n<tr>\n<td>2.VMware-viclient-all-5.5.0-1281650.exe</td>\n<td>vsphere client </td>\n</tr>\n<tr>\n<td>3.VMware-VIMSetup-all-5.5.0-1312299Vcenter.iso</td>\n<td>Vcenter</td>\n</tr>\n<tr>\n<td>VMware_vSphere5keygen.rar</td>\n<td>Vcenter</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>: <a href=\"http://pan.baidu.com/s/1hq0dbda\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1hq0dbda</a><br>: jkh4</p>\n</blockquote>\n<h2 id=\"1-2-WindownsServer-amp-SQLServer\"><a href=\"#1-2-WindownsServer-amp-SQLServer\" class=\"headerlink\" title=\"1.2 WindownsServer &amp;SQLServer\"></a>1.2 WindownsServer &amp;SQLServer</h2><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>cn_windows_server_2008_r2_standard_enterprise_datacenter_and_web_with_sp1_vl_build_x64_dvd_617396.iso</td>\n<td>WindowsServer</td>\n</tr>\n<tr>\n<td>SQLFULL_x64_CHS.exe</td>\n<td>SQL Server 2008 R</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>: <a href=\"http://pan.baidu.com/s/1hqwFm9e\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1hqwFm9e</a><br>: ajn3<br><br></p>\n<p>: <a href=\"http://pan.baidu.com/s/1mg1qOEO\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1mg1qOEO</a><br>: qajv</p>\n</blockquote>\n<h1 id=\"2-ESXi5-5\"><a href=\"#2-ESXi5-5\" class=\"headerlink\" title=\"2 ESXi5.5\"></a>2 ESXi5.5</h1><h2 id=\"2-1-ESXi5-5\"><a href=\"#2-1-ESXi5-5\" class=\"headerlink\" title=\"2.1 ESXi5.5\"></a>2.1 ESXi5.5</h2><h3 id=\"2-1-1-\"><a href=\"#2-1-1-\" class=\"headerlink\" title=\"2.1.1 \"></a>2.1.1 </h3><p><br><img src=\"/2017/10/09/201710091601/66e88f1227120852.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-2-\"><a href=\"#2-1-2-\" class=\"headerlink\" title=\"2.1.2 \"></a>2.1.2 </h3><p>LSI_MR3.V00<br>:ULSI_MR3.V00,ULSI_MSGP.V00,LSI_MR3.V00<br><img src=\"/2017/10/09/201710091601/c1e7b073aa72b3c1.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-3-\"><a href=\"#2-1-3-\" class=\"headerlink\" title=\"2.1.3 \"></a>2.1.3 </h3><p>CPU,,<br><img src=\"/2017/10/09/201710091601/48071838f3615424.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-4-\"><a href=\"#2-1-4-\" class=\"headerlink\" title=\"2.1.4 \"></a>2.1.4 </h3><p>Enter<br><img src=\"/2017/10/09/201710091601/c3138d78572d2472.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-5-\"><a href=\"#2-1-5-\" class=\"headerlink\" title=\"2.1.5 \"></a>2.1.5 </h3><p>F11<br><img src=\"/2017/10/09/201710091601/bd5f4888a2ae5a64.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-6-\"><a href=\"#2-1-6-\" class=\"headerlink\" title=\"2.1.6 \"></a>2.1.6 </h3><p>U,Enter<br><img src=\"/2017/10/09/201710091601/941e2ac251f1c098.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-7-\"><a href=\"#2-1-7-\" class=\"headerlink\" title=\"2.1.7 \"></a>2.1.7 </h3><p>US<br><img src=\"/2017/10/09/201710091601/d0e16aa7a3eecca7.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-8-ROOT\"><a href=\"#2-1-8-ROOT\" class=\"headerlink\" title=\"2.1.8 ROOT\"></a>2.1.8 ROOT</h3><p>Enter<br><img src=\"/2017/10/09/201710091601/9e2505199e03c37c.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-9-\"><a href=\"#2-1-9-\" class=\"headerlink\" title=\"2.1.9 \"></a>2.1.9 </h3><p>F11<br><img src=\"/2017/10/09/201710091601/42997c9404fbb3c5.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/785e0001fc28c841.jpg\" alt=\"\"></p>\n<h3 id=\"2-1-10-\"><a href=\"#2-1-10-\" class=\"headerlink\" title=\"2.1.10 \"></a>2.1.10 </h3><p>U,Enter<br><img src=\"/2017/10/09/201710091601/d84386cd9bcedc8f.jpg\" alt=\"\"></p>\n<h2 id=\"2-2-ESXi\"><a href=\"#2-2-ESXi\" class=\"headerlink\" title=\"2.2 ESXi\"></a>2.2 ESXi</h2><h3 id=\"2-2-1-\"><a href=\"#2-2-1-\" class=\"headerlink\" title=\"2.2.1 \"></a>2.2.1 </h3><p>F2<br><img src=\"/2017/10/09/201710091601/c4c9fe68e495067a.jpg\" alt=\"\"></p>\n<p>root<br><img src=\"/2017/10/09/201710091601/cbedaa2848096de4.jpg\" alt=\"\"></p>\n<h3 id=\"2-2-2-\"><a href=\"#2-2-2-\" class=\"headerlink\" title=\"2.2.2 \"></a>2.2.2 </h3><p>(Configure Management Network)<br><img src=\"/2017/10/09/201710091601/9f4a8ebbc574434d.jpg\" alt=\"\"></p>\n<p>IP(IP Configuration)<br><img src=\"/2017/10/09/201710091601/07d3ef73b5c3f8ce.jpg\" alt=\"\"></p>\n<p>IPIP,Netmask,Gateway,Enter<br><img src=\"/2017/10/09/201710091601/8ff306dda9496ae3.jpg\" alt=\"\"></p>\n<p>DNS(DNS Configuration)<br><img src=\"/2017/10/09/201710091601/73411fbff77a7f7f.jpg\" alt=\"\"><br>DNS<br><img src=\"/2017/10/09/201710091601/a20500ba11982b27.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/d52ef53e746bc4cb.jpg\" alt=\"\"></p>\n<h1 id=\"3-WindowsServer\"><a href=\"#3-WindowsServer\" class=\"headerlink\" title=\"3 WindowsServer\"></a>3 WindowsServer</h1><h2 id=\"3-1-Vsphere-CLient\"><a href=\"#3-1-Vsphere-CLient\" class=\"headerlink\" title=\"3.1 Vsphere CLient\"></a>3.1 Vsphere CLient</h2><h2 id=\"3-2-WindowsServer\"><a href=\"#3-2-WindowsServer\" class=\"headerlink\" title=\"3.2 WindowsServer\"></a>3.2 WindowsServer</h2><h3 id=\"3-2-1-ESXi\"><a href=\"#3-2-1-ESXi\" class=\"headerlink\" title=\"3.2.1 ESXi\"></a>3.2.1 ESXi</h3><p><img src=\"/2017/10/09/201710091601/545eaec054fd5218.jpg\" alt=\"\"></p>\n<h3 id=\"3-2-2-\"><a href=\"#3-2-2-\" class=\"headerlink\" title=\"3.2.2 \"></a>3.2.2 </h3><p><br><img src=\"/2017/10/09/201710091601/5a74c07b6f07c6d7.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/2324f721115c3785.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/e83ee1ff8a839a1c.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/1508a77d6a8ea1c8.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/751bb2b097bb76bf.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/f92ff5e1e860a45c.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/e620aae6ab7c8e13.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/7d3f472d90225cb6.jpg\" alt=\"\"></p>\n<h3 id=\"3-2-3-\"><a href=\"#3-2-3-\" class=\"headerlink\" title=\"3.2.3 \"></a>3.2.3 </h3><p></p>\n<h4 id=\"3-2-3-1-\"><a href=\"#3-2-3-1-\" class=\"headerlink\" title=\"3.2.3.1 \"></a>3.2.3.1 </h4><p>,<br><img src=\"/2017/10/09/201710091601/2a5be182dfce2f21.jpg\" alt=\"\"></p>\n<p>,<br><img src=\"/2017/10/09/201710091601/e0b95334d12d044f.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/e0bb2f4c6b455757.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/0afa78fbca1dc288.jpg\" alt=\"\"></p>\n<p>CD/DVD,,,,<br><img src=\"/2017/10/09/201710091601/fba20274fc7b6174.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/fb218f399632a938.jpg\" alt=\"\"></p>\n<h4 id=\"3-2-3-2-\"><a href=\"#3-2-3-2-\" class=\"headerlink\" title=\"3.2.3.2 \"></a>3.2.3.2 </h4><p><br><img src=\"/2017/10/09/201710091601/fb218f399632a938.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/e6eaabb5e0327380.jpg\" alt=\"\"></p>\n<p>CD/DVD,ISO<br><img src=\"/2017/10/09/201710091601/e5aa907519fce1c0.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/566bae7cacf04cc7.jpg\" alt=\"\"></p>\n<h1 id=\"4-SQLServer\"><a href=\"#4-SQLServer\" class=\"headerlink\" title=\"4 SQLServer\"></a>4 SQLServer</h1><h2 id=\"4-1--NET-Framework-3-5-1\"><a href=\"#4-1--NET-Framework-3-5-1\" class=\"headerlink\" title=\"4.1 .NET Framework 3.5.1\"></a>4.1 .NET Framework 3.5.1</h2><p><img src=\"/2017/10/09/201710091601/4c9a2f038cdaeb71.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/6e979887453d65b1.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/5691d99da449aeb2.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/e01e25032e3cd3a8.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/1673c7249c05f467.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/e696685082cabdab.jpg\" alt=\"\"></p>\n<h2 id=\"4-2-SQLServer\"><a href=\"#4-2-SQLServer\" class=\"headerlink\" title=\"4.2 SQLServer\"></a>4.2 SQLServer</h2><h3 id=\"4-2-1-setup-exe\"><a href=\"#4-2-1-setup-exe\" class=\"headerlink\" title=\"4.2.1 setup.exe\"></a>4.2.1 setup.exe</h3><p><img src=\"/2017/10/09/201710091601/50b60481426d3afd.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-2-\"><a href=\"#4-2-2-\" class=\"headerlink\" title=\"4.2.2 \"></a>4.2.2 </h3><p><br><img src=\"/2017/10/09/201710091601/32e3eb023f6ee3ba.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/5cf991d40fd5681e.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-3-\"><a href=\"#4-2-3-\" class=\"headerlink\" title=\"4.2.3 \"></a>4.2.3 </h3><p><img src=\"/2017/10/09/201710091601/a182ce0049370fe2.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-4-\"><a href=\"#4-2-4-\" class=\"headerlink\" title=\"4.2.4 \"></a>4.2.4 </h3><p><img src=\"/2017/10/09/201710091601/180a716339eaac7d.jpg\" alt=\"\"></p>\n<h3 id=\"4-2-5-\"><a href=\"#4-2-5-\" class=\"headerlink\" title=\"4.2.5 \"></a>4.2.5 </h3><ul>\n<li><p><img src=\"/2017/10/09/201710091601/7977fce67fad7ab2.jpg\" alt=\"\"></p>\n</li>\n<li><p>SQL ServerSQL Server<br><img src=\"/2017/10/09/201710091601/e0b981f651d23679.jpg\" alt=\"\"></p>\n</li>\n<li><p><img src=\"/2017/10/09/201710091601/cdbf09ff9e323ccf.jpg\" alt=\"\"></p>\n</li>\n<li><p>Reporting Services80vCenter Server80<br><img src=\"/2017/10/09/201710091601/b121ca70c26deb9b.jpg\" alt=\"\"></p>\n</li>\n<li><p><img src=\"/2017/10/09/201710091601/7775353d41d1249a.jpg\" alt=\"\"></p>\n</li>\n<li><p>,<br><img src=\"/2017/10/09/201710091601/6a9abbd5bcd8ae9b.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/0e655e34fd585501.jpg\" alt=\"\"></p>\n</li>\n<li><p><br>,SQLServer<br><img src=\"/2017/10/09/201710091601/f9120d53fb7c396b.jpg\" alt=\"\"><br>NT AUTHORITY\\SYSTEM,,<br><img src=\"/2017/10/09/201710091601/c34e5c68c50e2534.jpg\" alt=\"\"></p>\n</li>\n<li><p><br>;<br>SQL Server sa;<br>,SQL Server;<br><img src=\"/2017/10/09/201710091601/eb9fae41092bd441.jpg\" alt=\"\"></p>\n</li>\n<li><p>,<br><img src=\"/2017/10/09/201710091601/3d6c3c2b7962e631.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/e53df4dd51341905.jpg\" alt=\"\"></p>\n</li>\n<li><p>:,<br><img src=\"/2017/10/09/201710091601/551b7ab676551748.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/fb85018c73538669.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/ae6370a150336ea8.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h2 id=\"4-3-SQLServer\"><a href=\"#4-3-SQLServer\" class=\"headerlink\" title=\"4.3 SQLServer\"></a>4.3 SQLServer</h2><h3 id=\"4-3-1-\"><a href=\"#4-3-1-\" class=\"headerlink\" title=\"4.3.1 \"></a>4.3.1 </h3><p>  -&gt;-&gt;secpol.msc, ,  -&gt;  , <br><img src=\"/2017/10/09/201710091601/6e480ad0f8a2f6f8.jpg\" alt=\"\"></p>\n<h3 id=\"4-3-2-SQLServer\"><a href=\"#4-3-2-SQLServer\" class=\"headerlink\" title=\"4.3.2 SQLServer\"></a>4.3.2 SQLServer</h3><ul>\n<li><p>SQL Server Management Studio<br><img src=\"/2017/10/09/201710091601/0cfc23cd25d88711.jpg\" alt=\"\"></p>\n</li>\n<li><p>Windows<br><img src=\"/2017/10/09/201710091601/2354389b190af5b4.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h3 id=\"4-3-3-Vcenter\"><a href=\"#4-3-3-Vcenter\" class=\"headerlink\" title=\"4.3.3 Vcenter\"></a>4.3.3 Vcenter</h3><p>SQLServer<br><img src=\"/2017/10/09/201710091601/06132485ab59545a.jpg\" alt=\"\"></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">use [master]</div><div class=\"line\">go</div><div class=\"line\">CREATE DATABASE [VCDB] ON PRIMARY</div><div class=\"line\">(NAME = N&apos;vcdb&apos;, FILENAME = N&apos;C:\\VCDB.mdf&apos; , SIZE = 3000KB , FILEGROWTH = 10% )</div><div class=\"line\">LOG ON</div><div class=\"line\">(NAME = N&apos;vcdb_log&apos;, FILENAME = N&apos;C:\\VCDB.ldf&apos; , SIZE = 1000KB , FILEGROWTH = 10%)</div><div class=\"line\">COLLATE SQL_Latin1_General_CP1_CI_AS</div><div class=\"line\">go</div><div class=\"line\">use VCDB</div><div class=\"line\">go</div><div class=\"line\">sp_addlogin @loginame=[vpxuser], @passwd=N&apos;vpxuser&apos;, @defdb=&apos;VCDB&apos;, @deflanguage=&apos;us_english&apos;</div><div class=\"line\">go</div><div class=\"line\">ALTER LOGIN [vpxuser] WITH CHECK_POLICY = OFF</div><div class=\"line\">go</div><div class=\"line\">CREATE USER [vpxuser] for LOGIN [vpxuser]</div><div class=\"line\">go</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div></pre></td><td class=\"code\"><pre><div class=\"line\">CREATE SCHEMA [VMW]</div><div class=\"line\">go</div><div class=\"line\">ALTER USER [vpxuser] WITH DEFAULT_SCHEMA =[VMW]</div><div class=\"line\">go</div><div class=\"line\">if not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = &apos;VC_ADMIN_ROLE&apos;)</div><div class=\"line\">CREATE ROLE VC_ADMIN_ROLE;</div><div class=\"line\">GRANT ALTER ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT REFERENCES ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT INSERT ON SCHEMA ::[VMW] to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT CREATE TABLE to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT CREATE VIEW to VC_ADMIN_ROLE;</div><div class=\"line\">GRANT CREATE Procedure to VC_ADMIN_ROLE;</div><div class=\"line\">if not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = &apos;VC_USER_ROLE&apos;)</div><div class=\"line\">CREATE ROLE VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT INSERT ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT DELETE ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT UPDATE ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON SCHEMA ::[VMW] to VC_USER_ROLE</div><div class=\"line\">go</div><div class=\"line\">sp_addrolemember VC_USER_ROLE , [vpxuser]</div><div class=\"line\">go</div><div class=\"line\">sp_addrolemember VC_ADMIN_ROLE , [vpxuser]</div><div class=\"line\">go</div><div class=\"line\">use MSDB</div><div class=\"line\">go</div><div class=\"line\">if not exists (SELECT name FROM sysusers WHERE issqlrole=1 AND name = &apos;VC_ADMIN_ROLE&apos;)</div><div class=\"line\">CREATE ROLE VC_ADMIN_ROLE;</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT on msdb.dbo.syscategories to VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT on msdb.dbo.sysjobsteps to VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT SELECT ON msdb.dbo.sysjobs to VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_job TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_delete_job TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_jobstep TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_update_job TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_jobserver TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_jobschedule TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">GRANT EXECUTE ON msdb.dbo.sp_add_category TO VC_ADMIN_ROLE</div><div class=\"line\">go</div><div class=\"line\">sp_addrolemember VC_ADMIN_ROLE , [vpxuser]</div><div class=\"line\">go</div></pre></td></tr></table></figure></p>\n<h3 id=\"4-3-4-\"><a href=\"#4-3-4-\" class=\"headerlink\" title=\"4.3.4 \"></a>4.3.4 </h3><p><br><img src=\"/2017/10/09/201710091601/1cda4b829db27966.jpg\" alt=\"\"></p>\n<p>RemoteDACEnableTrue<br><img src=\"/2017/10/09/201710091601/6062c404ce14a9d1.jpg\" alt=\"\"></p>\n<h3 id=\"4-3-5-ODBC\"><a href=\"#4-3-5-ODBC\" class=\"headerlink\" title=\"4.3.5 ODBC\"></a>4.3.5 ODBC</h3><ul>\n<li><p>ODBC<br><img src=\"/2017/10/09/201710091601/339c821002d465d5.jpg\" alt=\"\"></p>\n</li>\n<li><p>DSN,<br><img src=\"/2017/10/09/201710091601/aff21e7004340e15.jpg\" alt=\"\"></p>\n</li>\n<li><p>SQL Server Native Client 10.0,<br><img src=\"/2017/10/09/201710091601/8f82cb2725fa616e.jpg\" alt=\"\"></p>\n</li>\n<li><p>SQLServer<br>,localhost,<br><img src=\"/2017/10/09/201710091601/d6e56c27934793e5.jpg\" alt=\"\"></p>\n</li>\n<li><p>,Windows,<br><img src=\"/2017/10/09/201710091601/5b4ae1ddf38c5bac.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,<br><img src=\"/2017/10/09/201710091601/a5e44268d9368b5e.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/a73157c0e03e0bef.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091601/031b589e22e15416.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,<br><img src=\"/2017/10/09/201710091601/89d7a010bcc96bca.jpg\" alt=\"\"><br><img src=\"/2017/10/09/201710091601/63d531446c748da6.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h1 id=\"5-vCenter\"><a href=\"#5-vCenter\" class=\"headerlink\" title=\"5 vCenter\"></a>5 vCenter</h1><h2 id=\"5-1-autorun-exe\"><a href=\"#5-1-autorun-exe\" class=\"headerlink\" title=\"5.1 autorun.exe\"></a>5.1 autorun.exe</h2><h2 id=\"5-2-simple-install\"><a href=\"#5-2-simple-install\" class=\"headerlink\" title=\"5.2 simple install\"></a>5.2 simple install</h2><p><img src=\"/2017/10/09/201710091601/68b12c83fd82b947.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/2d95d2595ef8cf3b.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/b1969927bd8996fc.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/f410bb787d1fb33f.jpg\" alt=\"\"></p>\n<h2 id=\"5-3-vCenter\"><a href=\"#5-3-vCenter\" class=\"headerlink\" title=\"5.3 vCenter\"></a>5.3 vCenter</h2><p><img src=\"/2017/10/09/201710091601/ba5c85b09c522978.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/6cbc855c0e0788ca.jpg\" alt=\"\"></p>\n<h2 id=\"5-4-Simple-install\"><a href=\"#5-4-Simple-install\" class=\"headerlink\" title=\"5.4 Simple install\"></a>5.4 Simple install</h2><p><br><img src=\"/2017/10/09/201710091601/b169f5c72441e23a.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/873b13631b0a2d43.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/2d6ca36262af1fb1.jpg\" alt=\"\"></p>\n<p><br><img src=\"/2017/10/09/201710091601/9b3ba694564ec5f0.jpg\" alt=\"\"></p>\n<h2 id=\"5-5-\"><a href=\"#5-5-\" class=\"headerlink\" title=\"5.5 \"></a>5.5 </h2><p><img src=\"/2017/10/09/201710091601/e649a7b010a24b60.jpg\" alt=\"\"></p>\n<p>(XP)<br><img src=\"/2017/10/09/201710091601/f48bf0716013ac11.jpg\" alt=\"\"></p>\n<h2 id=\"5-6-\"><a href=\"#5-6-\" class=\"headerlink\" title=\"5.6 \"></a>5.6 </h2><p><br><img src=\"/2017/10/09/201710091601/4812df9dc90e7725.jpg\" alt=\"\"></p>\n<p>Windows,<br><img src=\"/2017/10/09/201710091601/8f4b4c50b604bbdf.jpg\" alt=\"\"></p>\n<h2 id=\"5-7-\"><a href=\"#5-7-\" class=\"headerlink\" title=\"5.7 \"></a>5.7 </h2><ul>\n<li><p>vCenter Server: <br><img src=\"/2017/10/09/201710091601/b9575e72d62e7474.jpg\" alt=\"\"></p>\n</li>\n<li><p>: (vCenter Server HTTP8080)<br><img src=\"/2017/10/09/201710091601/a2709486cef98dd9.jpg\" alt=\"\"></p>\n</li>\n<li><p>JVM: <br><img src=\"/2017/10/09/201710091601/99c342e6c648a626.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h2 id=\"5-8-\"><a href=\"#5-8-\" class=\"headerlink\" title=\"5.8 \"></a>5.8 </h2><p><img src=\"/2017/10/09/201710091601/b1e83ae7831df206.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/ad32819d93b8330c.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/abfe4002d809a330.jpg\" alt=\"\"></p>\n<h2 id=\"5-9-vsphere-clientvCenter\"><a href=\"#5-9-vsphere-clientvCenter\" class=\"headerlink\" title=\"5.9 vsphere clientvCenter\"></a>5.9 vsphere clientvCenter</h2><p><img src=\"/2017/10/09/201710091601/f4526c5a2570e5b2.jpg\" alt=\"\"></p>\n<p><img src=\"/2017/10/09/201710091601/d547095ccdfa9a70.jpg\" alt=\"\"></p>"},{"title":"ESXiNAT","date":"2017-10-09T08:43:21.000Z","_content":"\nESXiNAT\n\n<!-- more -->\n\n# \n\n,vSwitch0,VM Network,vmnic0,.(vmware workstation),IP,\n![](/ba39d3720b24a03f.jpg)\n\n,ESXiNAT,NAT\n:NAT,,10.10.10.*/24,()\n\n# 1. \n\n## 1.1 \n\n- \n![](/42d722931576c18a.jpg)\n\n- \n![](/5ae453ac46cb1abd.jpg)\n\n- ,,,vmic1\nVM Network,Vm Network,\n![](/59918027883d893c.jpg)\n\n- \n![](/e0099648baa42e6f.jpg)\n\n## 1.2 \n\n(VM NetwokVM NAT Network),VM NAT NetworkVM Netwok\n\n- pfsense(:http://pan.baidu.com/s/1dDhUNyp :3mf5)\n![](/af16537d53144f5b.jpg)\n\n- ,,VM Network,VM NAT Network,MAC\n![](/a88904ba22eff8e8.jpg)\n\n- ,pfsense,(,),WANem1,IP;LAN,em0,192.168.1.1IP\n![](/f48dc945f00e213f.jpg)\n\n- ,1,,MAC,em0VM Network,;em1VM NAT Network,\nVLAN,n,\n![](/266f5cf2a5c7db28.jpg)\nWANem0,LANem1\n![](/1a594160a1ba91e0.jpg)\n,y\n![](/633b5face3642b7c.jpg)\nIP,2,,\n![](/973098e8bf92ca7d.jpg)\n1,WAN\nDHCPIP,\nIP\n\n\n![](/8f64eab0ae66fc3a.jpg)\n2,LAN\nIP,10.10.10.1\n,24\nDHCP,n,\n![](/89edccb8d8efc05c.jpg)\n- pfsense,Win7,\n,VM NAT Network\nIP,\n![](/0feee6754fbdf152.jpg)\n- 10.10.10.1\nadmin,pfsense\n![](/295ffe7e24431533.jpg)\n\n![](/c50e8879ac7789e9.jpg)\nDNS,\n![](/1d6b5e876b43563e.jpg)\n,Asia/Chongqing\n![](/528dcf36c7d52e6e.jpg)\nWAN,,static,IP,,\n![](/183e05351cd1cd68.jpg)\nLAN,,\n![](/b54c525c75ddad2c.jpg)\nadmin\n![](/d4c4710cfbbb1b48.jpg)\nreload,\n![](/37bfc853a59b3cea.jpg)\n,,\n![](/9aecf98177c7cca2.jpg)\n:\n![](/90b48b8f16df2557.jpg)\n- pfsensevSwitch,VM NAT Network()VM Network(),vmnic0NAT Network,IP10.10.10.*,10.10.10.1\n","source":"_posts/201710091643.md","raw":"---\ntitle: ESXiNAT\ndate: 2017-10-09 16:43:21\ntags:\n  - virtualization\n  - ESXi\n---\n\nESXiNAT\n\n<!-- more -->\n\n# \n\n,vSwitch0,VM Network,vmnic0,.(vmware workstation),IP,\n![](/ba39d3720b24a03f.jpg)\n\n,ESXiNAT,NAT\n:NAT,,10.10.10.*/24,()\n\n# 1. \n\n## 1.1 \n\n- \n![](/42d722931576c18a.jpg)\n\n- \n![](/5ae453ac46cb1abd.jpg)\n\n- ,,,vmic1\nVM Network,Vm Network,\n![](/59918027883d893c.jpg)\n\n- \n![](/e0099648baa42e6f.jpg)\n\n## 1.2 \n\n(VM NetwokVM NAT Network),VM NAT NetworkVM Netwok\n\n- pfsense(:http://pan.baidu.com/s/1dDhUNyp :3mf5)\n![](/af16537d53144f5b.jpg)\n\n- ,,VM Network,VM NAT Network,MAC\n![](/a88904ba22eff8e8.jpg)\n\n- ,pfsense,(,),WANem1,IP;LAN,em0,192.168.1.1IP\n![](/f48dc945f00e213f.jpg)\n\n- ,1,,MAC,em0VM Network,;em1VM NAT Network,\nVLAN,n,\n![](/266f5cf2a5c7db28.jpg)\nWANem0,LANem1\n![](/1a594160a1ba91e0.jpg)\n,y\n![](/633b5face3642b7c.jpg)\nIP,2,,\n![](/973098e8bf92ca7d.jpg)\n1,WAN\nDHCPIP,\nIP\n\n\n![](/8f64eab0ae66fc3a.jpg)\n2,LAN\nIP,10.10.10.1\n,24\nDHCP,n,\n![](/89edccb8d8efc05c.jpg)\n- pfsense,Win7,\n,VM NAT Network\nIP,\n![](/0feee6754fbdf152.jpg)\n- 10.10.10.1\nadmin,pfsense\n![](/295ffe7e24431533.jpg)\n\n![](/c50e8879ac7789e9.jpg)\nDNS,\n![](/1d6b5e876b43563e.jpg)\n,Asia/Chongqing\n![](/528dcf36c7d52e6e.jpg)\nWAN,,static,IP,,\n![](/183e05351cd1cd68.jpg)\nLAN,,\n![](/b54c525c75ddad2c.jpg)\nadmin\n![](/d4c4710cfbbb1b48.jpg)\nreload,\n![](/37bfc853a59b3cea.jpg)\n,,\n![](/9aecf98177c7cca2.jpg)\n:\n![](/90b48b8f16df2557.jpg)\n- pfsensevSwitch,VM NAT Network()VM Network(),vmnic0NAT Network,IP10.10.10.*,10.10.10.1\n","slug":"201710091643","published":1,"updated":"2017-10-09T09:19:21.073Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a24w0001zizpmwxpmio4","content":"<p>ESXiNAT</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>,vSwitch0,VM Network,vmnic0,.(vmware workstation),IP,<br><img src=\"/2017/10/09/201710091643/ba39d3720b24a03f.jpg\" alt=\"\"></p>\n<p>,ESXiNAT,NAT<br>:NAT,,10.10.10.*/24,()</p>\n<h1 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h1><h2 id=\"1-1-\"><a href=\"#1-1-\" class=\"headerlink\" title=\"1.1 \"></a>1.1 </h2><ul>\n<li><p><br><img src=\"/2017/10/09/201710091643/42d722931576c18a.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091643/5ae453ac46cb1abd.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,,vmic1<br>VM Network,Vm Network,<br><img src=\"/2017/10/09/201710091643/59918027883d893c.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091643/e0099648baa42e6f.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h2 id=\"1-2-\"><a href=\"#1-2-\" class=\"headerlink\" title=\"1.2 \"></a>1.2 </h2><p>(VM NetwokVM NAT Network),VM NAT NetworkVM Netwok</p>\n<ul>\n<li><p>pfsense(:<a href=\"http://pan.baidu.com/s/1dDhUNyp\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1dDhUNyp</a> :3mf5)<br><img src=\"/2017/10/09/201710091643/af16537d53144f5b.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,VM Network,VM NAT Network,MAC<br><img src=\"/2017/10/09/201710091643/a88904ba22eff8e8.jpg\" alt=\"\"></p>\n</li>\n<li><p>,pfsense,(,),WANem1,IP;LAN,em0,192.168.1.1IP<br><img src=\"/2017/10/09/201710091643/f48dc945f00e213f.jpg\" alt=\"\"></p>\n</li>\n<li><p>,1,,MAC,em0VM Network,;em1VM NAT Network,<br>VLAN,n,<br><img src=\"/2017/10/09/201710091643/266f5cf2a5c7db28.jpg\" alt=\"\"><br>WANem0,LANem1<br><img src=\"/2017/10/09/201710091643/1a594160a1ba91e0.jpg\" alt=\"\"><br>,y<br><img src=\"/2017/10/09/201710091643/633b5face3642b7c.jpg\" alt=\"\"><br>IP,2,,<br><img src=\"/2017/10/09/201710091643/973098e8bf92ca7d.jpg\" alt=\"\"><br>1,WAN<br>DHCPIP,<br>IP<br><br><br><img src=\"/2017/10/09/201710091643/8f64eab0ae66fc3a.jpg\" alt=\"\"><br>2,LAN<br>IP,10.10.10.1<br>,24<br>DHCP,n,<br><img src=\"/2017/10/09/201710091643/89edccb8d8efc05c.jpg\" alt=\"\"></p>\n</li>\n<li>pfsense,Win7,<br>,VM NAT Network<br>IP,<br><img src=\"/2017/10/09/201710091643/0feee6754fbdf152.jpg\" alt=\"\"></li>\n<li>10.10.10.1<br>admin,pfsense<br><img src=\"/2017/10/09/201710091643/295ffe7e24431533.jpg\" alt=\"\"><br><br><img src=\"/2017/10/09/201710091643/c50e8879ac7789e9.jpg\" alt=\"\"><br>DNS,<br><img src=\"/2017/10/09/201710091643/1d6b5e876b43563e.jpg\" alt=\"\"><br>,Asia/Chongqing<br><img src=\"/2017/10/09/201710091643/528dcf36c7d52e6e.jpg\" alt=\"\"><br>WAN,,static,IP,,<br><img src=\"/2017/10/09/201710091643/183e05351cd1cd68.jpg\" alt=\"\"><br>LAN,,<br><img src=\"/2017/10/09/201710091643/b54c525c75ddad2c.jpg\" alt=\"\"><br>admin<br><img src=\"/2017/10/09/201710091643/d4c4710cfbbb1b48.jpg\" alt=\"\"><br>reload,<br><img src=\"/2017/10/09/201710091643/37bfc853a59b3cea.jpg\" alt=\"\"><br>,,<br><img src=\"/2017/10/09/201710091643/9aecf98177c7cca2.jpg\" alt=\"\"><br>:<br><img src=\"/2017/10/09/201710091643/90b48b8f16df2557.jpg\" alt=\"\"></li>\n<li>pfsensevSwitch,VM NAT Network()VM Network(),vmnic0NAT Network,IP10.10.10.*,10.10.10.1</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>ESXiNAT</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>,vSwitch0,VM Network,vmnic0,.(vmware workstation),IP,<br><img src=\"/2017/10/09/201710091643/ba39d3720b24a03f.jpg\" alt=\"\"></p>\n<p>,ESXiNAT,NAT<br>:NAT,,10.10.10.*/24,()</p>\n<h1 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h1><h2 id=\"1-1-\"><a href=\"#1-1-\" class=\"headerlink\" title=\"1.1 \"></a>1.1 </h2><ul>\n<li><p><br><img src=\"/2017/10/09/201710091643/42d722931576c18a.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091643/5ae453ac46cb1abd.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,,vmic1<br>VM Network,Vm Network,<br><img src=\"/2017/10/09/201710091643/59918027883d893c.jpg\" alt=\"\"></p>\n</li>\n<li><p><br><img src=\"/2017/10/09/201710091643/e0099648baa42e6f.jpg\" alt=\"\"></p>\n</li>\n</ul>\n<h2 id=\"1-2-\"><a href=\"#1-2-\" class=\"headerlink\" title=\"1.2 \"></a>1.2 </h2><p>(VM NetwokVM NAT Network),VM NAT NetworkVM Netwok</p>\n<ul>\n<li><p>pfsense(:<a href=\"http://pan.baidu.com/s/1dDhUNyp\" target=\"_blank\" rel=\"external\">http://pan.baidu.com/s/1dDhUNyp</a> :3mf5)<br><img src=\"/2017/10/09/201710091643/af16537d53144f5b.jpg\" alt=\"\"></p>\n</li>\n<li><p>,,VM Network,VM NAT Network,MAC<br><img src=\"/2017/10/09/201710091643/a88904ba22eff8e8.jpg\" alt=\"\"></p>\n</li>\n<li><p>,pfsense,(,),WANem1,IP;LAN,em0,192.168.1.1IP<br><img src=\"/2017/10/09/201710091643/f48dc945f00e213f.jpg\" alt=\"\"></p>\n</li>\n<li><p>,1,,MAC,em0VM Network,;em1VM NAT Network,<br>VLAN,n,<br><img src=\"/2017/10/09/201710091643/266f5cf2a5c7db28.jpg\" alt=\"\"><br>WANem0,LANem1<br><img src=\"/2017/10/09/201710091643/1a594160a1ba91e0.jpg\" alt=\"\"><br>,y<br><img src=\"/2017/10/09/201710091643/633b5face3642b7c.jpg\" alt=\"\"><br>IP,2,,<br><img src=\"/2017/10/09/201710091643/973098e8bf92ca7d.jpg\" alt=\"\"><br>1,WAN<br>DHCPIP,<br>IP<br><br><br><img src=\"/2017/10/09/201710091643/8f64eab0ae66fc3a.jpg\" alt=\"\"><br>2,LAN<br>IP,10.10.10.1<br>,24<br>DHCP,n,<br><img src=\"/2017/10/09/201710091643/89edccb8d8efc05c.jpg\" alt=\"\"></p>\n</li>\n<li>pfsense,Win7,<br>,VM NAT Network<br>IP,<br><img src=\"/2017/10/09/201710091643/0feee6754fbdf152.jpg\" alt=\"\"></li>\n<li>10.10.10.1<br>admin,pfsense<br><img src=\"/2017/10/09/201710091643/295ffe7e24431533.jpg\" alt=\"\"><br><br><img src=\"/2017/10/09/201710091643/c50e8879ac7789e9.jpg\" alt=\"\"><br>DNS,<br><img src=\"/2017/10/09/201710091643/1d6b5e876b43563e.jpg\" alt=\"\"><br>,Asia/Chongqing<br><img src=\"/2017/10/09/201710091643/528dcf36c7d52e6e.jpg\" alt=\"\"><br>WAN,,static,IP,,<br><img src=\"/2017/10/09/201710091643/183e05351cd1cd68.jpg\" alt=\"\"><br>LAN,,<br><img src=\"/2017/10/09/201710091643/b54c525c75ddad2c.jpg\" alt=\"\"><br>admin<br><img src=\"/2017/10/09/201710091643/d4c4710cfbbb1b48.jpg\" alt=\"\"><br>reload,<br><img src=\"/2017/10/09/201710091643/37bfc853a59b3cea.jpg\" alt=\"\"><br>,,<br><img src=\"/2017/10/09/201710091643/9aecf98177c7cca2.jpg\" alt=\"\"><br>:<br><img src=\"/2017/10/09/201710091643/90b48b8f16df2557.jpg\" alt=\"\"></li>\n<li>pfsensevSwitch,VM NAT Network()VM Network(),vmnic0NAT Network,IP10.10.10.*,10.10.10.1</li>\n</ul>"},{"title":"Archlinux thunar ","date":"2017-10-09T09:01:18.000Z","_content":"\n\nthunar'Failed to mount \"LocalDisk\". Authentication is required'\n\n<!-- more -->\n\n/usr/share/polkit-1/actions/org.freedesktop.UDisks2.policy\n\n\n\n> &lt;action id=\"org.freedesktop.udisks2.filesystem-mount\">\n> ...\n> &lt;defaults>\n>   &lt;allow_any>auth_admin&lt;/allow_any>\n>   &lt;allow_inactive>auth_admin&lt;/allow_inactive>\n>   &lt;allow_active>yes&lt;/allow_active>\n> &lt;/defaults>\n> ...\n> <br>\n> \n> &lt;action id=\"org.freedesktop.udisks2.filesystem-mount-system\">\n> ...\n> &lt;defaults>\n>   &lt;allow_any>auth_admin&lt;/allow_any>\n>   &lt;allow_inactive>auth_admin&lt;/allow_inactive>\n>   &lt;allow_active>yes&lt;/allow_active>\n> &lt;/defaults>\n> ...\n","source":"_posts/201710091701.md","raw":"---\ntitle: Archlinux thunar \ndate: 2017-10-09 17:01:18\ntags:\n  - linux\n  - other\n---\n\n\nthunar'Failed to mount \"LocalDisk\". Authentication is required'\n\n<!-- more -->\n\n/usr/share/polkit-1/actions/org.freedesktop.UDisks2.policy\n\n\n\n> &lt;action id=\"org.freedesktop.udisks2.filesystem-mount\">\n> ...\n> &lt;defaults>\n>   &lt;allow_any>auth_admin&lt;/allow_any>\n>   &lt;allow_inactive>auth_admin&lt;/allow_inactive>\n>   &lt;allow_active>yes&lt;/allow_active>\n> &lt;/defaults>\n> ...\n> <br>\n> \n> &lt;action id=\"org.freedesktop.udisks2.filesystem-mount-system\">\n> ...\n> &lt;defaults>\n>   &lt;allow_any>auth_admin&lt;/allow_any>\n>   &lt;allow_inactive>auth_admin&lt;/allow_inactive>\n>   &lt;allow_active>yes&lt;/allow_active>\n> &lt;/defaults>\n> ...\n","slug":"201710091701","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a2500003zizp2431a05b","content":"<p>thunarFailed to mount LocalDisk. Authentication is required</p>\n<a id=\"more\"></a>\n<p>/usr/share/polkit-1/actions/org.freedesktop.UDisks2.policy</p>\n<p></p>\n<blockquote>\n<p>&lt;action id=org.freedesktop.udisks2.filesystem-mount&gt;<br><br>&lt;defaults&gt;<br>  &lt;allow_any&gt;auth_admin&lt;/allow_any&gt;<br>  &lt;allow_inactive&gt;auth_admin&lt;/allow_inactive&gt;<br>  &lt;allow_active&gt;yes&lt;/allow_active&gt;<br>&lt;/defaults&gt;<br><br><br></p>\n<p>&lt;action id=org.freedesktop.udisks2.filesystem-mount-system&gt;<br><br>&lt;defaults&gt;<br>  &lt;allow_any&gt;auth_admin&lt;/allow_any&gt;<br>  &lt;allow_inactive&gt;auth_admin&lt;/allow_inactive&gt;<br>  &lt;allow_active&gt;yes&lt;/allow_active&gt;<br>&lt;/defaults&gt;<br></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p>thunarFailed to mount LocalDisk. Authentication is required</p>","more":"<p>/usr/share/polkit-1/actions/org.freedesktop.UDisks2.policy</p>\n<p></p>\n<blockquote>\n<p>&lt;action id=org.freedesktop.udisks2.filesystem-mount&gt;<br><br>&lt;defaults&gt;<br>  &lt;allow_any&gt;auth_admin&lt;/allow_any&gt;<br>  &lt;allow_inactive&gt;auth_admin&lt;/allow_inactive&gt;<br>  &lt;allow_active&gt;yes&lt;/allow_active&gt;<br>&lt;/defaults&gt;<br><br><br></p>\n<p>&lt;action id=org.freedesktop.udisks2.filesystem-mount-system&gt;<br><br>&lt;defaults&gt;<br>  &lt;allow_any&gt;auth_admin&lt;/allow_any&gt;<br>  &lt;allow_inactive&gt;auth_admin&lt;/allow_inactive&gt;<br>  &lt;allow_active&gt;yes&lt;/allow_active&gt;<br>&lt;/defaults&gt;<br></p>\n</blockquote>"},{"title":"LinuxleanoteSSL","date":"2017-10-09T09:03:22.000Z","_content":"\nLinuxleanoteSSL\n\n<!-- more -->\n\n##  Mac  linux ****\n\n- Mac,Linux ,[](https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Mac-and-Linux)\n- Windows ,[](https://github.com/leanote/leanote/wiki/Leanote-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows)\n- Windows ,[](https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows)\n\n----------------------------------\n# :\n\n1.  `leanote` \n2.  `mongodb`\n3. \n4.  `leanote`\n5.  `leanote`\n\n\n----------------------------\n# 1.  `leanote` \n\n [leanote ](http://leanote.org/#download)\n\n `/home/ya/note` , `/home/ya/note`  `leanote`\n```\ncd /home/ya/note\ntar -xzvf leanote-darwin-amd64.v2.0.bin.tar.gz\n```\n\n----------------------------\n# 2.  `mongodb`\n\n## 2.1  `mongodb`\n\n### 2.1.1 \n\n [mongodb ](http://www.mongodb.org/downloads) ,\n\n* 64 linux mongodb 3.0.1 : https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz\n\n `/home/ya/note`,:\n```\ncd /home/ya/note\ntar -xzvf mongodb-linux-x86_64-3.0.1.tgz/\n```\n\n`mongodb`, `~/.profile``/etc/profile` ,`mongodb/bin`:\n```\nsudo vim /etc/profile\n```\n`vim`,\n\n`/etc/profile`,`ya/note``mongodb-linux-x86_64-3.0.1`\n```\nexport PATH=$PATH:/home/ya/note/mongodb-linux-x86_64-3.0.1/bin\n```\n\n,:\n```\nsource /etc/profile\n```\n\n### 2.1.2 \n\n``` bash\nsudo pacman -S mongodb mongodb-tools\n```\n\n## 2.2 `mongodb`\n\n`/home/ya/note``data``mongodb`:\n```\nmkdir /home/ya/note/data\n```\n\n`mongod`:\n```\nmongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth \n```\n\n`mongod`,,`mongo`\n```\nmongo\n> show dbs\n...\n```\n\n`mongodb`,`mongodb``leanote`\n\n\n-------------------------------------\n\n# 3. \n\n## 3.1 \n`leanote` `/home/ya/note/leanote/mongodb_backup/leanote_install_data`\n\n,\n\n```\nmongorestore -h localhost -d leanote --dir /home/ya/note/leanote/mongodb_backup/leanote_install_data/\n```\n\n`mongodb``leanote`,`leanote`\"\":\n```\nmongo\n> show dbs #\nleanote\t0.203125GB\nlocal\t0.078125GB\n> use leanote # leanote\nswitched to db leanote\n> show collections # \nfiles\nhas_share_notes\nnote_content_histories\nnote_contents\n....\n```\n\n`users`2:\n```\nya/note username: admin,password: abc123 (,,)\nuser2 username: demo@leanote.com,password: demo@leanote.com ()\n```\n\n## 3.2 mongodb\n\nmysqlroot,mongodb,,leanoteleanote(,leanoteusers,leanote,mysqlroot).\n\nmognodb v2v3\n\nmongodb v2 :\n```\n# leanote\n> use leanote;\n# root,abc123\n> db.addUser(\"root\",\"abc123\");\n{\n\t\"_id\" : ObjectId(\"53688d1950cc1813efb9564c\"),\n\t\"user\" : \"root\",\n\t\"readOnly\" : false,\n\t\"pwd\" : \"e014bfea4a9c3c27ab34e50bd1ef0955\"\n}\n# \n> db.auth(\"root\",\"abc123\");\n1 # 1\n```\nmongodb v3 :\n```\n# leanote\n> use leanote;\n# root,abc123\n> db.createUser({\n    user: 'root',\n    pwd: 'abc123',\n    roles: [{role: 'dbOwner',db: 'leanote'}]\n});\n# \n> db.auth(\"root\",\"abc123\");\n1 # 1\n```\n\nmongodb,. mongodctrl+cmongodb.\n\nmongodb:\n```\nmongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth\n```\n\n-----------------------------------\n# 4. `leanote`\n\n`leanote` `conf/app.conf` \n\n`app.secret`,,,\n\n```\nhttp.port=9000\n\nsite.url=https://localhost:1443 # or http://x.com:8080,http://www.xx.com:9000\n\n# admin username\nadminUsername=admin\n\n# mongdb\ndb.host=127.0.0.1\ndb.port=27016\ndb.dbname=leanote # required\ndb.username=root # if not exists,please leave it blank\ndb.password=abc123/ # if not exists,please leave it blank\n```\n\n---------------------------------\n# 5. `leanote`\n\n**:** `mongodb`!\n\n,:\n```\ncd /home/ya/note/leanote/bin\nbash run.sh\n```\n\n:\n```\n...\nTRACE 2013/06/06 15:01:27 watcher.go:72: Watching: /home/life/leanote/bin/src/github.com/leanote/leanote/conf/routes\nGo to /@tests to run the tests.\nListening on :9000...\n```\n\n,: `http://localhost:9000` `leanote`!\n\n---------------------------------\n# 6 SSL\n\n## 6.1 Let's Encrypt\n\n- [sslforfree](https://www.sslforfree.com/)\n- `/home/ya/note/cert/`\n\n## 6.2 Nginx\n\nLeanote9000,gx.littleya.com,nginx.conf:\n```\n# http,\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n   #access_log  logs/access.log  main;\n\n    upstream gx.littleya.com {\n\t    server localhost:9000;\n    }\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    server {\n        listen       1080;\n        server_name  gx.littleya.com;\n\n        #charset koi8-r;\n        # https\n        # ,rewrite\n\t    rewrite ^/(.*) https://gx.littleya.com:1443/$1 permanent;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n\t\tproxy_pass        http://gx.littleya.com;\n\t\tproxy_set_header   Host             $host;\n\t\tproxy_set_header   X-Real-IP        $remote_addr;\n\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   /usr/share/nginx/html;\n        }\n    }\n\n    # HTTPS server\n    #\n    server {\n        listen       1443 ssl;\n        server_name  gx.littleya.com;\n\n        ssl_certificate      /home/ya/note/cert/gx.littleya.com.crt;\n        ssl_certificate_key  /home/ya/note/cert/gx.littleya.com.key;\n\n        ssl_session_cache    shared:SSL:1m;\n        ssl_session_timeout  5m;\n\n        ssl_ciphers  HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers  on;\n\n        location / {\n\t\tproxy_pass        http://gx.littleya.com;\n\t\tproxy_set_header   Host             $host;\n\t\tproxy_set_header   X-Real-IP        $remote_addr;\n\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n\n}\n```","source":"_posts/201710091703.md","raw":"---\ntitle: LinuxleanoteSSL\ndate: 2017-10-09 17:03:22\ntags:\n  - linux\n  - other\n---\n\nLinuxleanoteSSL\n\n<!-- more -->\n\n##  Mac  linux ****\n\n- Mac,Linux ,[](https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Mac-and-Linux)\n- Windows ,[](https://github.com/leanote/leanote/wiki/Leanote-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows)\n- Windows ,[](https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows)\n\n----------------------------------\n# :\n\n1.  `leanote` \n2.  `mongodb`\n3. \n4.  `leanote`\n5.  `leanote`\n\n\n----------------------------\n# 1.  `leanote` \n\n [leanote ](http://leanote.org/#download)\n\n `/home/ya/note` , `/home/ya/note`  `leanote`\n```\ncd /home/ya/note\ntar -xzvf leanote-darwin-amd64.v2.0.bin.tar.gz\n```\n\n----------------------------\n# 2.  `mongodb`\n\n## 2.1  `mongodb`\n\n### 2.1.1 \n\n [mongodb ](http://www.mongodb.org/downloads) ,\n\n* 64 linux mongodb 3.0.1 : https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz\n\n `/home/ya/note`,:\n```\ncd /home/ya/note\ntar -xzvf mongodb-linux-x86_64-3.0.1.tgz/\n```\n\n`mongodb`, `~/.profile``/etc/profile` ,`mongodb/bin`:\n```\nsudo vim /etc/profile\n```\n`vim`,\n\n`/etc/profile`,`ya/note``mongodb-linux-x86_64-3.0.1`\n```\nexport PATH=$PATH:/home/ya/note/mongodb-linux-x86_64-3.0.1/bin\n```\n\n,:\n```\nsource /etc/profile\n```\n\n### 2.1.2 \n\n``` bash\nsudo pacman -S mongodb mongodb-tools\n```\n\n## 2.2 `mongodb`\n\n`/home/ya/note``data``mongodb`:\n```\nmkdir /home/ya/note/data\n```\n\n`mongod`:\n```\nmongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth \n```\n\n`mongod`,,`mongo`\n```\nmongo\n> show dbs\n...\n```\n\n`mongodb`,`mongodb``leanote`\n\n\n-------------------------------------\n\n# 3. \n\n## 3.1 \n`leanote` `/home/ya/note/leanote/mongodb_backup/leanote_install_data`\n\n,\n\n```\nmongorestore -h localhost -d leanote --dir /home/ya/note/leanote/mongodb_backup/leanote_install_data/\n```\n\n`mongodb``leanote`,`leanote`\"\":\n```\nmongo\n> show dbs #\nleanote\t0.203125GB\nlocal\t0.078125GB\n> use leanote # leanote\nswitched to db leanote\n> show collections # \nfiles\nhas_share_notes\nnote_content_histories\nnote_contents\n....\n```\n\n`users`2:\n```\nya/note username: admin,password: abc123 (,,)\nuser2 username: demo@leanote.com,password: demo@leanote.com ()\n```\n\n## 3.2 mongodb\n\nmysqlroot,mongodb,,leanoteleanote(,leanoteusers,leanote,mysqlroot).\n\nmognodb v2v3\n\nmongodb v2 :\n```\n# leanote\n> use leanote;\n# root,abc123\n> db.addUser(\"root\",\"abc123\");\n{\n\t\"_id\" : ObjectId(\"53688d1950cc1813efb9564c\"),\n\t\"user\" : \"root\",\n\t\"readOnly\" : false,\n\t\"pwd\" : \"e014bfea4a9c3c27ab34e50bd1ef0955\"\n}\n# \n> db.auth(\"root\",\"abc123\");\n1 # 1\n```\nmongodb v3 :\n```\n# leanote\n> use leanote;\n# root,abc123\n> db.createUser({\n    user: 'root',\n    pwd: 'abc123',\n    roles: [{role: 'dbOwner',db: 'leanote'}]\n});\n# \n> db.auth(\"root\",\"abc123\");\n1 # 1\n```\n\nmongodb,. mongodctrl+cmongodb.\n\nmongodb:\n```\nmongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth\n```\n\n-----------------------------------\n# 4. `leanote`\n\n`leanote` `conf/app.conf` \n\n`app.secret`,,,\n\n```\nhttp.port=9000\n\nsite.url=https://localhost:1443 # or http://x.com:8080,http://www.xx.com:9000\n\n# admin username\nadminUsername=admin\n\n# mongdb\ndb.host=127.0.0.1\ndb.port=27016\ndb.dbname=leanote # required\ndb.username=root # if not exists,please leave it blank\ndb.password=abc123/ # if not exists,please leave it blank\n```\n\n---------------------------------\n# 5. `leanote`\n\n**:** `mongodb`!\n\n,:\n```\ncd /home/ya/note/leanote/bin\nbash run.sh\n```\n\n:\n```\n...\nTRACE 2013/06/06 15:01:27 watcher.go:72: Watching: /home/life/leanote/bin/src/github.com/leanote/leanote/conf/routes\nGo to /@tests to run the tests.\nListening on :9000...\n```\n\n,: `http://localhost:9000` `leanote`!\n\n---------------------------------\n# 6 SSL\n\n## 6.1 Let's Encrypt\n\n- [sslforfree](https://www.sslforfree.com/)\n- `/home/ya/note/cert/`\n\n## 6.2 Nginx\n\nLeanote9000,gx.littleya.com,nginx.conf:\n```\n# http,\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n   #access_log  logs/access.log  main;\n\n    upstream gx.littleya.com {\n\t    server localhost:9000;\n    }\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    #keepalive_timeout  0;\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    server {\n        listen       1080;\n        server_name  gx.littleya.com;\n\n        #charset koi8-r;\n        # https\n        # ,rewrite\n\t    rewrite ^/(.*) https://gx.littleya.com:1443/$1 permanent;\n\n        #access_log  logs/host.access.log  main;\n\n        location / {\n\t\tproxy_pass        http://gx.littleya.com;\n\t\tproxy_set_header   Host             $host;\n\t\tproxy_set_header   X-Real-IP        $remote_addr;\n\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   /usr/share/nginx/html;\n        }\n    }\n\n    # HTTPS server\n    #\n    server {\n        listen       1443 ssl;\n        server_name  gx.littleya.com;\n\n        ssl_certificate      /home/ya/note/cert/gx.littleya.com.crt;\n        ssl_certificate_key  /home/ya/note/cert/gx.littleya.com.key;\n\n        ssl_session_cache    shared:SSL:1m;\n        ssl_session_timeout  5m;\n\n        ssl_ciphers  HIGH:!aNULL:!MD5;\n        ssl_prefer_server_ciphers  on;\n\n        location / {\n\t\tproxy_pass        http://gx.littleya.com;\n\t\tproxy_set_header   Host             $host;\n\t\tproxy_set_header   X-Real-IP        $remote_addr;\n\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n\n}\n```","slug":"201710091703","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a2530004zizpbersf4t5","content":"<p>LinuxleanoteSSL</p>\n<a id=\"more\"></a>\n<h2 id=\"-Mac--linux-\"><a href=\"#-Mac--linux-\" class=\"headerlink\" title=\" Mac  linux \"></a> Mac  linux <strong></strong></h2><ul>\n<li>Mac,Linux ,<a href=\"https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Mac-and-Linux\" target=\"_blank\" rel=\"external\"></a></li>\n<li>Windows ,<a href=\"https://github.com/leanote/leanote/wiki/Leanote-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows\" target=\"_blank\" rel=\"external\"></a></li>\n<li>Windows ,<a href=\"https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows\" target=\"_blank\" rel=\"external\"></a></li>\n</ul>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h1><ol>\n<li> <code>leanote</code> </li>\n<li> <code>mongodb</code></li>\n<li></li>\n<li> <code>leanote</code></li>\n<li> <code>leanote</code></li>\n</ol>\n<hr>\n<h1 id=\"1--leanote-\"><a href=\"#1--leanote-\" class=\"headerlink\" title=\"1.  leanote \"></a>1.  <code>leanote</code> </h1><p> <a href=\"http://leanote.org/#download\" target=\"_blank\" rel=\"external\">leanote </a></p>\n<p> <code>/home/ya/note</code> , <code>/home/ya/note</code>  <code>leanote</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd /home/ya/note</div><div class=\"line\">tar -xzvf leanote-darwin-amd64.v2.0.bin.tar.gz</div></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"2--mongodb\"><a href=\"#2--mongodb\" class=\"headerlink\" title=\"2.  mongodb\"></a>2.  <code>mongodb</code></h1><h2 id=\"2-1--mongodb\"><a href=\"#2-1--mongodb\" class=\"headerlink\" title=\"2.1  mongodb\"></a>2.1  <code>mongodb</code></h2><h3 id=\"2-1-1-\"><a href=\"#2-1-1-\" class=\"headerlink\" title=\"2.1.1 \"></a>2.1.1 </h3><p> <a href=\"http://www.mongodb.org/downloads\" target=\"_blank\" rel=\"external\">mongodb </a> ,</p>\n<ul>\n<li>64 linux mongodb 3.0.1 : <a href=\"https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz\" target=\"_blank\" rel=\"external\">https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz</a></li>\n</ul>\n<p> <code>/home/ya/note</code>,:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd /home/ya/note</div><div class=\"line\">tar -xzvf mongodb-linux-x86_64-3.0.1.tgz/</div></pre></td></tr></table></figure></p>\n<p><code>mongodb</code>, <code>~/.profile</code><code>/etc/profile</code> ,<code>mongodb/bin</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo vim /etc/profile</div></pre></td></tr></table></figure></p>\n<p><code>vim</code>,</p>\n<p><code>/etc/profile</code>,<code>ya/note</code><code>mongodb-linux-x86_64-3.0.1</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">export PATH=$PATH:/home/ya/note/mongodb-linux-x86_64-3.0.1/bin</div></pre></td></tr></table></figure></p>\n<p>,:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">source /etc/profile</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-1-2-\"><a href=\"#2-1-2-\" class=\"headerlink\" title=\"2.1.2 \"></a>2.1.2 </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo pacman -S mongodb mongodb-tools</div></pre></td></tr></table></figure>\n<h2 id=\"2-2-mongodb\"><a href=\"#2-2-mongodb\" class=\"headerlink\" title=\"2.2 mongodb\"></a>2.2 <code>mongodb</code></h2><p><code>/home/ya/note</code><code>data</code><code>mongodb</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /home/ya/note/data</div></pre></td></tr></table></figure></p>\n<p><code>mongod</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth</div></pre></td></tr></table></figure></p>\n<p><code>mongod</code>,,<code>mongo</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongo</div><div class=\"line\">&gt; show dbs</div><div class=\"line\">...</div></pre></td></tr></table></figure></p>\n<p><code>mongodb</code>,<code>mongodb</code><code>leanote</code></p>\n<hr>\n<h1 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h1><h2 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h2><p><code>leanote</code> <code>/home/ya/note/leanote/mongodb_backup/leanote_install_data</code></p>\n<p>,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongorestore -h localhost -d leanote --dir /home/ya/note/leanote/mongodb_backup/leanote_install_data/</div></pre></td></tr></table></figure>\n<p><code>mongodb</code><code>leanote</code>,<code>leanote</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongo</div><div class=\"line\">&gt; show dbs #</div><div class=\"line\">leanote\t0.203125GB</div><div class=\"line\">local\t0.078125GB</div><div class=\"line\">&gt; use leanote # leanote</div><div class=\"line\">switched to db leanote</div><div class=\"line\">&gt; show collections # </div><div class=\"line\">files</div><div class=\"line\">has_share_notes</div><div class=\"line\">note_content_histories</div><div class=\"line\">note_contents</div><div class=\"line\">....</div></pre></td></tr></table></figure></p>\n<p><code>users</code>2:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ya/note username: admin,password: abc123 (,,)</div><div class=\"line\">user2 username: demo@leanote.com,password: demo@leanote.com ()</div></pre></td></tr></table></figure></p>\n<h2 id=\"3-2-mongodb\"><a href=\"#3-2-mongodb\" class=\"headerlink\" title=\"3.2 mongodb\"></a>3.2 mongodb</h2><p>mysqlroot,mongodb,,leanoteleanote(,leanoteusers,leanote,mysqlroot).</p>\n<p>mognodb v2v3</p>\n<p>mongodb v2 :<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"># leanote</div><div class=\"line\">&gt; use leanote;</div><div class=\"line\"># root,abc123</div><div class=\"line\">&gt; db.addUser(&quot;root&quot;,&quot;abc123&quot;);</div><div class=\"line\">&#123;</div><div class=\"line\">\t&quot;_id&quot; : ObjectId(&quot;53688d1950cc1813efb9564c&quot;),</div><div class=\"line\">\t&quot;user&quot; : &quot;root&quot;,</div><div class=\"line\">\t&quot;readOnly&quot; : false,</div><div class=\"line\">\t&quot;pwd&quot; : &quot;e014bfea4a9c3c27ab34e50bd1ef0955&quot;</div><div class=\"line\">&#125;</div><div class=\"line\"># </div><div class=\"line\">&gt; db.auth(&quot;root&quot;,&quot;abc123&quot;);</div><div class=\"line\">1 # 1</div></pre></td></tr></table></figure></p>\n<p>mongodb v3 :<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"># leanote</div><div class=\"line\">&gt; use leanote;</div><div class=\"line\"># root,abc123</div><div class=\"line\">&gt; db.createUser(&#123;</div><div class=\"line\">    user: &apos;root&apos;,</div><div class=\"line\">    pwd: &apos;abc123&apos;,</div><div class=\"line\">    roles: [&#123;role: &apos;dbOwner&apos;,db: &apos;leanote&apos;&#125;]</div><div class=\"line\">&#125;);</div><div class=\"line\"># </div><div class=\"line\">&gt; db.auth(&quot;root&quot;,&quot;abc123&quot;);</div><div class=\"line\">1 # 1</div></pre></td></tr></table></figure></p>\n<p>mongodb,. mongodctrl+cmongodb.</p>\n<p>mongodb:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth</div></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"4-leanote\"><a href=\"#4-leanote\" class=\"headerlink\" title=\"4. leanote\"></a>4. <code>leanote</code></h1><p><code>leanote</code> <code>conf/app.conf</code> </p>\n<p><code>app.secret</code>,,,<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">http.port=9000</div><div class=\"line\"></div><div class=\"line\">site.url=https://localhost:1443 # or http://x.com:8080,http://www.xx.com:9000</div><div class=\"line\"></div><div class=\"line\"># admin username</div><div class=\"line\">adminUsername=admin</div><div class=\"line\"></div><div class=\"line\"># mongdb</div><div class=\"line\">db.host=127.0.0.1</div><div class=\"line\">db.port=27016</div><div class=\"line\">db.dbname=leanote # required</div><div class=\"line\">db.username=root # if not exists,please leave it blank</div><div class=\"line\">db.password=abc123/ # if not exists,please leave it blank</div></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"5-leanote\"><a href=\"#5-leanote\" class=\"headerlink\" title=\"5. leanote\"></a>5. <code>leanote</code></h1><p><strong>:</strong> <code>mongodb</code>!</p>\n<p>,:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd /home/ya/note/leanote/bin</div><div class=\"line\">bash run.sh</div></pre></td></tr></table></figure></p>\n<p>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">...</div><div class=\"line\">TRACE 2013/06/06 15:01:27 watcher.go:72: Watching: /home/life/leanote/bin/src/github.com/leanote/leanote/conf/routes</div><div class=\"line\">Go to /@tests to run the tests.</div><div class=\"line\">Listening on :9000...</div></pre></td></tr></table></figure></p>\n<p>,: <code>http://localhost:9000</code> <code>leanote</code>!</p>\n<hr>\n<h1 id=\"6-SSL\"><a href=\"#6-SSL\" class=\"headerlink\" title=\"6 SSL\"></a>6 SSL</h1><h2 id=\"6-1-Lets-Encrypt\"><a href=\"#6-1-Lets-Encrypt\" class=\"headerlink\" title=\"6.1 Lets Encrypt\"></a>6.1 Lets Encrypt</h2><ul>\n<li><a href=\"https://www.sslforfree.com/\" target=\"_blank\" rel=\"external\">sslforfree</a></li>\n<li><code>/home/ya/note/cert/</code></li>\n</ul>\n<h2 id=\"6-2-Nginx\"><a href=\"#6-2-Nginx\" class=\"headerlink\" title=\"6.2 Nginx\"></a>6.2 Nginx</h2><p>Leanote9000,gx.littleya.com,nginx.conf:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div></pre></td><td class=\"code\"><pre><div class=\"line\"># http,</div><div class=\"line\">http &#123;</div><div class=\"line\">    include       mime.types;</div><div class=\"line\">    default_type  application/octet-stream;</div><div class=\"line\"></div><div class=\"line\">   #access_log  logs/access.log  main;</div><div class=\"line\"></div><div class=\"line\">    upstream gx.littleya.com &#123;</div><div class=\"line\">\t    server localhost:9000;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    sendfile        on;</div><div class=\"line\">    #tcp_nopush     on;</div><div class=\"line\"></div><div class=\"line\">    #keepalive_timeout  0;</div><div class=\"line\">    keepalive_timeout  65;</div><div class=\"line\"></div><div class=\"line\">    #gzip  on;</div><div class=\"line\"></div><div class=\"line\">    server &#123;</div><div class=\"line\">        listen       1080;</div><div class=\"line\">        server_name  gx.littleya.com;</div><div class=\"line\"></div><div class=\"line\">        #charset koi8-r;</div><div class=\"line\">        # https</div><div class=\"line\">        # ,rewrite</div><div class=\"line\">\t    rewrite ^/(.*) https://gx.littleya.com:1443/$1 permanent;</div><div class=\"line\"></div><div class=\"line\">        #access_log  logs/host.access.log  main;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\">\t\tproxy_pass        http://gx.littleya.com;</div><div class=\"line\">\t\tproxy_set_header   Host             $host;</div><div class=\"line\">\t\tproxy_set_header   X-Real-IP        $remote_addr;</div><div class=\"line\">\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        #error_page  404              /404.html;</div><div class=\"line\"></div><div class=\"line\">        # redirect server error pages to the static page /50x.html</div><div class=\"line\">        #</div><div class=\"line\">        error_page   500 502 503 504  /50x.html;</div><div class=\"line\">        location = /50x.html &#123;</div><div class=\"line\">            root   /usr/share/nginx/html;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    # HTTPS server</div><div class=\"line\">    #</div><div class=\"line\">    server &#123;</div><div class=\"line\">        listen       1443 ssl;</div><div class=\"line\">        server_name  gx.littleya.com;</div><div class=\"line\"></div><div class=\"line\">        ssl_certificate      /home/ya/note/cert/gx.littleya.com.crt;</div><div class=\"line\">        ssl_certificate_key  /home/ya/note/cert/gx.littleya.com.key;</div><div class=\"line\"></div><div class=\"line\">        ssl_session_cache    shared:SSL:1m;</div><div class=\"line\">        ssl_session_timeout  5m;</div><div class=\"line\"></div><div class=\"line\">        ssl_ciphers  HIGH:!aNULL:!MD5;</div><div class=\"line\">        ssl_prefer_server_ciphers  on;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\">\t\tproxy_pass        http://gx.littleya.com;</div><div class=\"line\">\t\tproxy_set_header   Host             $host;</div><div class=\"line\">\t\tproxy_set_header   X-Real-IP        $remote_addr;</div><div class=\"line\">\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>LinuxleanoteSSL</p>","more":"<h2 id=\"-Mac--linux-\"><a href=\"#-Mac--linux-\" class=\"headerlink\" title=\" Mac  linux \"></a> Mac  linux <strong></strong></h2><ul>\n<li>Mac,Linux ,<a href=\"https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Mac-and-Linux\" target=\"_blank\" rel=\"external\"></a></li>\n<li>Windows ,<a href=\"https://github.com/leanote/leanote/wiki/Leanote-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows\" target=\"_blank\" rel=\"external\"></a></li>\n<li>Windows ,<a href=\"https://github.com/leanote/leanote/wiki/Leanote-%E6%BA%90%E7%A0%81%E7%89%88%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B----Windows\" target=\"_blank\" rel=\"external\"></a></li>\n</ul>\n<hr>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\":\"></a>:</h1><ol>\n<li> <code>leanote</code> </li>\n<li> <code>mongodb</code></li>\n<li></li>\n<li> <code>leanote</code></li>\n<li> <code>leanote</code></li>\n</ol>\n<hr>\n<h1 id=\"1--leanote-\"><a href=\"#1--leanote-\" class=\"headerlink\" title=\"1.  leanote \"></a>1.  <code>leanote</code> </h1><p> <a href=\"http://leanote.org/#download\" target=\"_blank\" rel=\"external\">leanote </a></p>\n<p> <code>/home/ya/note</code> , <code>/home/ya/note</code>  <code>leanote</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd /home/ya/note</div><div class=\"line\">tar -xzvf leanote-darwin-amd64.v2.0.bin.tar.gz</div></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"2--mongodb\"><a href=\"#2--mongodb\" class=\"headerlink\" title=\"2.  mongodb\"></a>2.  <code>mongodb</code></h1><h2 id=\"2-1--mongodb\"><a href=\"#2-1--mongodb\" class=\"headerlink\" title=\"2.1  mongodb\"></a>2.1  <code>mongodb</code></h2><h3 id=\"2-1-1-\"><a href=\"#2-1-1-\" class=\"headerlink\" title=\"2.1.1 \"></a>2.1.1 </h3><p> <a href=\"http://www.mongodb.org/downloads\" target=\"_blank\" rel=\"external\">mongodb </a> ,</p>\n<ul>\n<li>64 linux mongodb 3.0.1 : <a href=\"https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz\" target=\"_blank\" rel=\"external\">https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.1.tgz</a></li>\n</ul>\n<p> <code>/home/ya/note</code>,:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd /home/ya/note</div><div class=\"line\">tar -xzvf mongodb-linux-x86_64-3.0.1.tgz/</div></pre></td></tr></table></figure></p>\n<p><code>mongodb</code>, <code>~/.profile</code><code>/etc/profile</code> ,<code>mongodb/bin</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo vim /etc/profile</div></pre></td></tr></table></figure></p>\n<p><code>vim</code>,</p>\n<p><code>/etc/profile</code>,<code>ya/note</code><code>mongodb-linux-x86_64-3.0.1</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">export PATH=$PATH:/home/ya/note/mongodb-linux-x86_64-3.0.1/bin</div></pre></td></tr></table></figure></p>\n<p>,:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">source /etc/profile</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-1-2-\"><a href=\"#2-1-2-\" class=\"headerlink\" title=\"2.1.2 \"></a>2.1.2 </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo pacman -S mongodb mongodb-tools</div></pre></td></tr></table></figure>\n<h2 id=\"2-2-mongodb\"><a href=\"#2-2-mongodb\" class=\"headerlink\" title=\"2.2 mongodb\"></a>2.2 <code>mongodb</code></h2><p><code>/home/ya/note</code><code>data</code><code>mongodb</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /home/ya/note/data</div></pre></td></tr></table></figure></p>\n<p><code>mongod</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth</div></pre></td></tr></table></figure></p>\n<p><code>mongod</code>,,<code>mongo</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongo</div><div class=\"line\">&gt; show dbs</div><div class=\"line\">...</div></pre></td></tr></table></figure></p>\n<p><code>mongodb</code>,<code>mongodb</code><code>leanote</code></p>\n<hr>\n<h1 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h1><h2 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h2><p><code>leanote</code> <code>/home/ya/note/leanote/mongodb_backup/leanote_install_data</code></p>\n<p>,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongorestore -h localhost -d leanote --dir /home/ya/note/leanote/mongodb_backup/leanote_install_data/</div></pre></td></tr></table></figure>\n<p><code>mongodb</code><code>leanote</code>,<code>leanote</code>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongo</div><div class=\"line\">&gt; show dbs #</div><div class=\"line\">leanote\t0.203125GB</div><div class=\"line\">local\t0.078125GB</div><div class=\"line\">&gt; use leanote # leanote</div><div class=\"line\">switched to db leanote</div><div class=\"line\">&gt; show collections # </div><div class=\"line\">files</div><div class=\"line\">has_share_notes</div><div class=\"line\">note_content_histories</div><div class=\"line\">note_contents</div><div class=\"line\">....</div></pre></td></tr></table></figure></p>\n<p><code>users</code>2:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ya/note username: admin,password: abc123 (,,)</div><div class=\"line\">user2 username: demo@leanote.com,password: demo@leanote.com ()</div></pre></td></tr></table></figure></p>\n<h2 id=\"3-2-mongodb\"><a href=\"#3-2-mongodb\" class=\"headerlink\" title=\"3.2 mongodb\"></a>3.2 mongodb</h2><p>mysqlroot,mongodb,,leanoteleanote(,leanoteusers,leanote,mysqlroot).</p>\n<p>mognodb v2v3</p>\n<p>mongodb v2 :<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"># leanote</div><div class=\"line\">&gt; use leanote;</div><div class=\"line\"># root,abc123</div><div class=\"line\">&gt; db.addUser(&quot;root&quot;,&quot;abc123&quot;);</div><div class=\"line\">&#123;</div><div class=\"line\">\t&quot;_id&quot; : ObjectId(&quot;53688d1950cc1813efb9564c&quot;),</div><div class=\"line\">\t&quot;user&quot; : &quot;root&quot;,</div><div class=\"line\">\t&quot;readOnly&quot; : false,</div><div class=\"line\">\t&quot;pwd&quot; : &quot;e014bfea4a9c3c27ab34e50bd1ef0955&quot;</div><div class=\"line\">&#125;</div><div class=\"line\"># </div><div class=\"line\">&gt; db.auth(&quot;root&quot;,&quot;abc123&quot;);</div><div class=\"line\">1 # 1</div></pre></td></tr></table></figure></p>\n<p>mongodb v3 :<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"># leanote</div><div class=\"line\">&gt; use leanote;</div><div class=\"line\"># root,abc123</div><div class=\"line\">&gt; db.createUser(&#123;</div><div class=\"line\">    user: &apos;root&apos;,</div><div class=\"line\">    pwd: &apos;abc123&apos;,</div><div class=\"line\">    roles: [&#123;role: &apos;dbOwner&apos;,db: &apos;leanote&apos;&#125;]</div><div class=\"line\">&#125;);</div><div class=\"line\"># </div><div class=\"line\">&gt; db.auth(&quot;root&quot;,&quot;abc123&quot;);</div><div class=\"line\">1 # 1</div></pre></td></tr></table></figure></p>\n<p>mongodb,. mongodctrl+cmongodb.</p>\n<p>mongodb:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mongod --dbpath /home/ya/note/mongodb/data --port 27016 --logpath /home/ya/note/mongodb/mongodb.log --logappend --auth</div></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"4-leanote\"><a href=\"#4-leanote\" class=\"headerlink\" title=\"4. leanote\"></a>4. <code>leanote</code></h1><p><code>leanote</code> <code>conf/app.conf</code> </p>\n<p><code>app.secret</code>,,,<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">http.port=9000</div><div class=\"line\"></div><div class=\"line\">site.url=https://localhost:1443 # or http://x.com:8080,http://www.xx.com:9000</div><div class=\"line\"></div><div class=\"line\"># admin username</div><div class=\"line\">adminUsername=admin</div><div class=\"line\"></div><div class=\"line\"># mongdb</div><div class=\"line\">db.host=127.0.0.1</div><div class=\"line\">db.port=27016</div><div class=\"line\">db.dbname=leanote # required</div><div class=\"line\">db.username=root # if not exists,please leave it blank</div><div class=\"line\">db.password=abc123/ # if not exists,please leave it blank</div></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"5-leanote\"><a href=\"#5-leanote\" class=\"headerlink\" title=\"5. leanote\"></a>5. <code>leanote</code></h1><p><strong>:</strong> <code>mongodb</code>!</p>\n<p>,:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd /home/ya/note/leanote/bin</div><div class=\"line\">bash run.sh</div></pre></td></tr></table></figure></p>\n<p>:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">...</div><div class=\"line\">TRACE 2013/06/06 15:01:27 watcher.go:72: Watching: /home/life/leanote/bin/src/github.com/leanote/leanote/conf/routes</div><div class=\"line\">Go to /@tests to run the tests.</div><div class=\"line\">Listening on :9000...</div></pre></td></tr></table></figure></p>\n<p>,: <code>http://localhost:9000</code> <code>leanote</code>!</p>\n<hr>\n<h1 id=\"6-SSL\"><a href=\"#6-SSL\" class=\"headerlink\" title=\"6 SSL\"></a>6 SSL</h1><h2 id=\"6-1-Lets-Encrypt\"><a href=\"#6-1-Lets-Encrypt\" class=\"headerlink\" title=\"6.1 Lets Encrypt\"></a>6.1 Lets Encrypt</h2><ul>\n<li><a href=\"https://www.sslforfree.com/\" target=\"_blank\" rel=\"external\">sslforfree</a></li>\n<li><code>/home/ya/note/cert/</code></li>\n</ul>\n<h2 id=\"6-2-Nginx\"><a href=\"#6-2-Nginx\" class=\"headerlink\" title=\"6.2 Nginx\"></a>6.2 Nginx</h2><p>Leanote9000,gx.littleya.com,nginx.conf:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div></pre></td><td class=\"code\"><pre><div class=\"line\"># http,</div><div class=\"line\">http &#123;</div><div class=\"line\">    include       mime.types;</div><div class=\"line\">    default_type  application/octet-stream;</div><div class=\"line\"></div><div class=\"line\">   #access_log  logs/access.log  main;</div><div class=\"line\"></div><div class=\"line\">    upstream gx.littleya.com &#123;</div><div class=\"line\">\t    server localhost:9000;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    sendfile        on;</div><div class=\"line\">    #tcp_nopush     on;</div><div class=\"line\"></div><div class=\"line\">    #keepalive_timeout  0;</div><div class=\"line\">    keepalive_timeout  65;</div><div class=\"line\"></div><div class=\"line\">    #gzip  on;</div><div class=\"line\"></div><div class=\"line\">    server &#123;</div><div class=\"line\">        listen       1080;</div><div class=\"line\">        server_name  gx.littleya.com;</div><div class=\"line\"></div><div class=\"line\">        #charset koi8-r;</div><div class=\"line\">        # https</div><div class=\"line\">        # ,rewrite</div><div class=\"line\">\t    rewrite ^/(.*) https://gx.littleya.com:1443/$1 permanent;</div><div class=\"line\"></div><div class=\"line\">        #access_log  logs/host.access.log  main;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\">\t\tproxy_pass        http://gx.littleya.com;</div><div class=\"line\">\t\tproxy_set_header   Host             $host;</div><div class=\"line\">\t\tproxy_set_header   X-Real-IP        $remote_addr;</div><div class=\"line\">\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        #error_page  404              /404.html;</div><div class=\"line\"></div><div class=\"line\">        # redirect server error pages to the static page /50x.html</div><div class=\"line\">        #</div><div class=\"line\">        error_page   500 502 503 504  /50x.html;</div><div class=\"line\">        location = /50x.html &#123;</div><div class=\"line\">            root   /usr/share/nginx/html;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    # HTTPS server</div><div class=\"line\">    #</div><div class=\"line\">    server &#123;</div><div class=\"line\">        listen       1443 ssl;</div><div class=\"line\">        server_name  gx.littleya.com;</div><div class=\"line\"></div><div class=\"line\">        ssl_certificate      /home/ya/note/cert/gx.littleya.com.crt;</div><div class=\"line\">        ssl_certificate_key  /home/ya/note/cert/gx.littleya.com.key;</div><div class=\"line\"></div><div class=\"line\">        ssl_session_cache    shared:SSL:1m;</div><div class=\"line\">        ssl_session_timeout  5m;</div><div class=\"line\"></div><div class=\"line\">        ssl_ciphers  HIGH:!aNULL:!MD5;</div><div class=\"line\">        ssl_prefer_server_ciphers  on;</div><div class=\"line\"></div><div class=\"line\">        location / &#123;</div><div class=\"line\">\t\tproxy_pass        http://gx.littleya.com;</div><div class=\"line\">\t\tproxy_set_header   Host             $host;</div><div class=\"line\">\t\tproxy_set_header   X-Real-IP        $remote_addr;</div><div class=\"line\">\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>"},{"title":"Linux L4D2","date":"2017-10-09T09:04:19.000Z","_content":"\nsteamL4D2\n\n<!-- more -->\n\n# \n-   1G,1,1Mbps\n-   Ubuntu 14.04 LTS x64\n\n# \n## SteamCMD\n\n### 1. \n\nUbuntu/Debian:\n```\napt-get install lib32gcc1\n```\n\nCentos x86:\n```\nyum install glibc libstdc++\n```\n\nCentos x64:\n```\nyum install glibc.i686 ligstdc++.i686\n```\n\n### 2. &steamcmd\n\n```\nuseradd steamcmd\nsu steamcmd\nmkdir ~/steamcmd && cd ~/steamcmd\nwget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz && tar zxvf steamcmd_linux.tar.gz\n./steamcmd.sh\n```\n\n,\n> Steam Console Client (c) Valve Corporation\n> -- type 'quit' to exit --\n> Loading Steam API...OK.\n> <br>\n> Steam>\n\n### 3. L4D2\n,,:https://developer.valvesoftware.com/wiki/Dedicated_Servers_List\nL4D2\n```\nSteam> login anonymous\nConnecting anonymously to Steam Public...Logged in OK\nWaiting for license info...OK\nSteam> force_install_dir ~/game/l4d2\n#fore_install_dir\nSteam> app_update 222860 validate\n# app_update <app_id> [-beta <betaname>] [-betapassword <password>]\n#app_idDedicatedServerSteamID,ID\n#beta,beta\n#validate,\n#\nSuccess! App '222860' fully installed.\n#\nSteam>quit\n#SteamCMD\n```\n\n### 4. L4D2\n\n~/game/L4D2/left4dead2/cfg/server.cfg\n> hostname \"servername\" \n> //\n> rcon_password \"password\" \n> //\n> //sv_search_key yourkey \n> //\n> //sv_region 255\n> //,255\n> //sv_gametypes \"coop,versus,survival,scavenge\" \n> //\n> //map c5m1_waterfront \n> //\n> //sv_voiceenable 1\n> //\n> //sv_lan 0\n> //\n> //sv_cheats \"0\"\n> //\n> //sv_steamgroup \"01234\" \n> //Steam\n> //sv_steamgroup_exclusive 1 \n> //Steam\n\n,()\n> hostname \"Aasakinagi\"\n> sv_steamgroup 12106576\n> sv_steamgroup_exclusive 1\n\n### 5. \n\nrun.sh,\n> ./srcds_run -game left4dead2 +exec server.cfg\n\nrun.sh,ssh,\nscreen\ndebianscreen\n```\napt-get install screen\n```\n\nrun.sh:\n> screen -S l4d2 ./srcds_run -game left4dead2 +exec server.cfg\n\nCrlt+A+D ","source":"_posts/201710091704.md","raw":"---\ntitle: Linux L4D2 \ndate: 2017-10-09 17:04:19\ntags:\n  - linux\n  - other\n---\n\nsteamL4D2\n\n<!-- more -->\n\n# \n-   1G,1,1Mbps\n-   Ubuntu 14.04 LTS x64\n\n# \n## SteamCMD\n\n### 1. \n\nUbuntu/Debian:\n```\napt-get install lib32gcc1\n```\n\nCentos x86:\n```\nyum install glibc libstdc++\n```\n\nCentos x64:\n```\nyum install glibc.i686 ligstdc++.i686\n```\n\n### 2. &steamcmd\n\n```\nuseradd steamcmd\nsu steamcmd\nmkdir ~/steamcmd && cd ~/steamcmd\nwget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz && tar zxvf steamcmd_linux.tar.gz\n./steamcmd.sh\n```\n\n,\n> Steam Console Client (c) Valve Corporation\n> -- type 'quit' to exit --\n> Loading Steam API...OK.\n> <br>\n> Steam>\n\n### 3. L4D2\n,,:https://developer.valvesoftware.com/wiki/Dedicated_Servers_List\nL4D2\n```\nSteam> login anonymous\nConnecting anonymously to Steam Public...Logged in OK\nWaiting for license info...OK\nSteam> force_install_dir ~/game/l4d2\n#fore_install_dir\nSteam> app_update 222860 validate\n# app_update <app_id> [-beta <betaname>] [-betapassword <password>]\n#app_idDedicatedServerSteamID,ID\n#beta,beta\n#validate,\n#\nSuccess! App '222860' fully installed.\n#\nSteam>quit\n#SteamCMD\n```\n\n### 4. L4D2\n\n~/game/L4D2/left4dead2/cfg/server.cfg\n> hostname \"servername\" \n> //\n> rcon_password \"password\" \n> //\n> //sv_search_key yourkey \n> //\n> //sv_region 255\n> //,255\n> //sv_gametypes \"coop,versus,survival,scavenge\" \n> //\n> //map c5m1_waterfront \n> //\n> //sv_voiceenable 1\n> //\n> //sv_lan 0\n> //\n> //sv_cheats \"0\"\n> //\n> //sv_steamgroup \"01234\" \n> //Steam\n> //sv_steamgroup_exclusive 1 \n> //Steam\n\n,()\n> hostname \"Aasakinagi\"\n> sv_steamgroup 12106576\n> sv_steamgroup_exclusive 1\n\n### 5. \n\nrun.sh,\n> ./srcds_run -game left4dead2 +exec server.cfg\n\nrun.sh,ssh,\nscreen\ndebianscreen\n```\napt-get install screen\n```\n\nrun.sh:\n> screen -S l4d2 ./srcds_run -game left4dead2 +exec server.cfg\n\nCrlt+A+D ","slug":"201710091704","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a2570005zizpideapban","content":"<p>steamL4D2</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>1G,1,1Mbps</li>\n<li>Ubuntu 14.04 LTS x64</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"SteamCMD\"><a href=\"#SteamCMD\" class=\"headerlink\" title=\"SteamCMD\"></a>SteamCMD</h2><h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p>Ubuntu/Debian:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install lib32gcc1</div></pre></td></tr></table></figure></p>\n<p>Centos x86:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">yum install glibc libstdc++</div></pre></td></tr></table></figure></p>\n<p>Centos x64:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">yum install glibc.i686 ligstdc++.i686</div></pre></td></tr></table></figure></p>\n<h3 id=\"2--amp-steamcmd\"><a href=\"#2--amp-steamcmd\" class=\"headerlink\" title=\"2. &amp;steamcmd\"></a>2. &amp;steamcmd</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">useradd steamcmd</div><div class=\"line\">su steamcmd</div><div class=\"line\">mkdir ~/steamcmd &amp;&amp; cd ~/steamcmd</div><div class=\"line\">wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz &amp;&amp; tar zxvf steamcmd_linux.tar.gz</div><div class=\"line\">./steamcmd.sh</div></pre></td></tr></table></figure>\n<p>,</p>\n<blockquote>\n<p>Steam Console Client (c) Valve Corporation<br> type quit to exit <br>Loading Steam APIOK.<br><br><br>Steam&gt;</p>\n</blockquote>\n<h3 id=\"3-L4D2\"><a href=\"#3-L4D2\" class=\"headerlink\" title=\"3. L4D2\"></a>3. L4D2</h3><p>,,:<a href=\"https://developer.valvesoftware.com/wiki/Dedicated_Servers_List\" target=\"_blank\" rel=\"external\">https://developer.valvesoftware.com/wiki/Dedicated_Servers_List</a><br>L4D2<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">Steam&gt; login anonymous</div><div class=\"line\">Connecting anonymously to Steam Public...Logged in OK</div><div class=\"line\">Waiting for license info...OK</div><div class=\"line\">Steam&gt; force_install_dir ~/game/l4d2</div><div class=\"line\">#fore_install_dir</div><div class=\"line\">Steam&gt; app_update 222860 validate</div><div class=\"line\"># app_update &lt;app_id&gt; [-beta &lt;betaname&gt;] [-betapassword &lt;password&gt;]</div><div class=\"line\">#app_idDedicatedServerSteamID,ID</div><div class=\"line\">#beta,beta</div><div class=\"line\">#validate,</div><div class=\"line\">#</div><div class=\"line\">Success! App &apos;222860&apos; fully installed.</div><div class=\"line\">#</div><div class=\"line\">Steam&gt;quit</div><div class=\"line\">#SteamCMD</div></pre></td></tr></table></figure></p>\n<h3 id=\"4-L4D2\"><a href=\"#4-L4D2\" class=\"headerlink\" title=\"4. L4D2\"></a>4. L4D2</h3><p>~/game/L4D2/left4dead2/cfg/server.cfg</p>\n<blockquote>\n<p>hostname servername<br>//<br>rcon_password password<br>//<br>//sv_search_key yourkey<br>//<br>//sv_region 255<br>//,255<br>//sv_gametypes coop,versus,survival,scavenge<br>//<br>//map c5m1_waterfront<br>//<br>//sv_voiceenable 1<br>//<br>//sv_lan 0<br>//<br>//sv_cheats 0<br>//<br>//sv_steamgroup 01234<br>//Steam<br>//sv_steamgroup_exclusive 1<br>//Steam</p>\n</blockquote>\n<p>,()</p>\n<blockquote>\n<p>hostname Aasakinagi<br>sv_steamgroup 12106576<br>sv_steamgroup_exclusive 1</p>\n</blockquote>\n<h3 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h3><p>run.sh,</p>\n<blockquote>\n<p>./srcds_run -game left4dead2 +exec server.cfg</p>\n</blockquote>\n<p>run.sh,ssh,<br>screen<br>debianscreen<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install screen</div></pre></td></tr></table></figure></p>\n<p>run.sh:</p>\n<blockquote>\n<p>screen -S l4d2 ./srcds_run -game left4dead2 +exec server.cfg</p>\n</blockquote>\n<p>Crlt+A+D </p>\n","site":{"data":{}},"excerpt":"<p>steamL4D2</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li>1G,1,1Mbps</li>\n<li>Ubuntu 14.04 LTS x64</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"SteamCMD\"><a href=\"#SteamCMD\" class=\"headerlink\" title=\"SteamCMD\"></a>SteamCMD</h2><h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p>Ubuntu/Debian:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install lib32gcc1</div></pre></td></tr></table></figure></p>\n<p>Centos x86:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">yum install glibc libstdc++</div></pre></td></tr></table></figure></p>\n<p>Centos x64:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">yum install glibc.i686 ligstdc++.i686</div></pre></td></tr></table></figure></p>\n<h3 id=\"2--amp-steamcmd\"><a href=\"#2--amp-steamcmd\" class=\"headerlink\" title=\"2. &amp;steamcmd\"></a>2. &amp;steamcmd</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">useradd steamcmd</div><div class=\"line\">su steamcmd</div><div class=\"line\">mkdir ~/steamcmd &amp;&amp; cd ~/steamcmd</div><div class=\"line\">wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz &amp;&amp; tar zxvf steamcmd_linux.tar.gz</div><div class=\"line\">./steamcmd.sh</div></pre></td></tr></table></figure>\n<p>,</p>\n<blockquote>\n<p>Steam Console Client (c) Valve Corporation<br> type quit to exit <br>Loading Steam APIOK.<br><br><br>Steam&gt;</p>\n</blockquote>\n<h3 id=\"3-L4D2\"><a href=\"#3-L4D2\" class=\"headerlink\" title=\"3. L4D2\"></a>3. L4D2</h3><p>,,:<a href=\"https://developer.valvesoftware.com/wiki/Dedicated_Servers_List\" target=\"_blank\" rel=\"external\">https://developer.valvesoftware.com/wiki/Dedicated_Servers_List</a><br>L4D2<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">Steam&gt; login anonymous</div><div class=\"line\">Connecting anonymously to Steam Public...Logged in OK</div><div class=\"line\">Waiting for license info...OK</div><div class=\"line\">Steam&gt; force_install_dir ~/game/l4d2</div><div class=\"line\">#fore_install_dir</div><div class=\"line\">Steam&gt; app_update 222860 validate</div><div class=\"line\"># app_update &lt;app_id&gt; [-beta &lt;betaname&gt;] [-betapassword &lt;password&gt;]</div><div class=\"line\">#app_idDedicatedServerSteamID,ID</div><div class=\"line\">#beta,beta</div><div class=\"line\">#validate,</div><div class=\"line\">#</div><div class=\"line\">Success! App &apos;222860&apos; fully installed.</div><div class=\"line\">#</div><div class=\"line\">Steam&gt;quit</div><div class=\"line\">#SteamCMD</div></pre></td></tr></table></figure></p>\n<h3 id=\"4-L4D2\"><a href=\"#4-L4D2\" class=\"headerlink\" title=\"4. L4D2\"></a>4. L4D2</h3><p>~/game/L4D2/left4dead2/cfg/server.cfg</p>\n<blockquote>\n<p>hostname servername<br>//<br>rcon_password password<br>//<br>//sv_search_key yourkey<br>//<br>//sv_region 255<br>//,255<br>//sv_gametypes coop,versus,survival,scavenge<br>//<br>//map c5m1_waterfront<br>//<br>//sv_voiceenable 1<br>//<br>//sv_lan 0<br>//<br>//sv_cheats 0<br>//<br>//sv_steamgroup 01234<br>//Steam<br>//sv_steamgroup_exclusive 1<br>//Steam</p>\n</blockquote>\n<p>,()</p>\n<blockquote>\n<p>hostname Aasakinagi<br>sv_steamgroup 12106576<br>sv_steamgroup_exclusive 1</p>\n</blockquote>\n<h3 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5. \"></a>5. </h3><p>run.sh,</p>\n<blockquote>\n<p>./srcds_run -game left4dead2 +exec server.cfg</p>\n</blockquote>\n<p>run.sh,ssh,<br>screen<br>debianscreen<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install screen</div></pre></td></tr></table></figure></p>\n<p>run.sh:</p>\n<blockquote>\n<p>screen -S l4d2 ./srcds_run -game left4dead2 +exec server.cfg</p>\n</blockquote>\n<p>Crlt+A+D </p>"},{"title":"ocserv","date":"2017-10-09T09:05:09.000Z","_content":"\n\nAnyConnectVPNWindowsAndroidIOSMacintoshUbuntuWebOSBlackberryAnyConnectionAnyConnectVPN  \nocservopenconnect \n\n<!-- more -->\n\n# \n\n: debian7  \nocserv: 0.9.2\n\n# \n\n## 1. \n\nocservGnuTLSSSLlibrary,dev.Debian Stable(2.12.20),ocserv2.15,backports:\n``` \necho \"deb http://ftp.debian.org/debian wheezy-backports main contrib non-free\" >> /etc/apt/sources.list \napt-get update\napt-get upgarde\napt-get -t wheezy-backports install libgnutls28-dev -y \napt-get install libgmp3-dev m4 gcc pkg-config make gnutls-bin -y \napt-get install build-essential libwrap0-dev libpam0g-dev libdbus-1-dev libreadline-dev libnl-route-3-dev libprotobuf-c0-dev libpcl1-dev libopts25-dev autogen libgnutls28-dev libseccomp-dev liblz4-dev -y \n```\n\n## 2. \n\nocservsrc/vpn.h96(ocserv)200(Cisco Anyconnect)\n> \\# define MAX_CONFIG_ENTRIES 96\n\nCisco,no-routeroute\n\n## 3. &&\n\n```\nwget ftp://ftp.infradead.org/pub/ocserv/ocserv-0.9.2.tar.xz \ntar Jxvf ocserv-0.9.2.tar.xz \ncd ocserv-0.9.2 \n./configure --prefix=/usr --sysconfdir=/etc \nmake \nmake install \n```\n\n## 4. \n\n### 4.1 CA\n\n```\ncerttool --generate-privkey --outfile ca-key.pem\nvim ca.tmpl\n```\n\n> cn = \"aya\"  \n> organization = \"aya\"  \n> serial = 1  \n> expiration_days = 3650  \n> ca  \n> signing_key  \n> cert_signing_key  \n> crl_signing_key  \n\n``` \ncerttool --generate-self-signed --load-privkey ca-key.pem --template ca.tmpl --outfile ca-cert.pem \n```\n\n### 4.2 \n\n``` \ncerttool --generate-privkey --outfile server-key.pem\nvim server.tmpl\n```\n\n> cn = \"littleya.com\"  \n> organization = \"aya\"  \n> serial = 2  \n> expiration_days = 3650  \n> encryption_key  \n> signing_key  \n> tls_www_server  \n\n```\ncerttool --generate-certificate --load-privkey server-key.pem --load-ca-certificate ca-cert.pem --load-ca-privkey ca-key.pem --template server.tmpl --outfile server-cert.pem \n```\n\n### 4.3 \n\n```\nmkdir /etc/ssl \nmkdir /etc/ssl/certs \nmkdir /etc/ssl/private \ncp ca-cert.pem /etc/ssl/certs \ncp ca-key.pem /etc/ssl/private \ncp server-cert.pem /etc/ssl/certs \ncp server-key.pem /etc/ssl/private\n```\n\n## 5 \n\n### 5.1  _/etc/ocserv_ \n\n```\nmkdir /etc/ocserv  \ncp ~/ocserv-0.9.2/doc/sample.config /etc/ocserv/ \ncp /etc/ocserv/sample.config /etc/ocserv/ocserv.conf\n```\n\n### 5.2 \n\n```\nvim /etc/ocserv/ocserv.conf\n```\n\n> auth = \"plain[/etc/ocserv/ocpasswd]\"  \n> \\# ocservocpasswd  \n> \\# ocservPluggable Authentication Modules (PAM)radius\n> <br>\n>   \n> \\#   \n> server-cert = /etc/ssl/certs/server-cert.pem  \n> server-key = /etc/ssl/private/server-key.pem\n> <br>\n>   \n> \\# if letsencrypt  \n> \\# server-cert = /etc/letsencrypt/live/example.com/fullchain.pem  \n> \\# server-key = /etc/letsencrypt/live/example.com/privkey.pem\n> <br>\n>   \n> \\#   \n> max-same-clients = 10\n> <br>\n>   \n> \\#   \n> run-as-group = nogroup\n> <br>\n>   \n> \\# VPNIP  \n> ipv4-network = 192.168.1.0\n> <br>\n>   \n> \\# DNS  \n> dns = 8.8.8.8  \n> dns = 8.8.4.4\n> <br>\n>   \n> \\# Keepalive in seconds  \n> keepalive = 600\n> <br>\n>   \n> \\#Dead peer detection in seconds.  \n> dpd = 900\n> <br>\n>\n> \\# Dead peer detection for mobile clients. The needs to  \n> \\# be much higher to prevent such clients being awaken too  \n> \\# often by the DPD messages, and save battery.  \n> \\# (clients that send the X-AnyConnect-Identifier-DeviceType)  \n> mobile-dpd = 1800\n> <br>\n>  \n> output-buffer = 23000  \n> try-mtu-discovery = true\n> <br>\n>  \n> \\# The time (in seconds) that a client is allowed to stay idle (no traffic)  \n> \\# before being disconnected. Unset to disable.  \n> idle-timeout = 3600\n> <br>\n>  \n> \\# The time (in seconds) that a mobile client is allowed to stay idle (no traffic) before being disconnected. Unset to disable. \n> mobile-idle-timeout = 3600\n> <br>\n>  \n> \\# route VPN   \n> \\# route = 192.168.16.0/255.255.255.0  \n> \\# route = 192.168.5.0/255.255.255.0\n\n,Github [ocserv-cn-no-route][1] \n[1]: https://github.com/CNMan/ocserv-cn-no-route \"ocserv-cn-no-route\"\n\n### 5.3 \n\n```\nocpasswd -c /etc/ocserv/ocpasswd user.name\n#user.name\n```\n\n## 6. \n\n### 6.1 \n\n```\nvim /etc/sysctl.conf\n```\n\n> net.ipv4.ip_forward = 1\n\n```\nsysctl -p\n```\n\n### 6.2 iptables\n\n```\niptables -t nat -A POSTROUTING -j MASQUERADE \niptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu \n \n#XEN/KVM,openvz \n \niptables -t nat -A POSTROUTING -s 192.168.1.0/24 -j SNAT --to-source VPN SERVER'S IP \niptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu \n \n#mtu\niptables -A FORWARD -p tcp --syn -s 192.168.1.0/24 -j TCPMSS --set-mss 1356\n```\n\n### 6.3 \n\n```\nocserv -c /etc/ocserv/ocserv.conf -f -d 1\n```\n\n### 6.4 \n\n```\nvim /etc/rc.local\n```\n\n> iptables -t nat -A POSTROUTING -j MASQUERADE  \n> iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu\n> <br>\n> \n> \\#XEN/KVM,openvz\n> <br>\n> \n> iptables -t nat -A POSTROUTING -s 192.168.110.0/24 -j SNAT --to-source VPN SERVER'S IP  \n> iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu\n> <br>\n> \n> ocserv\n\n# \n\n## Linux:\n\n```\napt-get install -y openconnect expect screen\nvim /usr/local/sbin/ocdo.sh\n```\n\n> \\#!/usr/bin/expect  \n> spawn screen -S ocdo openconnect -u username --script=/etc/vpnc/vpnc-script --no-dtls vpn.example.com -b  \n> expect \"anything else\"  \n> send \"yes\\r\"  \n> expect \"Password:\"  \n> send \"password\\r\"  \n> interact  \n\n```\necho \"/usr/local/sbin/ocdo.sh\" >> /rc.local \nmkdir /etc/vpnc && cd /etc/vpnc \nwget http://git.infradead.org/users/dwmw2/vpnc-scripts.git/blob_plain/HEAD:/vpnc-script \n```\n\nvpnc-script:\n``` bash\n#!/bin/sh\n#\n# Originally part of vpnc source code:\n#  2005-2012 Maurice Massar, Jrg Mayer, Antonio Borneo et al.\n#  2009-2012 David Woodhouse <dwmw2@infradead.org>\n#\n# This program is free software; you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation; either version 2 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program; if not, write to the Free Software\n# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n#\n################\n#\n# List of parameters passed through environment\n#* reason                       -- why this script was called, one of: pre-init connect disconnect reconnect\n#* VPNGATEWAY                   -- vpn gateway address (always present)\n#* TUNDEV                       -- tunnel device (always present)\n#* INTERNAL_IP4_ADDRESS         -- address (always present)\n#* INTERNAL_IP4_MTU             -- mtu (often unset)\n#* INTERNAL_IP4_NETMASK         -- netmask (often unset)\n#* INTERNAL_IP4_NETMASKLEN      -- netmask length (often unset)\n#* INTERNAL_IP4_NETADDR         -- address of network (only present if netmask is set)\n#* INTERNAL_IP4_DNS             -- list of dns servers\n#* INTERNAL_IP4_NBNS            -- list of wins servers\n#* INTERNAL_IP6_ADDRESS         -- IPv6 address\n#* INTERNAL_IP6_NETMASK         -- IPv6 netmask\n#* INTERNAL_IP6_DNS             -- IPv6 list of dns servers\n#* CISCO_DEF_DOMAIN             -- default domain name\n#* CISCO_BANNER                 -- banner from server\n#* CISCO_SPLIT_INC              -- number of networks in split-network-list\n#* CISCO_SPLIT_INC_%d_ADDR      -- network address\n#* CISCO_SPLIT_INC_%d_MASK      -- subnet mask (for example: 255.255.255.0)\n#* CISCO_SPLIT_INC_%d_MASKLEN   -- subnet masklen (for example: 24)\n#* CISCO_SPLIT_INC_%d_PROTOCOL  -- protocol (often just 0)\n#* CISCO_SPLIT_INC_%d_SPORT     -- source port (often just 0)\n#* CISCO_SPLIT_INC_%d_DPORT     -- destination port (often just 0)\n#* CISCO_IPV6_SPLIT_INC         -- number of networks in IPv6 split-network-list\n#* CISCO_IPV6_SPLIT_INC_%d_ADDR -- IPv6 network address\n#* CISCO_IPV6_SPLIT_INC_$%d_MASKLEN -- IPv6 subnet masklen\n\n# FIXMEs:\n\n# Section A: route handling\n\n# 1) The 3 values CISCO_SPLIT_INC_%d_PROTOCOL/SPORT/DPORT are currently being ignored\n#   In order to use them, we'll probably need os specific solutions\n#   * Linux: iptables -t mangle -I PREROUTING <conditions> -j ROUTE --oif $TUNDEV\n#       This would be an *alternative* to changing the routes (and thus 2) and 3)\n#       shouldn't be relevant at all)\n# 2) There are two different functions to set routes: generic routes and the\n#   default route. Why isn't the defaultroute handled via the generic route case?\n# 3) In the split tunnel case, all routes but the default route might get replaced\n#   without getting restored later. We should explicitely check and save them just\n#   like the defaultroute\n# 4) Replies to a dhcp-server should never be sent into the tunnel\n\n# Section B: Split DNS handling\n\n# 1) Maybe dnsmasq can do something like that\n# 2) Parse dns packets going out via tunnel and redirect them to original dns-server\n\n#env | sort\n#set -x\n\n# =========== script (variable) setup ====================================\n\nPATH=/sbin:/usr/sbin:$PATH\n\nOS=\"`uname -s`\"\n\nHOOKS_DIR=/etc/vpnc\nDEFAULT_ROUTE_FILE=/var/run/vpnc/defaultroute\nRESOLV_CONF_BACKUP=/var/run/vpnc/resolv.conf-backup\nSCRIPTNAME=`basename $0`\n\n# some systems, eg. Darwin & FreeBSD, prune /var/run on boot\nif [ ! -d \"/var/run/vpnc\" ]; then\n\tmkdir -p /var/run/vpnc\n\t[ -x /sbin/restorecon ] && /sbin/restorecon /var/run/vpnc\nfi\n\n# stupid SunOS: no blubber in /usr/local/bin ... (on stdout)\nIPROUTE=\"`which ip 2> /dev/null | grep '^/'`\"\n\nif ifconfig --help 2>&1 | grep BusyBox > /dev/null; then\n\tifconfig_syntax_inet=\"\"\nelse\n\tifconfig_syntax_inet=\"inet\"\nfi\n\nif [ \"$OS\" = \"Linux\" ]; then\n\tifconfig_syntax_ptp=\"pointopoint\"\n\troute_syntax_gw=\"gw\"\n\troute_syntax_del=\"del\"\n\troute_syntax_netmask=\"netmask\"\nelse\n\tifconfig_syntax_ptp=\"\"\n\troute_syntax_gw=\"\"\n\troute_syntax_del=\"delete\"\n\troute_syntax_netmask=\"-netmask\"\nfi\nif [ \"$OS\" = \"SunOS\" ]; then\n\troute_syntax_interface=\"-interface\"\n\tifconfig_syntax_ptpv6=\"$INTERNAL_IP6_ADDRESS\"\nelse\n\troute_syntax_interface=\"\"\n\tifconfig_syntax_ptpv6=\"\"\nfi\n\nif [ -r /etc/openwrt_release ] && [ -n \"$OPENWRT_INTERFACE\" ]; then\n        . /etc/functions.sh\n\tinclude /lib/network\n\tMODIFYRESOLVCONF=modify_resolvconf_openwrt\n\tRESTORERESOLVCONF=restore_resolvconf_openwrt\nelif [ -x /usr/bin/busctl ]; then  # For systemd-resolved (version 229 and above)\n\tMODIFYRESOLVCONF=modify_resolved_manager\n\tRESTORERESOLVCONF=restore_resolved_manager\nelif [ -x /sbin/resolvconf ]; then # Optional tool on Debian, Ubuntu, Gentoo and FreeBSD\n\tMODIFYRESOLVCONF=modify_resolvconf_manager\n\tRESTORERESOLVCONF=restore_resolvconf_manager\nelif [ -x /sbin/netconfig ]; then # tool on Suse after 11.1\n\tMODIFYRESOLVCONF=modify_resolvconf_suse_netconfig\n\tRESTORERESOLVCONF=restore_resolvconf_suse_netconfig\nelif [ -x /sbin/modify_resolvconf ]; then # Mandatory tool on Suse earlier than 11.1\n\tMODIFYRESOLVCONF=modify_resolvconf_suse\n\tRESTORERESOLVCONF=restore_resolvconf_suse\nelif [ -x /usr/sbin/unbound-control ] && /usr/sbin/unbound-control status > /dev/null 2>&1; then\n\tMODIFYRESOLVCONF=modify_resolvconf_unbound\n\tRESTORERESOLVCONF=restore_resolvconf_unbound\nelse # Generic for any OS\n\tMODIFYRESOLVCONF=modify_resolvconf_generic\n\tRESTORERESOLVCONF=restore_resolvconf_generic\nfi\n\n\n# =========== script hooks =================================================\n\nrun_hooks() {\n\tHOOK=\"$1\"\n\n\tif [ -d ${HOOKS_DIR}/${HOOK}.d ]; then\n\t    for script in ${HOOKS_DIR}/${HOOK}.d/* ; do\n\t\t[ -f $script ] && . $script\n\t    done\n\tfi\n}\n\n# =========== tunnel interface handling ====================================\n\ndo_ifconfig() {\n\tif [ -n \"$INTERNAL_IP4_MTU\" ]; then\n\t\tMTU=$INTERNAL_IP4_MTU\n\telif [ -n \"$IPROUTE\" ]; then\n\t\tMTUDEV=`$IPROUTE route get \"$VPNGATEWAY\" | sed -ne 's/^.*dev \\([a-z0-9]*\\).*$/\\1/p'`\n\t\tMTU=`$IPROUTE link show \"$MTUDEV\" | sed -ne 's/^.*mtu \\([[:digit:]]\\+\\).*$/\\1/p'`\n\t\tif [ -n \"$MTU\" ]; then\n\t\t\tMTU=`expr $MTU - 88`\n\t\tfi\n\tfi\n\n\tif [ -z \"$MTU\" ]; then\n\t\tMTU=1412\n\tfi\n\n\t# Point to point interface require a netmask of 255.255.255.255 on some systems\n\tif [ -n \"$IPROUTE\" ]; then\n\t\t$IPROUTE link set dev \"$TUNDEV\" up mtu \"$MTU\"\n\t\t$IPROUTE addr add \"$INTERNAL_IP4_ADDRESS/32\" peer \"$INTERNAL_IP4_ADDRESS\" dev \"$TUNDEV\"\n\telse\n\t\tifconfig \"$TUNDEV\" ${ifconfig_syntax_inet} \"$INTERNAL_IP4_ADDRESS\" $ifconfig_syntax_ptp \"$INTERNAL_IP4_ADDRESS\" netmask 255.255.255.255 mtu ${MTU} up\n\tfi\n\n\tif [ -n \"$INTERNAL_IP4_NETMASK\" ]; then\n\t\tset_network_route $INTERNAL_IP4_NETADDR $INTERNAL_IP4_NETMASK $INTERNAL_IP4_NETMASKLEN\n\tfi\n\n\t# If the netmask is provided, it contains the address _and_ netmask\n\tif [ -n \"$INTERNAL_IP6_ADDRESS\" ] && [ -z \"$INTERNAL_IP6_NETMASK\" ]; then\n\t    INTERNAL_IP6_NETMASK=\"$INTERNAL_IP6_ADDRESS/128\"\n\tfi\n\tif [ -n \"$INTERNAL_IP6_NETMASK\" ]; then\n\t    if [ -n \"$IPROUTE\" ]; then\n\t\t$IPROUTE -6 addr add $INTERNAL_IP6_NETMASK dev $TUNDEV\n\t    else\n\t\t# Unlike for Legacy IP, we don't specify the dest_address\n\t\t# here on *BSD. OpenBSD for one will refuse to accept\n\t\t# incoming packets to that address if we do.\n\t\t# OpenVPN does the same (gives dest_address for Legacy IP\n\t\t# but not for IPv6).\n\t\t# Only Solaris needs it; hence $ifconfig_syntax_ptpv6\n\t        ifconfig \"$TUNDEV\" inet6 $INTERNAL_IP6_NETMASK $ifconfig_syntax_ptpv6 mtu $MTU up\n\t    fi\n\tfi\n}\n\ndestroy_tun_device() {\n\tcase \"$OS\" in\n\tNetBSD|OpenBSD) # and probably others...\n\t\tifconfig \"$TUNDEV\" destroy\n\t\t;;\n\tFreeBSD)\n\t\tifconfig \"$TUNDEV\" destroy > /dev/null 2>&1 &\n\t\t;;\n\tesac\n}\n\n# =========== route handling ====================================\n\nif [ -n \"$IPROUTE\" ]; then\n\tfix_ip_get_output () {\n\t\tsed -e 's/ /\\n/g' | \\\n\t\t    sed -ne '1p;/via/{N;p};/dev/{N;p};/src/{N;p};/mtu/{N;p}'\n\t}\n\n\tset_vpngateway_route() {\n\t\t$IPROUTE route add `$IPROUTE route get \"$VPNGATEWAY\" | fix_ip_get_output`\n\t\t$IPROUTE route flush cache\n\t}\n\n\tdel_vpngateway_route() {\n\t\t$IPROUTE route $route_syntax_del \"$VPNGATEWAY\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tset_default_route() {\n\t\t$IPROUTE route | grep '^default' | fix_ip_get_output > \"$DEFAULT_ROUTE_FILE\"\n\t\t$IPROUTE route replace default dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tset_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\t$IPROUTE route replace \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\treset_default_route() {\n\t\tif [ -s \"$DEFAULT_ROUTE_FILE\" ]; then\n\t\t\t$IPROUTE route replace `cat \"$DEFAULT_ROUTE_FILE\"`\n\t\t\t$IPROUTE route flush cache\n\t\t\trm -f -- \"$DEFAULT_ROUTE_FILE\"\n\t\tfi\n\t}\n\n\tdel_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\t$IPROUTE route $route_syntax_del \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tset_ipv6_default_route() {\n\t\t# We don't save/restore IPv6 default route; just add a higher-priority one.\n\t\t$IPROUTE -6 route add default dev \"$TUNDEV\" metric 1\n\t\t$IPROUTE -6 route flush cache\n\t}\n\n\tset_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASKLEN=\"$2\"\n\t\t$IPROUTE -6 route replace \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\treset_ipv6_default_route() {\n\t\t$IPROUTE -6 route del default dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tdel_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASKLEN=\"$2\"\n\t\t$IPROUTE -6 route del \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE -6 route flush cache\n\t}\nelse # use route command\n\tget_default_gw() {\n\t\t# isn't -n supposed to give --numeric output?\n\t\t# apperently not...\n\t\t# Get rid of lines containing IPv6 addresses (':')\n\t\tnetstat -r -n | awk '/:/ { next; } /^(default|0\\.0\\.0\\.0)/ { print $2; }'\n\t}\n\n\tset_vpngateway_route() {\n\t\troute add -host \"$VPNGATEWAY\" $route_syntax_gw \"`get_default_gw`\"\n\t}\n\n\tdel_vpngateway_route() {\n\t\troute $route_syntax_del -host \"$VPNGATEWAY\" $route_syntax_gw \"`get_default_gw`\"\n\t}\n\n\tset_default_route() {\n\t\tDEFAULTGW=\"`get_default_gw`\"\n\t\techo \"$DEFAULTGW\" > \"$DEFAULT_ROUTE_FILE\"\n\t\troute $route_syntax_del default $route_syntax_gw \"$DEFAULTGW\"\n\t\troute add default $route_syntax_gw \"$INTERNAL_IP4_ADDRESS\" $route_syntax_interface\n\t}\n\n\tset_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\tdel_network_route \"$NETWORK\" \"$NETMASK\" \"$NETMASKLEN\"\n\t\troute add -net \"$NETWORK\" $route_syntax_netmask \"$NETMASK\" $route_syntax_gw \"$INTERNAL_IP4_ADDRESS\" $route_syntax_interface\n\t}\n\n\treset_default_route() {\n\t\tif [ -s \"$DEFAULT_ROUTE_FILE\" ]; then\n\t\t\troute $route_syntax_del default $route_syntax_gw \"`get_default_gw`\" $route_syntax_interface\n\t\t\troute add default $route_syntax_gw `cat \"$DEFAULT_ROUTE_FILE\"`\n\t\t\trm -f -- \"$DEFAULT_ROUTE_FILE\"\n\t\tfi\n\t}\n\n\tdel_network_route() {\n\t\tcase \"$OS\" in\n\t\tLinux|NetBSD|OpenBSD|Darwin|SunOS) # and probably others...\n\t\t\t# routes are deleted automatically on device shutdown\n\t\t\treturn\n\t\t\t;;\n\t\tesac\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\troute $route_syntax_del -net \"$NETWORK\" $route_syntax_netmask \"$NETMASK\" $route_syntax_gw \"$INTERNAL_IP4_ADDRESS\"\n\t}\n\n\tset_ipv6_default_route() {\n\t\troute add -inet6 default \"$INTERNAL_IP6_ADDRESS\" $route_syntax_interface\n\t}\n\n\tset_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\troute add -inet6 -net \"$NETWORK/$NETMASK\" \"$INTERNAL_IP6_ADDRESS\" $route_syntax_interface\n\t\t:\n\t}\n\n\treset_ipv6_default_route() {\n\t\troute $route_syntax_del -inet6 default \"$INTERNAL_IP6_ADDRESS\"\n\t\t:\n\t}\n\n\tdel_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\troute $route_syntax_del -inet6 \"$NETWORK/$NETMASK\" \"$INTERNAL_IP6_ADDRESS\"\n\t\t:\n\t}\n\nfi\n\n# =========== resolv.conf handling ====================================\n\n# =========== resolv.conf handling for any OS =========================\n\nmodify_resolvconf_generic() {\n\tgrep '^#@VPNC_GENERATED@' /etc/resolv.conf > /dev/null 2>&1 || cp -- /etc/resolv.conf \"$RESOLV_CONF_BACKUP\"\n\tNEW_RESOLVCONF=\"#@VPNC_GENERATED@ -- this file is generated by vpnc\n# and will be overwritten by vpnc\n# as long as the above mark is intact\"\n\n\tDOMAINS=\"$CISCO_DEF_DOMAIN\"\n\n\texec 6< \"$RESOLV_CONF_BACKUP\"\n\twhile read LINE <&6 ; do\n\t\tcase \"$LINE\" in\n\t\t\t# omit; we will overwrite these\n\t\t\tnameserver*) ;;\n\t\t\t# extract listed domains and prepend to list\n\t\t\tdomain* | search*) DOMAINS=\"${LINE#* } $DOMAINS\" ;;\n\t\t\t# retain other lines\n\t\t\t*) NEW_RESOLVCONF=\"$NEW_RESOLVCONF\n$LINE\" ;;\n\t\tesac\n\tdone\n\texec 6<&-\n\n\tfor i in $INTERNAL_IP4_DNS ; do\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\nnameserver $i\"\n\tdone\n\t# note that \"search\" is mutually exclusive with \"domain\";\n\t# \"search\" allows multiple domains to be listed, so use that\n\tif [ -n \"$DOMAINS\" ]; then\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\nsearch $DOMAINS\"\n\tfi\n\techo \"$NEW_RESOLVCONF\" > /etc/resolv.conf\n\n\tif [ \"$OS\" = \"Darwin\" ]; then\n\t\tcase \"`uname -r`\" in\n\t\t\t# Skip for pre-10.4 systems\n\t\t\t4.*|5.*|6.*|7.*)\n\t\t\t\t;;\n\t\t\t# 10.4 and later require use of scutil for DNS to work properly\n\t\t\t*)\n\t\t\t\tOVERRIDE_PRIMARY=\"\"\n\t\t\t\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\t\t\t\tif [ $CISCO_SPLIT_INC -lt 1 ]; then\n\t\t\t\t\t\t# Must override for correct default route\n\t\t\t\t\t\t# Cannot use multiple DNS matching in this case\n\t\t\t\t\t\tOVERRIDE_PRIMARY='d.add OverridePrimary # 1'\n\t\t\t\t\tfi\n\t\t\t\t\t# Overriding the default gateway breaks split routing\n\t\t\t\t\tOVERRIDE_GATEWAY=\"\"\n\t\t\t\t\t# Not overriding the default gateway breaks usage of\n\t\t\t\t\t# INTERNAL_IP4_DNS. Prepend INTERNAL_IP4_DNS to list\n\t\t\t\t\t# of used DNS servers\n\t\t\t\t\tSERVICE=`echo \"show State:/Network/Global/IPv4\" | scutil | grep -oE '[a-fA-F0-9]{8}-([a-fA-F0-9]{4}-){3}[a-fA-F0-9]{12}'`\n\t\t\t\t\tSERVICE_DNS=`echo \"show State:/Network/Service/$SERVICE/DNS\" | scutil | grep -oE '([0-9]{1,3}[\\.]){3}[0-9]{1,3}' | xargs`\n\t\t\t\t\tif [ X\"$SERVICE_DNS\" != X\"$INTERNAL_IP4_DNS\" ]; then\n\t\t\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\t\t\topen\n\t\t\t\t\t\t\tget State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\td.add ServerAddresses * $INTERNAL_IP4_DNS $SERVICE_DNS\n\t\t\t\t\t\t\tset State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\tclose\n\t\t\t\t\t\tEOF\n\t\t\t\t\tfi\n\t\t\t\telse\n\t\t\t\t\t# No split routing. Override default gateway\n\t\t\t\t\tOVERRIDE_GATEWAY=\"d.add Router $INTERNAL_IP4_ADDRESS\"\n\t\t\t\tfi\n\t\t\t\t# Uncomment the following if/fi pair to use multiple\n\t\t\t\t# DNS matching when available.  When multiple DNS matching\n\t\t\t\t# is present, anything reading the /etc/resolv.conf file\n\t\t\t\t# directly will probably not work as intended.\n\t\t\t\t#if [ -z \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t\t\t\t# Cannot use multiple DNS matching without a domain\n\t\t\t\t\tOVERRIDE_PRIMARY='d.add OverridePrimary # 1'\n\t\t\t\t#fi\n\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\topen\n\t\t\t\t\td.init\n\t\t\t\t\td.add ServerAddresses * $INTERNAL_IP4_DNS\n\t\t\t\t\tset State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\td.init\n\t\t\t\t\t$OVERRIDE_GATEWAY\n\t\t\t\t\td.add Addresses * $INTERNAL_IP4_ADDRESS\n\t\t\t\t\td.add SubnetMasks * 255.255.255.255\n\t\t\t\t\td.add InterfaceName $TUNDEV\n\t\t\t\t\t$OVERRIDE_PRIMARY\n\t\t\t\t\tset State:/Network/Service/$TUNDEV/IPv4\n\t\t\t\t\tclose\n\t\t\t\tEOF\n\t\t\t\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\t\topen\n\t\t\t\t\t\tget State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\t\td.add DomainName $CISCO_DEF_DOMAIN\n\t\t\t\t\t\td.add SearchDomains * $CISCO_DEF_DOMAIN\n\t\t\t\t\t\td.add SupplementalMatchDomains * $CISCO_DEF_DOMAIN\n\t\t\t\t\t\tset State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\t\tclose\n\t\t\t\t\tEOF\n\t\t\t\tfi\n\t\t\t\t;;\n\t\tesac\n\tfi\n}\n\nrestore_resolvconf_generic() {\n\tif [ ! -f \"$RESOLV_CONF_BACKUP\" ]; then\n\t\treturn\n\tfi\n\tgrep '^#@VPNC_GENERATED@' /etc/resolv.conf > /dev/null 2>&1 && cat \"$RESOLV_CONF_BACKUP\" > /etc/resolv.conf\n\trm -f -- \"$RESOLV_CONF_BACKUP\"\n\n\tif [ \"$OS\" = \"Darwin\" ]; then\n\t\tcase \"`uname -r`\" in\n\t\t\t# Skip for pre-10.4 systems\n\t\t\t4.*|5.*|6.*|7.*)\n\t\t\t\t;;\n\t\t\t# 10.4 and later require use of scutil for DNS to work properly\n\t\t\t*)\n\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\topen\n\t\t\t\t\tremove State:/Network/Service/$TUNDEV/IPv4\n\t\t\t\t\tremove State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\tclose\n\t\t\t\tEOF\n\t\t\t\t# Split routing required prepending of INTERNAL_IP4_DNS\n\t\t\t\t# to list of used DNS servers\n\t\t\t\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\t\t\t\tSERVICE=`echo \"show State:/Network/Global/IPv4\" | scutil | grep -oE '[a-fA-F0-9]{8}-([a-fA-F0-9]{4}-){3}[a-fA-F0-9]{12}'`\n\t\t\t\t\tSERVICE_DNS=`echo \"show State:/Network/Service/$SERVICE/DNS\" | scutil | grep -oE '([0-9]{1,3}[\\.]){3}[0-9]{1,3}' | xargs`\n\t\t\t\t\tif [ X\"$SERVICE_DNS\" != X\"$INTERNAL_IP4_DNS\" ]; then\n\t\t\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\t\t\topen\n\t\t\t\t\t\t\tget State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\td.add ServerAddresses * ${SERVICE_DNS##$INTERNAL_IP4_DNS}\n\t\t\t\t\t\t\tset State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\tclose\n\t\t\t\t\t\tEOF\n\t\t\t\t\tfi\n\t\t\t\tfi\n\t\t\t\t;;\n\t\tesac\n\tfi\n}\n# === resolv.conf handling via /sbin/netconfig (Suse 11.1) =====================\n\n# Suse provides a script that modifies resolv.conf. Use it because it will\n# restart/reload all other services that care about it (e.g. lwresd).  [unclear if this is still true, but probably --mlk]\n\nmodify_resolvconf_suse_netconfig()\n{\n\t/sbin/netconfig modify -s vpnc -i \"$TUNDEV\" <<-EOF\n\t\tINTERFACE='$TUNDEV'\n\t\tDNSSERVERS='$INTERNAL_IP4_DNS'\n\t\tDNSDOMAIN='$CISCO_DEF_DOMAIN'\n\t\tEOF\n}\n# Restore resolv.conf to old contents on Suse\nrestore_resolvconf_suse_netconfig()\n{\n\t/sbin/netconfig remove -s vpnc -i \"$TUNDEV\"\n}\n\n# === resolv.conf handling via /sbin/modify_resolvconf (Suse) =====================\n\n# Suse provides a script that modifies resolv.conf. Use it because it will\n# restart/reload all other services that care about it (e.g. lwresd).\n\nmodify_resolvconf_suse()\n{\n\tFULL_SCRIPTNAME=`readlink -f $0`\n\tRESOLV_OPTS=''\n\ttest -n \"$INTERNAL_IP4_DNS\" && RESOLV_OPTS=\"-n \\\"$INTERNAL_IP4_DNS\\\"\"\n\ttest -n \"$CISCO_DEF_DOMAIN\" && RESOLV_OPTS=\"$RESOLV_OPTS -d $CISCO_DEF_DOMAIN\"\n\ttest -n \"$RESOLV_OPTS\" && eval /sbin/modify_resolvconf modify -s vpnc -p $SCRIPTNAME -f $FULL_SCRIPTNAME -e $TUNDEV $RESOLV_OPTS -t \\\"This file was created by $SCRIPTNAME\\\"\n}\n\n# Restore resolv.conf to old contents on Suse\nrestore_resolvconf_suse()\n{\n\tFULL_SCRIPTNAME=`readlink -f $0`\n\t/sbin/modify_resolvconf restore -s vpnc -p $SCRIPTNAME -f $FULL_SCRIPTNAME -e $TUNDEV\n}\n\n# === resolv.conf handling via UCI (OpenWRT) =========\n\nmodify_resolvconf_openwrt() {\n\tadd_dns $OPENWRT_INTERFACE $INTERNAL_IP4_DNS\n}\n\nrestore_resolvconf_openwrt() {\n\tremove_dns $OPENWRT_INTERFACE\n}\n# === resolv.conf handling via /sbin/resolvconf (Debian, Ubuntu, Gentoo)) =========\n\nmodify_resolvconf_manager() {\n\tNEW_RESOLVCONF=\"\"\n\tfor i in $INTERNAL_IP4_DNS; do\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\nnameserver $i\"\n\tdone\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\ndomain $CISCO_DEF_DOMAIN\"\n\tfi\n\techo \"$NEW_RESOLVCONF\" | /sbin/resolvconf -a $TUNDEV\n}\n\nrestore_resolvconf_manager() {\n\t/sbin/resolvconf -d $TUNDEV\n}\n\nAF_INET=2\n\nget_if_index() {\n\tlocal link\n\tlink=\"$(ip link show dev \"$1\")\" || return $?\n\techo ${link} | awk -F: '{print $1}'\n}\n\nbusctl_call() {\n\tlocal dest node\n\tdest=org.freedesktop.resolve1\n\tnode=/org/freedesktop/resolve1\n\tbusctl call \"$dest\" \"${node}\" \"${dest}.Manager\" \"$@\"\n}\n\nbusctl_set_nameservers() {\n\tlocal if_index addresses args addr\n\tif_index=$1\n\tshift\n\taddresses=\"$@\"\n\targs=\"$if_index $#\"\n\tfor addr in ${addresses}; do\n\t\targs=\"$args ${AF_INET} 4 $(echo $addr | sed 's/[.]/ /g')\"\n\tdone\n\tbusctl_call SetLinkDNS 'ia(iay)' ${args}\n}\n\nbusctl_set_search() {\n\tlocal if_index domains args domain\n\tif_index=$1\n\tshift\n\tdomains=\"$@\"\n\targs=\"$if_index $#\"\n\tfor domain in ${domains}; do\n\t\targs=\"$args ${domain} false\"\n\tdone\n\tbusctl_call SetLinkDomains 'ia(sb)' ${args}\n}\n\nmodify_resolved_manager() {\n\tlocal if_index\n\tif_index=$(get_if_index $TUNDEV)\n\tbusctl_set_nameservers $if_index $INTERNAL_IP4_DNS\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\tbusctl_set_search $if_index $CISCO_DEF_DOMAIN\n\tfi\n}\n\nrestore_resolved_manager() {\n\tlocal if_index\n\tif_index=$(get_if_index $TUNDEV)\n\tbusctl_call RevertLink 'i' $if_index\n}\n\n# === resolv.conf handling via unbound =========\n\nmodify_resolvconf_unbound() {\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t/usr/sbin/unbound-control forward_add +i ${CISCO_DEF_DOMAIN} ${INTERNAL_IP4_DNS}\n\t\t/usr/sbin/unbound-control flush_requestlist\n\t\t/usr/sbin/unbound-control flush_zone ${CISCO_DEF_DOMAIN}\n\tfi\n}\n\nrestore_resolvconf_unbound() {\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t/usr/sbin/unbound-control forward_remove +i ${CISCO_DEF_DOMAIN}\n\t\t/usr/sbin/unbound-control flush_zone ${CISCO_DEF_DOMAIN}\n\t\t/usr/sbin/unbound-control flush_requestlist\n\tfi\n}\n\n# ========= Toplevel state handling  =======================================\n\nkernel_is_2_6_or_above() {\n\tcase `uname -r` in\n\t\t1.*|2.[012345]*)\n\t\t\treturn 1\n\t\t\t;;\n\t\t*)\n\t\t\treturn 0\n\t\t\t;;\n\tesac\n}\n\ndo_pre_init() {\n\tif [ \"$OS\" = \"Linux\" ]; then\n\t\tif (exec 6< /dev/net/tun) > /dev/null 2>&1 ; then\n\t\t\t:\n\t\telse # can't open /dev/net/tun\n\t\t\ttest -e /proc/sys/kernel/modprobe && `cat /proc/sys/kernel/modprobe` tun 2>/dev/null\n\t\t\t# fix for broken devfs in kernel 2.6.x\n\t\t\tif [ \"`readlink /dev/net/tun`\" = misc/net/tun \\\n\t\t\t\t-a ! -e /dev/net/misc/net/tun -a -e /dev/misc/net/tun ] ; then\n\t\t\t\tln -sf /dev/misc/net/tun /dev/net/tun\n\t\t\tfi\n\t\t\t# make sure tun device exists\n\t\t\tif [ ! -e /dev/net/tun ]; then\n\t\t\t\tmkdir -p /dev/net\n\t\t\t\tmknod -m 0640 /dev/net/tun c 10 200\n\t\t\t\t[ -x /sbin/restorecon ] && /sbin/restorecon /dev/net/tun\n\t\t\tfi\n\t\t\t# workaround for a possible latency caused by udev, sleep max. 10s\n\t\t\tif kernel_is_2_6_or_above ; then\n\t\t\t\tfor x in `seq 100` ; do\n\t\t\t\t\t(exec 6<> /dev/net/tun) > /dev/null 2>&1 && break;\n\t\t\t\t\tsleep 0.1\n\t\t\t\tdone\n\t\t\tfi\n\t\tfi\n\telif [ \"$OS\" = \"FreeBSD\" ]; then\n\t\tif ! kldstat -q -m if_tun > /dev/null; then\n\t\t\tkldload if_tun\n\t\tfi\n\n\t\tif ! ifconfig $TUNDEV > /dev/null; then\n\t\t\tifconfig $TUNDEV create\n\t\tfi\n\telif [ \"$OS\" = \"GNU/kFreeBSD\" ]; then\n\t\tif [ ! -e /dev/tun ]; then\n\t\t\tkldload if_tun\n\t\tfi\n\telif [ \"$OS\" = \"NetBSD\" ]; then\n\t\t:\n\telif [ \"$OS\" = \"OpenBSD\" ]; then\n\t\tif ! ifconfig $TUNDEV > /dev/null; then\n\t\t\tifconfig $TUNDEV create\n\t\tfi\n\t\t:\n\telif [ \"$OS\" = \"SunOS\" ]; then\n\t\t:\n\telif [ \"$OS\" = \"Darwin\" ]; then\n\t\t:\n\tfi\n}\n\ndo_connect() {\n\tif [ -n \"$CISCO_BANNER\" ]; then\n\t\techo \"Connect Banner:\"\n\t\techo \"$CISCO_BANNER\" | while read LINE ; do echo \"|\" \"$LINE\" ; done\n\t\techo\n\tfi\n\n\tset_vpngateway_route\n\tdo_ifconfig\n\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASK=\"\\${CISCO_SPLIT_INC_${i}_MASK}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ \"$NETWORK\" != \"0.0.0.0\" ]; then\n\t\t\t\tset_network_route \"$NETWORK\" \"$NETMASK\" \"$NETMASKLEN\"\n\t\t\telse\n\t\t\t\tset_default_route\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP4_DNS ; do\n\t\t\techo \"$i\" | grep : >/dev/null || \\\n\t\t\t\tset_network_route \"$i\" \"255.255.255.255\" \"32\"\n\t\tdone\n\telif [ -n \"$INTERNAL_IP4_ADDRESS\" ]; then\n\t\tset_default_route\n\tfi\n\tif [ -n \"$CISCO_IPV6_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_IPV6_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_IPV6_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_IPV6_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ $NETMASKLEN -lt 128 ]; then\n\t\t\t\tset_ipv6_network_route \"$NETWORK\" \"$NETMASKLEN\"\n\t\t\telse\n\t\t\t\tset_ipv6_default_route\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP4_DNS ; do\n\t\t\tif echo \"$i\" | grep : >/dev/null; then\n\t\t\t\tset_ipv6_network_route \"$i\" \"128\"\n\t\t\tfi\n\t\tdone\n\telif [ -n \"$INTERNAL_IP6_NETMASK\" -o -n \"$INTERNAL_IP6_ADDRESS\" ]; then\n\t\tset_ipv6_default_route\n\tfi\n\n\tif [ -n \"$INTERNAL_IP4_DNS\" ]; then\n\t\t$MODIFYRESOLVCONF\n\tfi\n}\n\ndo_disconnect() {\n\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASK=\"\\${CISCO_SPLIT_INC_${i}_MASK}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ \"$NETWORK\" != \"0.0.0.0\" ]; then\n\t\t\t\t# FIXME: This doesn't restore previously overwritten\n\t\t\t\t#        routes.\n\t\t\t\tdel_network_route \"$NETWORK\" \"$NETMASK\" \"$NETMASKLEN\"\n\t\t\telse\n\t\t\t\treset_default_route\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP4_DNS ; do\n\t\t\tdel_network_route \"$i\" \"255.255.255.255\" \"32\"\n\t\tdone\n\telse\n\t\treset_default_route\n\tfi\n\tif [ -n \"$CISCO_IPV6_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_IPV6_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_IPV6_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_IPV6_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ $NETMASKLEN -eq 0 ]; then\n\t\t\t\treset_ipv6_default_route\n\t\t\telse\n\t\t\t\tdel_ipv6_network_route \"$NETWORK\" \"$NETMASKLEN\"\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP6_DNS ; do\n\t\t\tdel_ipv6_network_route \"$i\" \"128\"\n\t\tdone\n\telif [ -n \"$INTERNAL_IP6_NETMASK\" -o -n \"$INTERNAL_IP6_ADDRESS\" ]; then\n\t\treset_ipv6_default_route\n\tfi\n\n\tdel_vpngateway_route\n\n\tif [ -n \"$INTERNAL_IP4_DNS\" ]; then\n\t\t$RESTORERESOLVCONF\n\tfi\n\n\n\tif [ -n \"$IPROUTE\" ]; then\n\t\tif [ -n \"$INTERNAL_IP4_ADDRESS\" ]; then\n\t\t\t$IPROUTE addr del \"$INTERNAL_IP4_ADDRESS/255.255.255.255\" peer \"$INTERNAL_IP4_ADDRESS\" dev \"$TUNDEV\"\n\t\tfi\n\t\t# If the netmask is provided, it contains the address _and_ netmask\n\t\tif [ -n \"$INTERNAL_IP6_ADDRESS\" ] && [ -z \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\tINTERNAL_IP6_NETMASK=\"$INTERNAL_IP6_ADDRESS/128\"\n\t\tfi\n\t\tif [ -n \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\t$IPROUTE -6 addr del $INTERNAL_IP6_NETMASK dev $TUNDEV\n\t\tfi\n\telse\n\t\tif [ -n \"$INTERNAL_IP4_ADDRESS\" ]; then\n\t\t\tifconfig \"$TUNDEV\" 0.0.0.0\n\t\tfi\n\t\tif [ -n \"$INTERNAL_IP6_ADDRESS\" ] && [ -z \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\tINTERNAL_IP6_NETMASK=\"$INTERNAL_IP6_ADDRESS/128\"\n\t\tfi\n\t\tif [ -n \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\tifconfig \"$TUNDEV\" inet6 del $INTERNAL_IP6_NETMASK\n\t\tfi\n\tfi\n\n\tdestroy_tun_device\n}\n\n#### Main\n\nif [ -z \"$reason\" ]; then\n\techo \"this script must be called from vpnc\" 1>&2\n\texit 1\nfi\n\ncase \"$reason\" in\n\tpre-init)\n\t\trun_hooks pre-init\n\t\tdo_pre_init\n\t\t;;\n\tconnect)\n\t\trun_hooks connect\n\t\tdo_connect\n\t\trun_hooks post-connect\n\t\t;;\n\tdisconnect)\n\t\trun_hooks disconnect\n\t\tdo_disconnect\n\t\trun_hooks post-disconnect\n\t\t;;\n\treconnect)\n\t\trun_hooks reconnect\n\t\t;;\n\t*)\n\t\techo \"unknown reason '$reason'. Maybe vpnc-script is out of date\" 1>&2\n\t\texit 1\n\t\t;;\nesac\n\nexit 0\n```","source":"_posts/201710091705.md","raw":"---\ntitle: ocserv\ndate: 2017-10-09 17:05:09\ntags:\n  - linux\n  - network\n  - gfw\n---\n\n\nAnyConnectVPNWindowsAndroidIOSMacintoshUbuntuWebOSBlackberryAnyConnectionAnyConnectVPN  \nocservopenconnect \n\n<!-- more -->\n\n# \n\n: debian7  \nocserv: 0.9.2\n\n# \n\n## 1. \n\nocservGnuTLSSSLlibrary,dev.Debian Stable(2.12.20),ocserv2.15,backports:\n``` \necho \"deb http://ftp.debian.org/debian wheezy-backports main contrib non-free\" >> /etc/apt/sources.list \napt-get update\napt-get upgarde\napt-get -t wheezy-backports install libgnutls28-dev -y \napt-get install libgmp3-dev m4 gcc pkg-config make gnutls-bin -y \napt-get install build-essential libwrap0-dev libpam0g-dev libdbus-1-dev libreadline-dev libnl-route-3-dev libprotobuf-c0-dev libpcl1-dev libopts25-dev autogen libgnutls28-dev libseccomp-dev liblz4-dev -y \n```\n\n## 2. \n\nocservsrc/vpn.h96(ocserv)200(Cisco Anyconnect)\n> \\# define MAX_CONFIG_ENTRIES 96\n\nCisco,no-routeroute\n\n## 3. &&\n\n```\nwget ftp://ftp.infradead.org/pub/ocserv/ocserv-0.9.2.tar.xz \ntar Jxvf ocserv-0.9.2.tar.xz \ncd ocserv-0.9.2 \n./configure --prefix=/usr --sysconfdir=/etc \nmake \nmake install \n```\n\n## 4. \n\n### 4.1 CA\n\n```\ncerttool --generate-privkey --outfile ca-key.pem\nvim ca.tmpl\n```\n\n> cn = \"aya\"  \n> organization = \"aya\"  \n> serial = 1  \n> expiration_days = 3650  \n> ca  \n> signing_key  \n> cert_signing_key  \n> crl_signing_key  \n\n``` \ncerttool --generate-self-signed --load-privkey ca-key.pem --template ca.tmpl --outfile ca-cert.pem \n```\n\n### 4.2 \n\n``` \ncerttool --generate-privkey --outfile server-key.pem\nvim server.tmpl\n```\n\n> cn = \"littleya.com\"  \n> organization = \"aya\"  \n> serial = 2  \n> expiration_days = 3650  \n> encryption_key  \n> signing_key  \n> tls_www_server  \n\n```\ncerttool --generate-certificate --load-privkey server-key.pem --load-ca-certificate ca-cert.pem --load-ca-privkey ca-key.pem --template server.tmpl --outfile server-cert.pem \n```\n\n### 4.3 \n\n```\nmkdir /etc/ssl \nmkdir /etc/ssl/certs \nmkdir /etc/ssl/private \ncp ca-cert.pem /etc/ssl/certs \ncp ca-key.pem /etc/ssl/private \ncp server-cert.pem /etc/ssl/certs \ncp server-key.pem /etc/ssl/private\n```\n\n## 5 \n\n### 5.1  _/etc/ocserv_ \n\n```\nmkdir /etc/ocserv  \ncp ~/ocserv-0.9.2/doc/sample.config /etc/ocserv/ \ncp /etc/ocserv/sample.config /etc/ocserv/ocserv.conf\n```\n\n### 5.2 \n\n```\nvim /etc/ocserv/ocserv.conf\n```\n\n> auth = \"plain[/etc/ocserv/ocpasswd]\"  \n> \\# ocservocpasswd  \n> \\# ocservPluggable Authentication Modules (PAM)radius\n> <br>\n>   \n> \\#   \n> server-cert = /etc/ssl/certs/server-cert.pem  \n> server-key = /etc/ssl/private/server-key.pem\n> <br>\n>   \n> \\# if letsencrypt  \n> \\# server-cert = /etc/letsencrypt/live/example.com/fullchain.pem  \n> \\# server-key = /etc/letsencrypt/live/example.com/privkey.pem\n> <br>\n>   \n> \\#   \n> max-same-clients = 10\n> <br>\n>   \n> \\#   \n> run-as-group = nogroup\n> <br>\n>   \n> \\# VPNIP  \n> ipv4-network = 192.168.1.0\n> <br>\n>   \n> \\# DNS  \n> dns = 8.8.8.8  \n> dns = 8.8.4.4\n> <br>\n>   \n> \\# Keepalive in seconds  \n> keepalive = 600\n> <br>\n>   \n> \\#Dead peer detection in seconds.  \n> dpd = 900\n> <br>\n>\n> \\# Dead peer detection for mobile clients. The needs to  \n> \\# be much higher to prevent such clients being awaken too  \n> \\# often by the DPD messages, and save battery.  \n> \\# (clients that send the X-AnyConnect-Identifier-DeviceType)  \n> mobile-dpd = 1800\n> <br>\n>  \n> output-buffer = 23000  \n> try-mtu-discovery = true\n> <br>\n>  \n> \\# The time (in seconds) that a client is allowed to stay idle (no traffic)  \n> \\# before being disconnected. Unset to disable.  \n> idle-timeout = 3600\n> <br>\n>  \n> \\# The time (in seconds) that a mobile client is allowed to stay idle (no traffic) before being disconnected. Unset to disable. \n> mobile-idle-timeout = 3600\n> <br>\n>  \n> \\# route VPN   \n> \\# route = 192.168.16.0/255.255.255.0  \n> \\# route = 192.168.5.0/255.255.255.0\n\n,Github [ocserv-cn-no-route][1] \n[1]: https://github.com/CNMan/ocserv-cn-no-route \"ocserv-cn-no-route\"\n\n### 5.3 \n\n```\nocpasswd -c /etc/ocserv/ocpasswd user.name\n#user.name\n```\n\n## 6. \n\n### 6.1 \n\n```\nvim /etc/sysctl.conf\n```\n\n> net.ipv4.ip_forward = 1\n\n```\nsysctl -p\n```\n\n### 6.2 iptables\n\n```\niptables -t nat -A POSTROUTING -j MASQUERADE \niptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu \n \n#XEN/KVM,openvz \n \niptables -t nat -A POSTROUTING -s 192.168.1.0/24 -j SNAT --to-source VPN SERVER'S IP \niptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu \n \n#mtu\niptables -A FORWARD -p tcp --syn -s 192.168.1.0/24 -j TCPMSS --set-mss 1356\n```\n\n### 6.3 \n\n```\nocserv -c /etc/ocserv/ocserv.conf -f -d 1\n```\n\n### 6.4 \n\n```\nvim /etc/rc.local\n```\n\n> iptables -t nat -A POSTROUTING -j MASQUERADE  \n> iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu\n> <br>\n> \n> \\#XEN/KVM,openvz\n> <br>\n> \n> iptables -t nat -A POSTROUTING -s 192.168.110.0/24 -j SNAT --to-source VPN SERVER'S IP  \n> iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu\n> <br>\n> \n> ocserv\n\n# \n\n## Linux:\n\n```\napt-get install -y openconnect expect screen\nvim /usr/local/sbin/ocdo.sh\n```\n\n> \\#!/usr/bin/expect  \n> spawn screen -S ocdo openconnect -u username --script=/etc/vpnc/vpnc-script --no-dtls vpn.example.com -b  \n> expect \"anything else\"  \n> send \"yes\\r\"  \n> expect \"Password:\"  \n> send \"password\\r\"  \n> interact  \n\n```\necho \"/usr/local/sbin/ocdo.sh\" >> /rc.local \nmkdir /etc/vpnc && cd /etc/vpnc \nwget http://git.infradead.org/users/dwmw2/vpnc-scripts.git/blob_plain/HEAD:/vpnc-script \n```\n\nvpnc-script:\n``` bash\n#!/bin/sh\n#\n# Originally part of vpnc source code:\n#  2005-2012 Maurice Massar, Jrg Mayer, Antonio Borneo et al.\n#  2009-2012 David Woodhouse <dwmw2@infradead.org>\n#\n# This program is free software; you can redistribute it and/or modify\n# it under the terms of the GNU General Public License as published by\n# the Free Software Foundation; either version 2 of the License, or\n# (at your option) any later version.\n#\n# This program is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n# GNU General Public License for more details.\n#\n# You should have received a copy of the GNU General Public License\n# along with this program; if not, write to the Free Software\n# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA\n#\n################\n#\n# List of parameters passed through environment\n#* reason                       -- why this script was called, one of: pre-init connect disconnect reconnect\n#* VPNGATEWAY                   -- vpn gateway address (always present)\n#* TUNDEV                       -- tunnel device (always present)\n#* INTERNAL_IP4_ADDRESS         -- address (always present)\n#* INTERNAL_IP4_MTU             -- mtu (often unset)\n#* INTERNAL_IP4_NETMASK         -- netmask (often unset)\n#* INTERNAL_IP4_NETMASKLEN      -- netmask length (often unset)\n#* INTERNAL_IP4_NETADDR         -- address of network (only present if netmask is set)\n#* INTERNAL_IP4_DNS             -- list of dns servers\n#* INTERNAL_IP4_NBNS            -- list of wins servers\n#* INTERNAL_IP6_ADDRESS         -- IPv6 address\n#* INTERNAL_IP6_NETMASK         -- IPv6 netmask\n#* INTERNAL_IP6_DNS             -- IPv6 list of dns servers\n#* CISCO_DEF_DOMAIN             -- default domain name\n#* CISCO_BANNER                 -- banner from server\n#* CISCO_SPLIT_INC              -- number of networks in split-network-list\n#* CISCO_SPLIT_INC_%d_ADDR      -- network address\n#* CISCO_SPLIT_INC_%d_MASK      -- subnet mask (for example: 255.255.255.0)\n#* CISCO_SPLIT_INC_%d_MASKLEN   -- subnet masklen (for example: 24)\n#* CISCO_SPLIT_INC_%d_PROTOCOL  -- protocol (often just 0)\n#* CISCO_SPLIT_INC_%d_SPORT     -- source port (often just 0)\n#* CISCO_SPLIT_INC_%d_DPORT     -- destination port (often just 0)\n#* CISCO_IPV6_SPLIT_INC         -- number of networks in IPv6 split-network-list\n#* CISCO_IPV6_SPLIT_INC_%d_ADDR -- IPv6 network address\n#* CISCO_IPV6_SPLIT_INC_$%d_MASKLEN -- IPv6 subnet masklen\n\n# FIXMEs:\n\n# Section A: route handling\n\n# 1) The 3 values CISCO_SPLIT_INC_%d_PROTOCOL/SPORT/DPORT are currently being ignored\n#   In order to use them, we'll probably need os specific solutions\n#   * Linux: iptables -t mangle -I PREROUTING <conditions> -j ROUTE --oif $TUNDEV\n#       This would be an *alternative* to changing the routes (and thus 2) and 3)\n#       shouldn't be relevant at all)\n# 2) There are two different functions to set routes: generic routes and the\n#   default route. Why isn't the defaultroute handled via the generic route case?\n# 3) In the split tunnel case, all routes but the default route might get replaced\n#   without getting restored later. We should explicitely check and save them just\n#   like the defaultroute\n# 4) Replies to a dhcp-server should never be sent into the tunnel\n\n# Section B: Split DNS handling\n\n# 1) Maybe dnsmasq can do something like that\n# 2) Parse dns packets going out via tunnel and redirect them to original dns-server\n\n#env | sort\n#set -x\n\n# =========== script (variable) setup ====================================\n\nPATH=/sbin:/usr/sbin:$PATH\n\nOS=\"`uname -s`\"\n\nHOOKS_DIR=/etc/vpnc\nDEFAULT_ROUTE_FILE=/var/run/vpnc/defaultroute\nRESOLV_CONF_BACKUP=/var/run/vpnc/resolv.conf-backup\nSCRIPTNAME=`basename $0`\n\n# some systems, eg. Darwin & FreeBSD, prune /var/run on boot\nif [ ! -d \"/var/run/vpnc\" ]; then\n\tmkdir -p /var/run/vpnc\n\t[ -x /sbin/restorecon ] && /sbin/restorecon /var/run/vpnc\nfi\n\n# stupid SunOS: no blubber in /usr/local/bin ... (on stdout)\nIPROUTE=\"`which ip 2> /dev/null | grep '^/'`\"\n\nif ifconfig --help 2>&1 | grep BusyBox > /dev/null; then\n\tifconfig_syntax_inet=\"\"\nelse\n\tifconfig_syntax_inet=\"inet\"\nfi\n\nif [ \"$OS\" = \"Linux\" ]; then\n\tifconfig_syntax_ptp=\"pointopoint\"\n\troute_syntax_gw=\"gw\"\n\troute_syntax_del=\"del\"\n\troute_syntax_netmask=\"netmask\"\nelse\n\tifconfig_syntax_ptp=\"\"\n\troute_syntax_gw=\"\"\n\troute_syntax_del=\"delete\"\n\troute_syntax_netmask=\"-netmask\"\nfi\nif [ \"$OS\" = \"SunOS\" ]; then\n\troute_syntax_interface=\"-interface\"\n\tifconfig_syntax_ptpv6=\"$INTERNAL_IP6_ADDRESS\"\nelse\n\troute_syntax_interface=\"\"\n\tifconfig_syntax_ptpv6=\"\"\nfi\n\nif [ -r /etc/openwrt_release ] && [ -n \"$OPENWRT_INTERFACE\" ]; then\n        . /etc/functions.sh\n\tinclude /lib/network\n\tMODIFYRESOLVCONF=modify_resolvconf_openwrt\n\tRESTORERESOLVCONF=restore_resolvconf_openwrt\nelif [ -x /usr/bin/busctl ]; then  # For systemd-resolved (version 229 and above)\n\tMODIFYRESOLVCONF=modify_resolved_manager\n\tRESTORERESOLVCONF=restore_resolved_manager\nelif [ -x /sbin/resolvconf ]; then # Optional tool on Debian, Ubuntu, Gentoo and FreeBSD\n\tMODIFYRESOLVCONF=modify_resolvconf_manager\n\tRESTORERESOLVCONF=restore_resolvconf_manager\nelif [ -x /sbin/netconfig ]; then # tool on Suse after 11.1\n\tMODIFYRESOLVCONF=modify_resolvconf_suse_netconfig\n\tRESTORERESOLVCONF=restore_resolvconf_suse_netconfig\nelif [ -x /sbin/modify_resolvconf ]; then # Mandatory tool on Suse earlier than 11.1\n\tMODIFYRESOLVCONF=modify_resolvconf_suse\n\tRESTORERESOLVCONF=restore_resolvconf_suse\nelif [ -x /usr/sbin/unbound-control ] && /usr/sbin/unbound-control status > /dev/null 2>&1; then\n\tMODIFYRESOLVCONF=modify_resolvconf_unbound\n\tRESTORERESOLVCONF=restore_resolvconf_unbound\nelse # Generic for any OS\n\tMODIFYRESOLVCONF=modify_resolvconf_generic\n\tRESTORERESOLVCONF=restore_resolvconf_generic\nfi\n\n\n# =========== script hooks =================================================\n\nrun_hooks() {\n\tHOOK=\"$1\"\n\n\tif [ -d ${HOOKS_DIR}/${HOOK}.d ]; then\n\t    for script in ${HOOKS_DIR}/${HOOK}.d/* ; do\n\t\t[ -f $script ] && . $script\n\t    done\n\tfi\n}\n\n# =========== tunnel interface handling ====================================\n\ndo_ifconfig() {\n\tif [ -n \"$INTERNAL_IP4_MTU\" ]; then\n\t\tMTU=$INTERNAL_IP4_MTU\n\telif [ -n \"$IPROUTE\" ]; then\n\t\tMTUDEV=`$IPROUTE route get \"$VPNGATEWAY\" | sed -ne 's/^.*dev \\([a-z0-9]*\\).*$/\\1/p'`\n\t\tMTU=`$IPROUTE link show \"$MTUDEV\" | sed -ne 's/^.*mtu \\([[:digit:]]\\+\\).*$/\\1/p'`\n\t\tif [ -n \"$MTU\" ]; then\n\t\t\tMTU=`expr $MTU - 88`\n\t\tfi\n\tfi\n\n\tif [ -z \"$MTU\" ]; then\n\t\tMTU=1412\n\tfi\n\n\t# Point to point interface require a netmask of 255.255.255.255 on some systems\n\tif [ -n \"$IPROUTE\" ]; then\n\t\t$IPROUTE link set dev \"$TUNDEV\" up mtu \"$MTU\"\n\t\t$IPROUTE addr add \"$INTERNAL_IP4_ADDRESS/32\" peer \"$INTERNAL_IP4_ADDRESS\" dev \"$TUNDEV\"\n\telse\n\t\tifconfig \"$TUNDEV\" ${ifconfig_syntax_inet} \"$INTERNAL_IP4_ADDRESS\" $ifconfig_syntax_ptp \"$INTERNAL_IP4_ADDRESS\" netmask 255.255.255.255 mtu ${MTU} up\n\tfi\n\n\tif [ -n \"$INTERNAL_IP4_NETMASK\" ]; then\n\t\tset_network_route $INTERNAL_IP4_NETADDR $INTERNAL_IP4_NETMASK $INTERNAL_IP4_NETMASKLEN\n\tfi\n\n\t# If the netmask is provided, it contains the address _and_ netmask\n\tif [ -n \"$INTERNAL_IP6_ADDRESS\" ] && [ -z \"$INTERNAL_IP6_NETMASK\" ]; then\n\t    INTERNAL_IP6_NETMASK=\"$INTERNAL_IP6_ADDRESS/128\"\n\tfi\n\tif [ -n \"$INTERNAL_IP6_NETMASK\" ]; then\n\t    if [ -n \"$IPROUTE\" ]; then\n\t\t$IPROUTE -6 addr add $INTERNAL_IP6_NETMASK dev $TUNDEV\n\t    else\n\t\t# Unlike for Legacy IP, we don't specify the dest_address\n\t\t# here on *BSD. OpenBSD for one will refuse to accept\n\t\t# incoming packets to that address if we do.\n\t\t# OpenVPN does the same (gives dest_address for Legacy IP\n\t\t# but not for IPv6).\n\t\t# Only Solaris needs it; hence $ifconfig_syntax_ptpv6\n\t        ifconfig \"$TUNDEV\" inet6 $INTERNAL_IP6_NETMASK $ifconfig_syntax_ptpv6 mtu $MTU up\n\t    fi\n\tfi\n}\n\ndestroy_tun_device() {\n\tcase \"$OS\" in\n\tNetBSD|OpenBSD) # and probably others...\n\t\tifconfig \"$TUNDEV\" destroy\n\t\t;;\n\tFreeBSD)\n\t\tifconfig \"$TUNDEV\" destroy > /dev/null 2>&1 &\n\t\t;;\n\tesac\n}\n\n# =========== route handling ====================================\n\nif [ -n \"$IPROUTE\" ]; then\n\tfix_ip_get_output () {\n\t\tsed -e 's/ /\\n/g' | \\\n\t\t    sed -ne '1p;/via/{N;p};/dev/{N;p};/src/{N;p};/mtu/{N;p}'\n\t}\n\n\tset_vpngateway_route() {\n\t\t$IPROUTE route add `$IPROUTE route get \"$VPNGATEWAY\" | fix_ip_get_output`\n\t\t$IPROUTE route flush cache\n\t}\n\n\tdel_vpngateway_route() {\n\t\t$IPROUTE route $route_syntax_del \"$VPNGATEWAY\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tset_default_route() {\n\t\t$IPROUTE route | grep '^default' | fix_ip_get_output > \"$DEFAULT_ROUTE_FILE\"\n\t\t$IPROUTE route replace default dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tset_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\t$IPROUTE route replace \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\treset_default_route() {\n\t\tif [ -s \"$DEFAULT_ROUTE_FILE\" ]; then\n\t\t\t$IPROUTE route replace `cat \"$DEFAULT_ROUTE_FILE\"`\n\t\t\t$IPROUTE route flush cache\n\t\t\trm -f -- \"$DEFAULT_ROUTE_FILE\"\n\t\tfi\n\t}\n\n\tdel_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\t$IPROUTE route $route_syntax_del \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tset_ipv6_default_route() {\n\t\t# We don't save/restore IPv6 default route; just add a higher-priority one.\n\t\t$IPROUTE -6 route add default dev \"$TUNDEV\" metric 1\n\t\t$IPROUTE -6 route flush cache\n\t}\n\n\tset_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASKLEN=\"$2\"\n\t\t$IPROUTE -6 route replace \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\treset_ipv6_default_route() {\n\t\t$IPROUTE -6 route del default dev \"$TUNDEV\"\n\t\t$IPROUTE route flush cache\n\t}\n\n\tdel_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASKLEN=\"$2\"\n\t\t$IPROUTE -6 route del \"$NETWORK/$NETMASKLEN\" dev \"$TUNDEV\"\n\t\t$IPROUTE -6 route flush cache\n\t}\nelse # use route command\n\tget_default_gw() {\n\t\t# isn't -n supposed to give --numeric output?\n\t\t# apperently not...\n\t\t# Get rid of lines containing IPv6 addresses (':')\n\t\tnetstat -r -n | awk '/:/ { next; } /^(default|0\\.0\\.0\\.0)/ { print $2; }'\n\t}\n\n\tset_vpngateway_route() {\n\t\troute add -host \"$VPNGATEWAY\" $route_syntax_gw \"`get_default_gw`\"\n\t}\n\n\tdel_vpngateway_route() {\n\t\troute $route_syntax_del -host \"$VPNGATEWAY\" $route_syntax_gw \"`get_default_gw`\"\n\t}\n\n\tset_default_route() {\n\t\tDEFAULTGW=\"`get_default_gw`\"\n\t\techo \"$DEFAULTGW\" > \"$DEFAULT_ROUTE_FILE\"\n\t\troute $route_syntax_del default $route_syntax_gw \"$DEFAULTGW\"\n\t\troute add default $route_syntax_gw \"$INTERNAL_IP4_ADDRESS\" $route_syntax_interface\n\t}\n\n\tset_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\tdel_network_route \"$NETWORK\" \"$NETMASK\" \"$NETMASKLEN\"\n\t\troute add -net \"$NETWORK\" $route_syntax_netmask \"$NETMASK\" $route_syntax_gw \"$INTERNAL_IP4_ADDRESS\" $route_syntax_interface\n\t}\n\n\treset_default_route() {\n\t\tif [ -s \"$DEFAULT_ROUTE_FILE\" ]; then\n\t\t\troute $route_syntax_del default $route_syntax_gw \"`get_default_gw`\" $route_syntax_interface\n\t\t\troute add default $route_syntax_gw `cat \"$DEFAULT_ROUTE_FILE\"`\n\t\t\trm -f -- \"$DEFAULT_ROUTE_FILE\"\n\t\tfi\n\t}\n\n\tdel_network_route() {\n\t\tcase \"$OS\" in\n\t\tLinux|NetBSD|OpenBSD|Darwin|SunOS) # and probably others...\n\t\t\t# routes are deleted automatically on device shutdown\n\t\t\treturn\n\t\t\t;;\n\t\tesac\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\tNETMASKLEN=\"$3\"\n\t\troute $route_syntax_del -net \"$NETWORK\" $route_syntax_netmask \"$NETMASK\" $route_syntax_gw \"$INTERNAL_IP4_ADDRESS\"\n\t}\n\n\tset_ipv6_default_route() {\n\t\troute add -inet6 default \"$INTERNAL_IP6_ADDRESS\" $route_syntax_interface\n\t}\n\n\tset_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\troute add -inet6 -net \"$NETWORK/$NETMASK\" \"$INTERNAL_IP6_ADDRESS\" $route_syntax_interface\n\t\t:\n\t}\n\n\treset_ipv6_default_route() {\n\t\troute $route_syntax_del -inet6 default \"$INTERNAL_IP6_ADDRESS\"\n\t\t:\n\t}\n\n\tdel_ipv6_network_route() {\n\t\tNETWORK=\"$1\"\n\t\tNETMASK=\"$2\"\n\t\troute $route_syntax_del -inet6 \"$NETWORK/$NETMASK\" \"$INTERNAL_IP6_ADDRESS\"\n\t\t:\n\t}\n\nfi\n\n# =========== resolv.conf handling ====================================\n\n# =========== resolv.conf handling for any OS =========================\n\nmodify_resolvconf_generic() {\n\tgrep '^#@VPNC_GENERATED@' /etc/resolv.conf > /dev/null 2>&1 || cp -- /etc/resolv.conf \"$RESOLV_CONF_BACKUP\"\n\tNEW_RESOLVCONF=\"#@VPNC_GENERATED@ -- this file is generated by vpnc\n# and will be overwritten by vpnc\n# as long as the above mark is intact\"\n\n\tDOMAINS=\"$CISCO_DEF_DOMAIN\"\n\n\texec 6< \"$RESOLV_CONF_BACKUP\"\n\twhile read LINE <&6 ; do\n\t\tcase \"$LINE\" in\n\t\t\t# omit; we will overwrite these\n\t\t\tnameserver*) ;;\n\t\t\t# extract listed domains and prepend to list\n\t\t\tdomain* | search*) DOMAINS=\"${LINE#* } $DOMAINS\" ;;\n\t\t\t# retain other lines\n\t\t\t*) NEW_RESOLVCONF=\"$NEW_RESOLVCONF\n$LINE\" ;;\n\t\tesac\n\tdone\n\texec 6<&-\n\n\tfor i in $INTERNAL_IP4_DNS ; do\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\nnameserver $i\"\n\tdone\n\t# note that \"search\" is mutually exclusive with \"domain\";\n\t# \"search\" allows multiple domains to be listed, so use that\n\tif [ -n \"$DOMAINS\" ]; then\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\nsearch $DOMAINS\"\n\tfi\n\techo \"$NEW_RESOLVCONF\" > /etc/resolv.conf\n\n\tif [ \"$OS\" = \"Darwin\" ]; then\n\t\tcase \"`uname -r`\" in\n\t\t\t# Skip for pre-10.4 systems\n\t\t\t4.*|5.*|6.*|7.*)\n\t\t\t\t;;\n\t\t\t# 10.4 and later require use of scutil for DNS to work properly\n\t\t\t*)\n\t\t\t\tOVERRIDE_PRIMARY=\"\"\n\t\t\t\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\t\t\t\tif [ $CISCO_SPLIT_INC -lt 1 ]; then\n\t\t\t\t\t\t# Must override for correct default route\n\t\t\t\t\t\t# Cannot use multiple DNS matching in this case\n\t\t\t\t\t\tOVERRIDE_PRIMARY='d.add OverridePrimary # 1'\n\t\t\t\t\tfi\n\t\t\t\t\t# Overriding the default gateway breaks split routing\n\t\t\t\t\tOVERRIDE_GATEWAY=\"\"\n\t\t\t\t\t# Not overriding the default gateway breaks usage of\n\t\t\t\t\t# INTERNAL_IP4_DNS. Prepend INTERNAL_IP4_DNS to list\n\t\t\t\t\t# of used DNS servers\n\t\t\t\t\tSERVICE=`echo \"show State:/Network/Global/IPv4\" | scutil | grep -oE '[a-fA-F0-9]{8}-([a-fA-F0-9]{4}-){3}[a-fA-F0-9]{12}'`\n\t\t\t\t\tSERVICE_DNS=`echo \"show State:/Network/Service/$SERVICE/DNS\" | scutil | grep -oE '([0-9]{1,3}[\\.]){3}[0-9]{1,3}' | xargs`\n\t\t\t\t\tif [ X\"$SERVICE_DNS\" != X\"$INTERNAL_IP4_DNS\" ]; then\n\t\t\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\t\t\topen\n\t\t\t\t\t\t\tget State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\td.add ServerAddresses * $INTERNAL_IP4_DNS $SERVICE_DNS\n\t\t\t\t\t\t\tset State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\tclose\n\t\t\t\t\t\tEOF\n\t\t\t\t\tfi\n\t\t\t\telse\n\t\t\t\t\t# No split routing. Override default gateway\n\t\t\t\t\tOVERRIDE_GATEWAY=\"d.add Router $INTERNAL_IP4_ADDRESS\"\n\t\t\t\tfi\n\t\t\t\t# Uncomment the following if/fi pair to use multiple\n\t\t\t\t# DNS matching when available.  When multiple DNS matching\n\t\t\t\t# is present, anything reading the /etc/resolv.conf file\n\t\t\t\t# directly will probably not work as intended.\n\t\t\t\t#if [ -z \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t\t\t\t# Cannot use multiple DNS matching without a domain\n\t\t\t\t\tOVERRIDE_PRIMARY='d.add OverridePrimary # 1'\n\t\t\t\t#fi\n\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\topen\n\t\t\t\t\td.init\n\t\t\t\t\td.add ServerAddresses * $INTERNAL_IP4_DNS\n\t\t\t\t\tset State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\td.init\n\t\t\t\t\t$OVERRIDE_GATEWAY\n\t\t\t\t\td.add Addresses * $INTERNAL_IP4_ADDRESS\n\t\t\t\t\td.add SubnetMasks * 255.255.255.255\n\t\t\t\t\td.add InterfaceName $TUNDEV\n\t\t\t\t\t$OVERRIDE_PRIMARY\n\t\t\t\t\tset State:/Network/Service/$TUNDEV/IPv4\n\t\t\t\t\tclose\n\t\t\t\tEOF\n\t\t\t\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\t\topen\n\t\t\t\t\t\tget State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\t\td.add DomainName $CISCO_DEF_DOMAIN\n\t\t\t\t\t\td.add SearchDomains * $CISCO_DEF_DOMAIN\n\t\t\t\t\t\td.add SupplementalMatchDomains * $CISCO_DEF_DOMAIN\n\t\t\t\t\t\tset State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\t\tclose\n\t\t\t\t\tEOF\n\t\t\t\tfi\n\t\t\t\t;;\n\t\tesac\n\tfi\n}\n\nrestore_resolvconf_generic() {\n\tif [ ! -f \"$RESOLV_CONF_BACKUP\" ]; then\n\t\treturn\n\tfi\n\tgrep '^#@VPNC_GENERATED@' /etc/resolv.conf > /dev/null 2>&1 && cat \"$RESOLV_CONF_BACKUP\" > /etc/resolv.conf\n\trm -f -- \"$RESOLV_CONF_BACKUP\"\n\n\tif [ \"$OS\" = \"Darwin\" ]; then\n\t\tcase \"`uname -r`\" in\n\t\t\t# Skip for pre-10.4 systems\n\t\t\t4.*|5.*|6.*|7.*)\n\t\t\t\t;;\n\t\t\t# 10.4 and later require use of scutil for DNS to work properly\n\t\t\t*)\n\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\topen\n\t\t\t\t\tremove State:/Network/Service/$TUNDEV/IPv4\n\t\t\t\t\tremove State:/Network/Service/$TUNDEV/DNS\n\t\t\t\t\tclose\n\t\t\t\tEOF\n\t\t\t\t# Split routing required prepending of INTERNAL_IP4_DNS\n\t\t\t\t# to list of used DNS servers\n\t\t\t\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\t\t\t\tSERVICE=`echo \"show State:/Network/Global/IPv4\" | scutil | grep -oE '[a-fA-F0-9]{8}-([a-fA-F0-9]{4}-){3}[a-fA-F0-9]{12}'`\n\t\t\t\t\tSERVICE_DNS=`echo \"show State:/Network/Service/$SERVICE/DNS\" | scutil | grep -oE '([0-9]{1,3}[\\.]){3}[0-9]{1,3}' | xargs`\n\t\t\t\t\tif [ X\"$SERVICE_DNS\" != X\"$INTERNAL_IP4_DNS\" ]; then\n\t\t\t\t\t\tscutil >/dev/null 2>&1 <<-EOF\n\t\t\t\t\t\t\topen\n\t\t\t\t\t\t\tget State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\td.add ServerAddresses * ${SERVICE_DNS##$INTERNAL_IP4_DNS}\n\t\t\t\t\t\t\tset State:/Network/Service/$SERVICE/DNS\n\t\t\t\t\t\t\tclose\n\t\t\t\t\t\tEOF\n\t\t\t\t\tfi\n\t\t\t\tfi\n\t\t\t\t;;\n\t\tesac\n\tfi\n}\n# === resolv.conf handling via /sbin/netconfig (Suse 11.1) =====================\n\n# Suse provides a script that modifies resolv.conf. Use it because it will\n# restart/reload all other services that care about it (e.g. lwresd).  [unclear if this is still true, but probably --mlk]\n\nmodify_resolvconf_suse_netconfig()\n{\n\t/sbin/netconfig modify -s vpnc -i \"$TUNDEV\" <<-EOF\n\t\tINTERFACE='$TUNDEV'\n\t\tDNSSERVERS='$INTERNAL_IP4_DNS'\n\t\tDNSDOMAIN='$CISCO_DEF_DOMAIN'\n\t\tEOF\n}\n# Restore resolv.conf to old contents on Suse\nrestore_resolvconf_suse_netconfig()\n{\n\t/sbin/netconfig remove -s vpnc -i \"$TUNDEV\"\n}\n\n# === resolv.conf handling via /sbin/modify_resolvconf (Suse) =====================\n\n# Suse provides a script that modifies resolv.conf. Use it because it will\n# restart/reload all other services that care about it (e.g. lwresd).\n\nmodify_resolvconf_suse()\n{\n\tFULL_SCRIPTNAME=`readlink -f $0`\n\tRESOLV_OPTS=''\n\ttest -n \"$INTERNAL_IP4_DNS\" && RESOLV_OPTS=\"-n \\\"$INTERNAL_IP4_DNS\\\"\"\n\ttest -n \"$CISCO_DEF_DOMAIN\" && RESOLV_OPTS=\"$RESOLV_OPTS -d $CISCO_DEF_DOMAIN\"\n\ttest -n \"$RESOLV_OPTS\" && eval /sbin/modify_resolvconf modify -s vpnc -p $SCRIPTNAME -f $FULL_SCRIPTNAME -e $TUNDEV $RESOLV_OPTS -t \\\"This file was created by $SCRIPTNAME\\\"\n}\n\n# Restore resolv.conf to old contents on Suse\nrestore_resolvconf_suse()\n{\n\tFULL_SCRIPTNAME=`readlink -f $0`\n\t/sbin/modify_resolvconf restore -s vpnc -p $SCRIPTNAME -f $FULL_SCRIPTNAME -e $TUNDEV\n}\n\n# === resolv.conf handling via UCI (OpenWRT) =========\n\nmodify_resolvconf_openwrt() {\n\tadd_dns $OPENWRT_INTERFACE $INTERNAL_IP4_DNS\n}\n\nrestore_resolvconf_openwrt() {\n\tremove_dns $OPENWRT_INTERFACE\n}\n# === resolv.conf handling via /sbin/resolvconf (Debian, Ubuntu, Gentoo)) =========\n\nmodify_resolvconf_manager() {\n\tNEW_RESOLVCONF=\"\"\n\tfor i in $INTERNAL_IP4_DNS; do\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\nnameserver $i\"\n\tdone\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\tNEW_RESOLVCONF=\"$NEW_RESOLVCONF\ndomain $CISCO_DEF_DOMAIN\"\n\tfi\n\techo \"$NEW_RESOLVCONF\" | /sbin/resolvconf -a $TUNDEV\n}\n\nrestore_resolvconf_manager() {\n\t/sbin/resolvconf -d $TUNDEV\n}\n\nAF_INET=2\n\nget_if_index() {\n\tlocal link\n\tlink=\"$(ip link show dev \"$1\")\" || return $?\n\techo ${link} | awk -F: '{print $1}'\n}\n\nbusctl_call() {\n\tlocal dest node\n\tdest=org.freedesktop.resolve1\n\tnode=/org/freedesktop/resolve1\n\tbusctl call \"$dest\" \"${node}\" \"${dest}.Manager\" \"$@\"\n}\n\nbusctl_set_nameservers() {\n\tlocal if_index addresses args addr\n\tif_index=$1\n\tshift\n\taddresses=\"$@\"\n\targs=\"$if_index $#\"\n\tfor addr in ${addresses}; do\n\t\targs=\"$args ${AF_INET} 4 $(echo $addr | sed 's/[.]/ /g')\"\n\tdone\n\tbusctl_call SetLinkDNS 'ia(iay)' ${args}\n}\n\nbusctl_set_search() {\n\tlocal if_index domains args domain\n\tif_index=$1\n\tshift\n\tdomains=\"$@\"\n\targs=\"$if_index $#\"\n\tfor domain in ${domains}; do\n\t\targs=\"$args ${domain} false\"\n\tdone\n\tbusctl_call SetLinkDomains 'ia(sb)' ${args}\n}\n\nmodify_resolved_manager() {\n\tlocal if_index\n\tif_index=$(get_if_index $TUNDEV)\n\tbusctl_set_nameservers $if_index $INTERNAL_IP4_DNS\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\tbusctl_set_search $if_index $CISCO_DEF_DOMAIN\n\tfi\n}\n\nrestore_resolved_manager() {\n\tlocal if_index\n\tif_index=$(get_if_index $TUNDEV)\n\tbusctl_call RevertLink 'i' $if_index\n}\n\n# === resolv.conf handling via unbound =========\n\nmodify_resolvconf_unbound() {\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t/usr/sbin/unbound-control forward_add +i ${CISCO_DEF_DOMAIN} ${INTERNAL_IP4_DNS}\n\t\t/usr/sbin/unbound-control flush_requestlist\n\t\t/usr/sbin/unbound-control flush_zone ${CISCO_DEF_DOMAIN}\n\tfi\n}\n\nrestore_resolvconf_unbound() {\n\tif [ -n \"$CISCO_DEF_DOMAIN\" ]; then\n\t\t/usr/sbin/unbound-control forward_remove +i ${CISCO_DEF_DOMAIN}\n\t\t/usr/sbin/unbound-control flush_zone ${CISCO_DEF_DOMAIN}\n\t\t/usr/sbin/unbound-control flush_requestlist\n\tfi\n}\n\n# ========= Toplevel state handling  =======================================\n\nkernel_is_2_6_or_above() {\n\tcase `uname -r` in\n\t\t1.*|2.[012345]*)\n\t\t\treturn 1\n\t\t\t;;\n\t\t*)\n\t\t\treturn 0\n\t\t\t;;\n\tesac\n}\n\ndo_pre_init() {\n\tif [ \"$OS\" = \"Linux\" ]; then\n\t\tif (exec 6< /dev/net/tun) > /dev/null 2>&1 ; then\n\t\t\t:\n\t\telse # can't open /dev/net/tun\n\t\t\ttest -e /proc/sys/kernel/modprobe && `cat /proc/sys/kernel/modprobe` tun 2>/dev/null\n\t\t\t# fix for broken devfs in kernel 2.6.x\n\t\t\tif [ \"`readlink /dev/net/tun`\" = misc/net/tun \\\n\t\t\t\t-a ! -e /dev/net/misc/net/tun -a -e /dev/misc/net/tun ] ; then\n\t\t\t\tln -sf /dev/misc/net/tun /dev/net/tun\n\t\t\tfi\n\t\t\t# make sure tun device exists\n\t\t\tif [ ! -e /dev/net/tun ]; then\n\t\t\t\tmkdir -p /dev/net\n\t\t\t\tmknod -m 0640 /dev/net/tun c 10 200\n\t\t\t\t[ -x /sbin/restorecon ] && /sbin/restorecon /dev/net/tun\n\t\t\tfi\n\t\t\t# workaround for a possible latency caused by udev, sleep max. 10s\n\t\t\tif kernel_is_2_6_or_above ; then\n\t\t\t\tfor x in `seq 100` ; do\n\t\t\t\t\t(exec 6<> /dev/net/tun) > /dev/null 2>&1 && break;\n\t\t\t\t\tsleep 0.1\n\t\t\t\tdone\n\t\t\tfi\n\t\tfi\n\telif [ \"$OS\" = \"FreeBSD\" ]; then\n\t\tif ! kldstat -q -m if_tun > /dev/null; then\n\t\t\tkldload if_tun\n\t\tfi\n\n\t\tif ! ifconfig $TUNDEV > /dev/null; then\n\t\t\tifconfig $TUNDEV create\n\t\tfi\n\telif [ \"$OS\" = \"GNU/kFreeBSD\" ]; then\n\t\tif [ ! -e /dev/tun ]; then\n\t\t\tkldload if_tun\n\t\tfi\n\telif [ \"$OS\" = \"NetBSD\" ]; then\n\t\t:\n\telif [ \"$OS\" = \"OpenBSD\" ]; then\n\t\tif ! ifconfig $TUNDEV > /dev/null; then\n\t\t\tifconfig $TUNDEV create\n\t\tfi\n\t\t:\n\telif [ \"$OS\" = \"SunOS\" ]; then\n\t\t:\n\telif [ \"$OS\" = \"Darwin\" ]; then\n\t\t:\n\tfi\n}\n\ndo_connect() {\n\tif [ -n \"$CISCO_BANNER\" ]; then\n\t\techo \"Connect Banner:\"\n\t\techo \"$CISCO_BANNER\" | while read LINE ; do echo \"|\" \"$LINE\" ; done\n\t\techo\n\tfi\n\n\tset_vpngateway_route\n\tdo_ifconfig\n\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASK=\"\\${CISCO_SPLIT_INC_${i}_MASK}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ \"$NETWORK\" != \"0.0.0.0\" ]; then\n\t\t\t\tset_network_route \"$NETWORK\" \"$NETMASK\" \"$NETMASKLEN\"\n\t\t\telse\n\t\t\t\tset_default_route\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP4_DNS ; do\n\t\t\techo \"$i\" | grep : >/dev/null || \\\n\t\t\t\tset_network_route \"$i\" \"255.255.255.255\" \"32\"\n\t\tdone\n\telif [ -n \"$INTERNAL_IP4_ADDRESS\" ]; then\n\t\tset_default_route\n\tfi\n\tif [ -n \"$CISCO_IPV6_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_IPV6_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_IPV6_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_IPV6_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ $NETMASKLEN -lt 128 ]; then\n\t\t\t\tset_ipv6_network_route \"$NETWORK\" \"$NETMASKLEN\"\n\t\t\telse\n\t\t\t\tset_ipv6_default_route\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP4_DNS ; do\n\t\t\tif echo \"$i\" | grep : >/dev/null; then\n\t\t\t\tset_ipv6_network_route \"$i\" \"128\"\n\t\t\tfi\n\t\tdone\n\telif [ -n \"$INTERNAL_IP6_NETMASK\" -o -n \"$INTERNAL_IP6_ADDRESS\" ]; then\n\t\tset_ipv6_default_route\n\tfi\n\n\tif [ -n \"$INTERNAL_IP4_DNS\" ]; then\n\t\t$MODIFYRESOLVCONF\n\tfi\n}\n\ndo_disconnect() {\n\tif [ -n \"$CISCO_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASK=\"\\${CISCO_SPLIT_INC_${i}_MASK}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ \"$NETWORK\" != \"0.0.0.0\" ]; then\n\t\t\t\t# FIXME: This doesn't restore previously overwritten\n\t\t\t\t#        routes.\n\t\t\t\tdel_network_route \"$NETWORK\" \"$NETMASK\" \"$NETMASKLEN\"\n\t\t\telse\n\t\t\t\treset_default_route\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP4_DNS ; do\n\t\t\tdel_network_route \"$i\" \"255.255.255.255\" \"32\"\n\t\tdone\n\telse\n\t\treset_default_route\n\tfi\n\tif [ -n \"$CISCO_IPV6_SPLIT_INC\" ]; then\n\t\ti=0\n\t\twhile [ $i -lt $CISCO_IPV6_SPLIT_INC ] ; do\n\t\t\teval NETWORK=\"\\${CISCO_IPV6_SPLIT_INC_${i}_ADDR}\"\n\t\t\teval NETMASKLEN=\"\\${CISCO_IPV6_SPLIT_INC_${i}_MASKLEN}\"\n\t\t\tif [ $NETMASKLEN -eq 0 ]; then\n\t\t\t\treset_ipv6_default_route\n\t\t\telse\n\t\t\t\tdel_ipv6_network_route \"$NETWORK\" \"$NETMASKLEN\"\n\t\t\tfi\n\t\t\ti=`expr $i + 1`\n\t\tdone\n\t\tfor i in $INTERNAL_IP6_DNS ; do\n\t\t\tdel_ipv6_network_route \"$i\" \"128\"\n\t\tdone\n\telif [ -n \"$INTERNAL_IP6_NETMASK\" -o -n \"$INTERNAL_IP6_ADDRESS\" ]; then\n\t\treset_ipv6_default_route\n\tfi\n\n\tdel_vpngateway_route\n\n\tif [ -n \"$INTERNAL_IP4_DNS\" ]; then\n\t\t$RESTORERESOLVCONF\n\tfi\n\n\n\tif [ -n \"$IPROUTE\" ]; then\n\t\tif [ -n \"$INTERNAL_IP4_ADDRESS\" ]; then\n\t\t\t$IPROUTE addr del \"$INTERNAL_IP4_ADDRESS/255.255.255.255\" peer \"$INTERNAL_IP4_ADDRESS\" dev \"$TUNDEV\"\n\t\tfi\n\t\t# If the netmask is provided, it contains the address _and_ netmask\n\t\tif [ -n \"$INTERNAL_IP6_ADDRESS\" ] && [ -z \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\tINTERNAL_IP6_NETMASK=\"$INTERNAL_IP6_ADDRESS/128\"\n\t\tfi\n\t\tif [ -n \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\t$IPROUTE -6 addr del $INTERNAL_IP6_NETMASK dev $TUNDEV\n\t\tfi\n\telse\n\t\tif [ -n \"$INTERNAL_IP4_ADDRESS\" ]; then\n\t\t\tifconfig \"$TUNDEV\" 0.0.0.0\n\t\tfi\n\t\tif [ -n \"$INTERNAL_IP6_ADDRESS\" ] && [ -z \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\tINTERNAL_IP6_NETMASK=\"$INTERNAL_IP6_ADDRESS/128\"\n\t\tfi\n\t\tif [ -n \"$INTERNAL_IP6_NETMASK\" ]; then\n\t\t\tifconfig \"$TUNDEV\" inet6 del $INTERNAL_IP6_NETMASK\n\t\tfi\n\tfi\n\n\tdestroy_tun_device\n}\n\n#### Main\n\nif [ -z \"$reason\" ]; then\n\techo \"this script must be called from vpnc\" 1>&2\n\texit 1\nfi\n\ncase \"$reason\" in\n\tpre-init)\n\t\trun_hooks pre-init\n\t\tdo_pre_init\n\t\t;;\n\tconnect)\n\t\trun_hooks connect\n\t\tdo_connect\n\t\trun_hooks post-connect\n\t\t;;\n\tdisconnect)\n\t\trun_hooks disconnect\n\t\tdo_disconnect\n\t\trun_hooks post-disconnect\n\t\t;;\n\treconnect)\n\t\trun_hooks reconnect\n\t\t;;\n\t*)\n\t\techo \"unknown reason '$reason'. Maybe vpnc-script is out of date\" 1>&2\n\t\texit 1\n\t\t;;\nesac\n\nexit 0\n```","slug":"201710091705","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a25c0008zizpoh0frzq7","content":"<p>AnyConnectVPNWindowsAndroidIOSMacintoshUbuntuWebOSBlackberryAnyConnectionAnyConnectVPN<br>ocservopenconnect </p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>: debian7<br>ocserv: 0.9.2</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p>ocservGnuTLSSSLlibrary,dev.Debian Stable(2.12.20),ocserv2.15,backports:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">echo &quot;deb http://ftp.debian.org/debian wheezy-backports main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list </div><div class=\"line\">apt-get update</div><div class=\"line\">apt-get upgarde</div><div class=\"line\">apt-get -t wheezy-backports install libgnutls28-dev -y </div><div class=\"line\">apt-get install libgmp3-dev m4 gcc pkg-config make gnutls-bin -y </div><div class=\"line\">apt-get install build-essential libwrap0-dev libpam0g-dev libdbus-1-dev libreadline-dev libnl-route-3-dev libprotobuf-c0-dev libpcl1-dev libopts25-dev autogen libgnutls28-dev libseccomp-dev liblz4-dev -y</div></pre></td></tr></table></figure></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p>ocservsrc/vpn.h96(ocserv)200(Cisco Anyconnect)</p>\n<blockquote>\n<p># define MAX_CONFIG_ENTRIES 96</p>\n</blockquote>\n<p>Cisco,no-routeroute</p>\n<h2 id=\"3--amp--amp-\"><a href=\"#3--amp--amp-\" class=\"headerlink\" title=\"3. &amp;&amp;\"></a>3. &amp;&amp;</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget ftp://ftp.infradead.org/pub/ocserv/ocserv-0.9.2.tar.xz </div><div class=\"line\">tar Jxvf ocserv-0.9.2.tar.xz </div><div class=\"line\">cd ocserv-0.9.2 </div><div class=\"line\">./configure --prefix=/usr --sysconfdir=/etc </div><div class=\"line\">make </div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<h2 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h2><h3 id=\"4-1-CA\"><a href=\"#4-1-CA\" class=\"headerlink\" title=\"4.1 CA\"></a>4.1 CA</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-privkey --outfile ca-key.pem</div><div class=\"line\">vim ca.tmpl</div></pre></td></tr></table></figure>\n<blockquote>\n<p>cn = aya<br>organization = aya<br>serial = 1<br>expiration_days = 3650<br>ca<br>signing_key<br>cert_signing_key<br>crl_signing_key  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-self-signed --load-privkey ca-key.pem --template ca.tmpl --outfile ca-cert.pem</div></pre></td></tr></table></figure>\n<h3 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"4.2 \"></a>4.2 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-privkey --outfile server-key.pem</div><div class=\"line\">vim server.tmpl</div></pre></td></tr></table></figure>\n<blockquote>\n<p>cn = littleya.com<br>organization = aya<br>serial = 2<br>expiration_days = 3650<br>encryption_key<br>signing_key<br>tls_www_server  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-certificate --load-privkey server-key.pem --load-ca-certificate ca-cert.pem --load-ca-privkey ca-key.pem --template server.tmpl --outfile server-cert.pem</div></pre></td></tr></table></figure>\n<h3 id=\"4-3-\"><a href=\"#4-3-\" class=\"headerlink\" title=\"4.3 \"></a>4.3 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /etc/ssl </div><div class=\"line\">mkdir /etc/ssl/certs </div><div class=\"line\">mkdir /etc/ssl/private </div><div class=\"line\">cp ca-cert.pem /etc/ssl/certs </div><div class=\"line\">cp ca-key.pem /etc/ssl/private </div><div class=\"line\">cp server-cert.pem /etc/ssl/certs </div><div class=\"line\">cp server-key.pem /etc/ssl/private</div></pre></td></tr></table></figure>\n<h2 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5 \"></a>5 </h2><h3 id=\"5-1--etc-ocserv-\"><a href=\"#5-1--etc-ocserv-\" class=\"headerlink\" title=\"5.1  /etc/ocserv \"></a>5.1  <em>/etc/ocserv</em> </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /etc/ocserv  </div><div class=\"line\">cp ~/ocserv-0.9.2/doc/sample.config /etc/ocserv/ </div><div class=\"line\">cp /etc/ocserv/sample.config /etc/ocserv/ocserv.conf</div></pre></td></tr></table></figure>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/ocserv/ocserv.conf</div></pre></td></tr></table></figure>\n<blockquote>\n<p>auth = plain[/etc/ocserv/ocpasswd]<br># ocservocpasswd<br># ocservPluggable Authentication Modules (PAM)radius<br><br></p>\n<p># <br>server-cert = /etc/ssl/certs/server-cert.pem<br>server-key = /etc/ssl/private/server-key.pem<br><br></p>\n<p># if letsencrypt<br># server-cert = /etc/letsencrypt/live/example.com/fullchain.pem<br># server-key = /etc/letsencrypt/live/example.com/privkey.pem<br><br></p>\n<p># <br>max-same-clients = 10<br><br></p>\n<p># <br>run-as-group = nogroup<br><br></p>\n<p># VPNIP<br>ipv4-network = 192.168.1.0<br><br></p>\n<p># DNS<br>dns = 8.8.8.8<br>dns = 8.8.4.4<br><br></p>\n<p># Keepalive in seconds<br>keepalive = 600<br><br></p>\n<p>#Dead peer detection in seconds.<br>dpd = 900<br><br></p>\n<p># Dead peer detection for mobile clients. The needs to<br># be much higher to prevent such clients being awaken too<br># often by the DPD messages, and save battery.<br># (clients that send the X-AnyConnect-Identifier-DeviceType)<br>mobile-dpd = 1800<br><br></p>\n<p>output-buffer = 23000<br>try-mtu-discovery = true<br><br></p>\n<p># The time (in seconds) that a client is allowed to stay idle (no traffic)<br># before being disconnected. Unset to disable.<br>idle-timeout = 3600<br><br></p>\n<p># The time (in seconds) that a mobile client is allowed to stay idle (no traffic) before being disconnected. Unset to disable.<br>mobile-idle-timeout = 3600<br><br></p>\n<p># route VPN <br># route = 192.168.16.0/255.255.255.0<br># route = 192.168.5.0/255.255.255.0</p>\n</blockquote>\n<p>,Github <a href=\"https://github.com/CNMan/ocserv-cn-no-route\" title=\"ocserv-cn-no-route\" target=\"_blank\" rel=\"external\">ocserv-cn-no-route</a> </p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ocpasswd -c /etc/ocserv/ocpasswd user.name</div><div class=\"line\">#user.name</div></pre></td></tr></table></figure>\n<h2 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6. \"></a>6. </h2><h3 id=\"6-1-\"><a href=\"#6-1-\" class=\"headerlink\" title=\"6.1 \"></a>6.1 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/sysctl.conf</div></pre></td></tr></table></figure>\n<blockquote>\n<p>net.ipv4.ip_forward = 1</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sysctl -p</div></pre></td></tr></table></figure>\n<h3 id=\"6-2-iptables\"><a href=\"#6-2-iptables\" class=\"headerlink\" title=\"6.2 iptables\"></a>6.2 iptables</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">iptables -t nat -A POSTROUTING -j MASQUERADE </div><div class=\"line\">iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu </div><div class=\"line\"> </div><div class=\"line\">#XEN/KVM,openvz </div><div class=\"line\"> </div><div class=\"line\">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -j SNAT --to-source VPN SERVER&apos;S IP </div><div class=\"line\">iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu </div><div class=\"line\"> </div><div class=\"line\">#mtu</div><div class=\"line\">iptables -A FORWARD -p tcp --syn -s 192.168.1.0/24 -j TCPMSS --set-mss 1356</div></pre></td></tr></table></figure>\n<h3 id=\"6-3-\"><a href=\"#6-3-\" class=\"headerlink\" title=\"6.3 \"></a>6.3 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ocserv -c /etc/ocserv/ocserv.conf -f -d 1</div></pre></td></tr></table></figure>\n<h3 id=\"6-4-\"><a href=\"#6-4-\" class=\"headerlink\" title=\"6.4 \"></a>6.4 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/rc.local</div></pre></td></tr></table></figure>\n<blockquote>\n<p>iptables -t nat -A POSTROUTING -j MASQUERADE<br>iptables -A FORWARD -p tcp tcp-flags SYN,RST SYN -j TCPMSS clamp-mss-to-pmtu<br><br></p>\n<p>#XEN/KVM,openvz<br><br></p>\n<p>iptables -t nat -A POSTROUTING -s 192.168.110.0/24 -j SNAT to-source VPN SERVERS IP<br>iptables -A FORWARD -p tcp tcp-flags SYN,RST SYN -j TCPMSS clamp-mss-to-pmtu<br><br></p>\n<p>ocserv</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux:\"></a>Linux:</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install -y openconnect expect screen</div><div class=\"line\">vim /usr/local/sbin/ocdo.sh</div></pre></td></tr></table></figure>\n<blockquote>\n<p>#!/usr/bin/expect<br>spawn screen -S ocdo openconnect -u username script=/etc/vpnc/vpnc-script no-dtls vpn.example.com -b<br>expect anything else<br>send yes\\r<br>expect Password:<br>send password\\r<br>interact  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">echo &quot;/usr/local/sbin/ocdo.sh&quot; &gt;&gt; /rc.local </div><div class=\"line\">mkdir /etc/vpnc &amp;&amp; cd /etc/vpnc </div><div class=\"line\">wget http://git.infradead.org/users/dwmw2/vpnc-scripts.git/blob_plain/HEAD:/vpnc-script</div></pre></td></tr></table></figure>\n<p>vpnc-script:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div><div class=\"line\">161</div><div class=\"line\">162</div><div class=\"line\">163</div><div class=\"line\">164</div><div class=\"line\">165</div><div class=\"line\">166</div><div class=\"line\">167</div><div class=\"line\">168</div><div class=\"line\">169</div><div class=\"line\">170</div><div class=\"line\">171</div><div class=\"line\">172</div><div class=\"line\">173</div><div class=\"line\">174</div><div class=\"line\">175</div><div class=\"line\">176</div><div class=\"line\">177</div><div class=\"line\">178</div><div class=\"line\">179</div><div class=\"line\">180</div><div class=\"line\">181</div><div class=\"line\">182</div><div class=\"line\">183</div><div class=\"line\">184</div><div class=\"line\">185</div><div class=\"line\">186</div><div class=\"line\">187</div><div class=\"line\">188</div><div class=\"line\">189</div><div class=\"line\">190</div><div class=\"line\">191</div><div class=\"line\">192</div><div class=\"line\">193</div><div class=\"line\">194</div><div class=\"line\">195</div><div class=\"line\">196</div><div class=\"line\">197</div><div class=\"line\">198</div><div class=\"line\">199</div><div class=\"line\">200</div><div class=\"line\">201</div><div class=\"line\">202</div><div class=\"line\">203</div><div class=\"line\">204</div><div class=\"line\">205</div><div class=\"line\">206</div><div class=\"line\">207</div><div class=\"line\">208</div><div class=\"line\">209</div><div class=\"line\">210</div><div class=\"line\">211</div><div class=\"line\">212</div><div class=\"line\">213</div><div class=\"line\">214</div><div class=\"line\">215</div><div class=\"line\">216</div><div class=\"line\">217</div><div class=\"line\">218</div><div class=\"line\">219</div><div class=\"line\">220</div><div class=\"line\">221</div><div class=\"line\">222</div><div class=\"line\">223</div><div class=\"line\">224</div><div class=\"line\">225</div><div class=\"line\">226</div><div class=\"line\">227</div><div class=\"line\">228</div><div class=\"line\">229</div><div class=\"line\">230</div><div class=\"line\">231</div><div class=\"line\">232</div><div class=\"line\">233</div><div class=\"line\">234</div><div class=\"line\">235</div><div class=\"line\">236</div><div class=\"line\">237</div><div class=\"line\">238</div><div class=\"line\">239</div><div class=\"line\">240</div><div class=\"line\">241</div><div class=\"line\">242</div><div class=\"line\">243</div><div class=\"line\">244</div><div class=\"line\">245</div><div class=\"line\">246</div><div class=\"line\">247</div><div class=\"line\">248</div><div class=\"line\">249</div><div class=\"line\">250</div><div class=\"line\">251</div><div class=\"line\">252</div><div class=\"line\">253</div><div class=\"line\">254</div><div class=\"line\">255</div><div class=\"line\">256</div><div class=\"line\">257</div><div class=\"line\">258</div><div class=\"line\">259</div><div class=\"line\">260</div><div class=\"line\">261</div><div class=\"line\">262</div><div class=\"line\">263</div><div class=\"line\">264</div><div class=\"line\">265</div><div class=\"line\">266</div><div class=\"line\">267</div><div class=\"line\">268</div><div class=\"line\">269</div><div class=\"line\">270</div><div class=\"line\">271</div><div class=\"line\">272</div><div class=\"line\">273</div><div class=\"line\">274</div><div class=\"line\">275</div><div class=\"line\">276</div><div class=\"line\">277</div><div class=\"line\">278</div><div class=\"line\">279</div><div class=\"line\">280</div><div class=\"line\">281</div><div class=\"line\">282</div><div class=\"line\">283</div><div class=\"line\">284</div><div class=\"line\">285</div><div class=\"line\">286</div><div class=\"line\">287</div><div class=\"line\">288</div><div class=\"line\">289</div><div class=\"line\">290</div><div class=\"line\">291</div><div class=\"line\">292</div><div class=\"line\">293</div><div class=\"line\">294</div><div class=\"line\">295</div><div class=\"line\">296</div><div class=\"line\">297</div><div class=\"line\">298</div><div class=\"line\">299</div><div class=\"line\">300</div><div class=\"line\">301</div><div class=\"line\">302</div><div class=\"line\">303</div><div class=\"line\">304</div><div class=\"line\">305</div><div class=\"line\">306</div><div class=\"line\">307</div><div class=\"line\">308</div><div class=\"line\">309</div><div class=\"line\">310</div><div class=\"line\">311</div><div class=\"line\">312</div><div class=\"line\">313</div><div class=\"line\">314</div><div class=\"line\">315</div><div class=\"line\">316</div><div class=\"line\">317</div><div class=\"line\">318</div><div class=\"line\">319</div><div class=\"line\">320</div><div class=\"line\">321</div><div class=\"line\">322</div><div class=\"line\">323</div><div class=\"line\">324</div><div class=\"line\">325</div><div class=\"line\">326</div><div class=\"line\">327</div><div class=\"line\">328</div><div class=\"line\">329</div><div class=\"line\">330</div><div class=\"line\">331</div><div class=\"line\">332</div><div class=\"line\">333</div><div class=\"line\">334</div><div class=\"line\">335</div><div class=\"line\">336</div><div class=\"line\">337</div><div class=\"line\">338</div><div class=\"line\">339</div><div class=\"line\">340</div><div class=\"line\">341</div><div class=\"line\">342</div><div class=\"line\">343</div><div class=\"line\">344</div><div class=\"line\">345</div><div class=\"line\">346</div><div class=\"line\">347</div><div class=\"line\">348</div><div class=\"line\">349</div><div class=\"line\">350</div><div class=\"line\">351</div><div class=\"line\">352</div><div class=\"line\">353</div><div class=\"line\">354</div><div class=\"line\">355</div><div class=\"line\">356</div><div class=\"line\">357</div><div class=\"line\">358</div><div class=\"line\">359</div><div class=\"line\">360</div><div class=\"line\">361</div><div class=\"line\">362</div><div class=\"line\">363</div><div class=\"line\">364</div><div class=\"line\">365</div><div class=\"line\">366</div><div class=\"line\">367</div><div class=\"line\">368</div><div class=\"line\">369</div><div class=\"line\">370</div><div class=\"line\">371</div><div class=\"line\">372</div><div class=\"line\">373</div><div class=\"line\">374</div><div class=\"line\">375</div><div class=\"line\">376</div><div class=\"line\">377</div><div class=\"line\">378</div><div class=\"line\">379</div><div class=\"line\">380</div><div class=\"line\">381</div><div class=\"line\">382</div><div class=\"line\">383</div><div class=\"line\">384</div><div class=\"line\">385</div><div class=\"line\">386</div><div class=\"line\">387</div><div class=\"line\">388</div><div class=\"line\">389</div><div class=\"line\">390</div><div class=\"line\">391</div><div class=\"line\">392</div><div class=\"line\">393</div><div class=\"line\">394</div><div class=\"line\">395</div><div class=\"line\">396</div><div class=\"line\">397</div><div class=\"line\">398</div><div class=\"line\">399</div><div class=\"line\">400</div><div class=\"line\">401</div><div class=\"line\">402</div><div class=\"line\">403</div><div class=\"line\">404</div><div class=\"line\">405</div><div class=\"line\">406</div><div class=\"line\">407</div><div class=\"line\">408</div><div class=\"line\">409</div><div class=\"line\">410</div><div class=\"line\">411</div><div class=\"line\">412</div><div class=\"line\">413</div><div class=\"line\">414</div><div class=\"line\">415</div><div class=\"line\">416</div><div class=\"line\">417</div><div class=\"line\">418</div><div class=\"line\">419</div><div class=\"line\">420</div><div class=\"line\">421</div><div class=\"line\">422</div><div class=\"line\">423</div><div class=\"line\">424</div><div class=\"line\">425</div><div class=\"line\">426</div><div class=\"line\">427</div><div class=\"line\">428</div><div class=\"line\">429</div><div class=\"line\">430</div><div class=\"line\">431</div><div class=\"line\">432</div><div class=\"line\">433</div><div class=\"line\">434</div><div class=\"line\">435</div><div class=\"line\">436</div><div class=\"line\">437</div><div class=\"line\">438</div><div class=\"line\">439</div><div class=\"line\">440</div><div class=\"line\">441</div><div class=\"line\">442</div><div class=\"line\">443</div><div class=\"line\">444</div><div class=\"line\">445</div><div class=\"line\">446</div><div class=\"line\">447</div><div class=\"line\">448</div><div class=\"line\">449</div><div class=\"line\">450</div><div class=\"line\">451</div><div class=\"line\">452</div><div class=\"line\">453</div><div class=\"line\">454</div><div class=\"line\">455</div><div class=\"line\">456</div><div class=\"line\">457</div><div class=\"line\">458</div><div class=\"line\">459</div><div class=\"line\">460</div><div class=\"line\">461</div><div class=\"line\">462</div><div class=\"line\">463</div><div class=\"line\">464</div><div class=\"line\">465</div><div class=\"line\">466</div><div class=\"line\">467</div><div class=\"line\">468</div><div class=\"line\">469</div><div class=\"line\">470</div><div class=\"line\">471</div><div class=\"line\">472</div><div class=\"line\">473</div><div class=\"line\">474</div><div class=\"line\">475</div><div class=\"line\">476</div><div class=\"line\">477</div><div class=\"line\">478</div><div class=\"line\">479</div><div class=\"line\">480</div><div class=\"line\">481</div><div class=\"line\">482</div><div class=\"line\">483</div><div class=\"line\">484</div><div class=\"line\">485</div><div class=\"line\">486</div><div class=\"line\">487</div><div class=\"line\">488</div><div class=\"line\">489</div><div class=\"line\">490</div><div class=\"line\">491</div><div class=\"line\">492</div><div class=\"line\">493</div><div class=\"line\">494</div><div class=\"line\">495</div><div class=\"line\">496</div><div class=\"line\">497</div><div class=\"line\">498</div><div class=\"line\">499</div><div class=\"line\">500</div><div class=\"line\">501</div><div class=\"line\">502</div><div class=\"line\">503</div><div class=\"line\">504</div><div class=\"line\">505</div><div class=\"line\">506</div><div class=\"line\">507</div><div class=\"line\">508</div><div class=\"line\">509</div><div class=\"line\">510</div><div class=\"line\">511</div><div class=\"line\">512</div><div class=\"line\">513</div><div class=\"line\">514</div><div class=\"line\">515</div><div class=\"line\">516</div><div class=\"line\">517</div><div class=\"line\">518</div><div class=\"line\">519</div><div class=\"line\">520</div><div class=\"line\">521</div><div class=\"line\">522</div><div class=\"line\">523</div><div class=\"line\">524</div><div class=\"line\">525</div><div class=\"line\">526</div><div class=\"line\">527</div><div class=\"line\">528</div><div class=\"line\">529</div><div class=\"line\">530</div><div class=\"line\">531</div><div class=\"line\">532</div><div class=\"line\">533</div><div class=\"line\">534</div><div class=\"line\">535</div><div class=\"line\">536</div><div class=\"line\">537</div><div class=\"line\">538</div><div class=\"line\">539</div><div class=\"line\">540</div><div class=\"line\">541</div><div class=\"line\">542</div><div class=\"line\">543</div><div class=\"line\">544</div><div class=\"line\">545</div><div class=\"line\">546</div><div class=\"line\">547</div><div class=\"line\">548</div><div class=\"line\">549</div><div class=\"line\">550</div><div class=\"line\">551</div><div class=\"line\">552</div><div class=\"line\">553</div><div class=\"line\">554</div><div class=\"line\">555</div><div class=\"line\">556</div><div class=\"line\">557</div><div class=\"line\">558</div><div class=\"line\">559</div><div class=\"line\">560</div><div class=\"line\">561</div><div class=\"line\">562</div><div class=\"line\">563</div><div class=\"line\">564</div><div class=\"line\">565</div><div class=\"line\">566</div><div class=\"line\">567</div><div class=\"line\">568</div><div class=\"line\">569</div><div class=\"line\">570</div><div class=\"line\">571</div><div class=\"line\">572</div><div class=\"line\">573</div><div class=\"line\">574</div><div class=\"line\">575</div><div class=\"line\">576</div><div class=\"line\">577</div><div class=\"line\">578</div><div class=\"line\">579</div><div class=\"line\">580</div><div class=\"line\">581</div><div class=\"line\">582</div><div class=\"line\">583</div><div class=\"line\">584</div><div class=\"line\">585</div><div class=\"line\">586</div><div class=\"line\">587</div><div class=\"line\">588</div><div class=\"line\">589</div><div class=\"line\">590</div><div class=\"line\">591</div><div class=\"line\">592</div><div class=\"line\">593</div><div class=\"line\">594</div><div class=\"line\">595</div><div class=\"line\">596</div><div class=\"line\">597</div><div class=\"line\">598</div><div class=\"line\">599</div><div class=\"line\">600</div><div class=\"line\">601</div><div class=\"line\">602</div><div class=\"line\">603</div><div class=\"line\">604</div><div class=\"line\">605</div><div class=\"line\">606</div><div class=\"line\">607</div><div class=\"line\">608</div><div class=\"line\">609</div><div class=\"line\">610</div><div class=\"line\">611</div><div class=\"line\">612</div><div class=\"line\">613</div><div class=\"line\">614</div><div class=\"line\">615</div><div class=\"line\">616</div><div class=\"line\">617</div><div class=\"line\">618</div><div class=\"line\">619</div><div class=\"line\">620</div><div class=\"line\">621</div><div class=\"line\">622</div><div class=\"line\">623</div><div class=\"line\">624</div><div class=\"line\">625</div><div class=\"line\">626</div><div class=\"line\">627</div><div class=\"line\">628</div><div class=\"line\">629</div><div class=\"line\">630</div><div class=\"line\">631</div><div class=\"line\">632</div><div class=\"line\">633</div><div class=\"line\">634</div><div class=\"line\">635</div><div class=\"line\">636</div><div class=\"line\">637</div><div class=\"line\">638</div><div class=\"line\">639</div><div class=\"line\">640</div><div class=\"line\">641</div><div class=\"line\">642</div><div class=\"line\">643</div><div class=\"line\">644</div><div class=\"line\">645</div><div class=\"line\">646</div><div class=\"line\">647</div><div class=\"line\">648</div><div class=\"line\">649</div><div class=\"line\">650</div><div class=\"line\">651</div><div class=\"line\">652</div><div class=\"line\">653</div><div class=\"line\">654</div><div class=\"line\">655</div><div class=\"line\">656</div><div class=\"line\">657</div><div class=\"line\">658</div><div class=\"line\">659</div><div class=\"line\">660</div><div class=\"line\">661</div><div class=\"line\">662</div><div class=\"line\">663</div><div class=\"line\">664</div><div class=\"line\">665</div><div class=\"line\">666</div><div class=\"line\">667</div><div class=\"line\">668</div><div class=\"line\">669</div><div class=\"line\">670</div><div class=\"line\">671</div><div class=\"line\">672</div><div class=\"line\">673</div><div class=\"line\">674</div><div class=\"line\">675</div><div class=\"line\">676</div><div class=\"line\">677</div><div class=\"line\">678</div><div class=\"line\">679</div><div class=\"line\">680</div><div class=\"line\">681</div><div class=\"line\">682</div><div class=\"line\">683</div><div class=\"line\">684</div><div class=\"line\">685</div><div class=\"line\">686</div><div class=\"line\">687</div><div class=\"line\">688</div><div class=\"line\">689</div><div class=\"line\">690</div><div class=\"line\">691</div><div class=\"line\">692</div><div class=\"line\">693</div><div class=\"line\">694</div><div class=\"line\">695</div><div class=\"line\">696</div><div class=\"line\">697</div><div class=\"line\">698</div><div class=\"line\">699</div><div class=\"line\">700</div><div class=\"line\">701</div><div class=\"line\">702</div><div class=\"line\">703</div><div class=\"line\">704</div><div class=\"line\">705</div><div class=\"line\">706</div><div class=\"line\">707</div><div class=\"line\">708</div><div class=\"line\">709</div><div class=\"line\">710</div><div class=\"line\">711</div><div class=\"line\">712</div><div class=\"line\">713</div><div class=\"line\">714</div><div class=\"line\">715</div><div class=\"line\">716</div><div class=\"line\">717</div><div class=\"line\">718</div><div class=\"line\">719</div><div class=\"line\">720</div><div class=\"line\">721</div><div class=\"line\">722</div><div class=\"line\">723</div><div class=\"line\">724</div><div class=\"line\">725</div><div class=\"line\">726</div><div class=\"line\">727</div><div class=\"line\">728</div><div class=\"line\">729</div><div class=\"line\">730</div><div class=\"line\">731</div><div class=\"line\">732</div><div class=\"line\">733</div><div class=\"line\">734</div><div class=\"line\">735</div><div class=\"line\">736</div><div class=\"line\">737</div><div class=\"line\">738</div><div class=\"line\">739</div><div class=\"line\">740</div><div class=\"line\">741</div><div class=\"line\">742</div><div class=\"line\">743</div><div class=\"line\">744</div><div class=\"line\">745</div><div class=\"line\">746</div><div class=\"line\">747</div><div class=\"line\">748</div><div class=\"line\">749</div><div class=\"line\">750</div><div class=\"line\">751</div><div class=\"line\">752</div><div class=\"line\">753</div><div class=\"line\">754</div><div class=\"line\">755</div><div class=\"line\">756</div><div class=\"line\">757</div><div class=\"line\">758</div><div class=\"line\">759</div><div class=\"line\">760</div><div class=\"line\">761</div><div class=\"line\">762</div><div class=\"line\">763</div><div class=\"line\">764</div><div class=\"line\">765</div><div class=\"line\">766</div><div class=\"line\">767</div><div class=\"line\">768</div><div class=\"line\">769</div><div class=\"line\">770</div><div class=\"line\">771</div><div class=\"line\">772</div><div class=\"line\">773</div><div class=\"line\">774</div><div class=\"line\">775</div><div class=\"line\">776</div><div class=\"line\">777</div><div class=\"line\">778</div><div class=\"line\">779</div><div class=\"line\">780</div><div class=\"line\">781</div><div class=\"line\">782</div><div class=\"line\">783</div><div class=\"line\">784</div><div class=\"line\">785</div><div class=\"line\">786</div><div class=\"line\">787</div><div class=\"line\">788</div><div class=\"line\">789</div><div class=\"line\">790</div><div class=\"line\">791</div><div class=\"line\">792</div><div class=\"line\">793</div><div class=\"line\">794</div><div class=\"line\">795</div><div class=\"line\">796</div><div class=\"line\">797</div><div class=\"line\">798</div><div class=\"line\">799</div><div class=\"line\">800</div><div class=\"line\">801</div><div class=\"line\">802</div><div class=\"line\">803</div><div class=\"line\">804</div><div class=\"line\">805</div><div class=\"line\">806</div><div class=\"line\">807</div><div class=\"line\">808</div><div class=\"line\">809</div><div class=\"line\">810</div><div class=\"line\">811</div><div class=\"line\">812</div><div class=\"line\">813</div><div class=\"line\">814</div><div class=\"line\">815</div><div class=\"line\">816</div><div class=\"line\">817</div><div class=\"line\">818</div><div class=\"line\">819</div><div class=\"line\">820</div><div class=\"line\">821</div><div class=\"line\">822</div><div class=\"line\">823</div><div class=\"line\">824</div><div class=\"line\">825</div><div class=\"line\">826</div><div class=\"line\">827</div><div class=\"line\">828</div><div class=\"line\">829</div><div class=\"line\">830</div><div class=\"line\">831</div><div class=\"line\">832</div><div class=\"line\">833</div><div class=\"line\">834</div><div class=\"line\">835</div><div class=\"line\">836</div><div class=\"line\">837</div><div class=\"line\">838</div><div class=\"line\">839</div><div class=\"line\">840</div><div class=\"line\">841</div><div class=\"line\">842</div><div class=\"line\">843</div><div class=\"line\">844</div><div class=\"line\">845</div><div class=\"line\">846</div><div class=\"line\">847</div><div class=\"line\">848</div><div class=\"line\">849</div><div class=\"line\">850</div><div class=\"line\">851</div><div class=\"line\">852</div><div class=\"line\">853</div><div class=\"line\">854</div><div class=\"line\">855</div><div class=\"line\">856</div><div class=\"line\">857</div><div class=\"line\">858</div><div class=\"line\">859</div><div class=\"line\">860</div><div class=\"line\">861</div><div class=\"line\">862</div><div class=\"line\">863</div><div class=\"line\">864</div><div class=\"line\">865</div><div class=\"line\">866</div><div class=\"line\">867</div><div class=\"line\">868</div><div class=\"line\">869</div><div class=\"line\">870</div><div class=\"line\">871</div><div class=\"line\">872</div><div class=\"line\">873</div><div class=\"line\">874</div><div class=\"line\">875</div><div class=\"line\">876</div><div class=\"line\">877</div><div class=\"line\">878</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/sh</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># Originally part of vpnc source code:</span></div><div class=\"line\"><span class=\"comment\">#  2005-2012 Maurice Massar, Jrg Mayer, Antonio Borneo et al.</span></div><div class=\"line\"><span class=\"comment\">#  2009-2012 David Woodhouse &lt;dwmw2@infradead.org&gt;</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># This program is free software; you can redistribute it and/or modify</span></div><div class=\"line\"><span class=\"comment\"># it under the terms of the GNU General Public License as published by</span></div><div class=\"line\"><span class=\"comment\"># the Free Software Foundation; either version 2 of the License, or</span></div><div class=\"line\"><span class=\"comment\"># (at your option) any later version.</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># This program is distributed in the hope that it will be useful,</span></div><div class=\"line\"><span class=\"comment\"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class=\"line\"><span class=\"comment\"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class=\"line\"><span class=\"comment\"># GNU General Public License for more details.</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># You should have received a copy of the GNU General Public License</span></div><div class=\"line\"><span class=\"comment\"># along with this program; if not, write to the Free Software</span></div><div class=\"line\"><span class=\"comment\"># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\">################</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># List of parameters passed through environment</span></div><div class=\"line\"><span class=\"comment\">#* reason                       -- why this script was called, one of: pre-init connect disconnect reconnect</span></div><div class=\"line\"><span class=\"comment\">#* VPNGATEWAY                   -- vpn gateway address (always present)</span></div><div class=\"line\"><span class=\"comment\">#* TUNDEV                       -- tunnel device (always present)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_ADDRESS         -- address (always present)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_MTU             -- mtu (often unset)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NETMASK         -- netmask (often unset)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NETMASKLEN      -- netmask length (often unset)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NETADDR         -- address of network (only present if netmask is set)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_DNS             -- list of dns servers</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NBNS            -- list of wins servers</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP6_ADDRESS         -- IPv6 address</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP6_NETMASK         -- IPv6 netmask</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP6_DNS             -- IPv6 list of dns servers</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_DEF_DOMAIN             -- default domain name</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_BANNER                 -- banner from server</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC              -- number of networks in split-network-list</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_ADDR      -- network address</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_MASK      -- subnet mask (for example: 255.255.255.0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_MASKLEN   -- subnet masklen (for example: 24)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_PROTOCOL  -- protocol (often just 0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_SPORT     -- source port (often just 0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_DPORT     -- destination port (often just 0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_IPV6_SPLIT_INC         -- number of networks in IPv6 split-network-list</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_IPV6_SPLIT_INC_%d_ADDR -- IPv6 network address</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_IPV6_SPLIT_INC_$%d_MASKLEN -- IPv6 subnet masklen</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># FIXMEs:</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Section A: route handling</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># 1) The 3 values CISCO_SPLIT_INC_%d_PROTOCOL/SPORT/DPORT are currently being ignored</span></div><div class=\"line\"><span class=\"comment\">#   In order to use them, we'll probably need os specific solutions</span></div><div class=\"line\"><span class=\"comment\">#   * Linux: iptables -t mangle -I PREROUTING &lt;conditions&gt; -j ROUTE --oif $TUNDEV</span></div><div class=\"line\"><span class=\"comment\">#       This would be an *alternative* to changing the routes (and thus 2) and 3)</span></div><div class=\"line\"><span class=\"comment\">#       shouldn't be relevant at all)</span></div><div class=\"line\"><span class=\"comment\"># 2) There are two different functions to set routes: generic routes and the</span></div><div class=\"line\"><span class=\"comment\">#   default route. Why isn't the defaultroute handled via the generic route case?</span></div><div class=\"line\"><span class=\"comment\"># 3) In the split tunnel case, all routes but the default route might get replaced</span></div><div class=\"line\"><span class=\"comment\">#   without getting restored later. We should explicitely check and save them just</span></div><div class=\"line\"><span class=\"comment\">#   like the defaultroute</span></div><div class=\"line\"><span class=\"comment\"># 4) Replies to a dhcp-server should never be sent into the tunnel</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Section B: Split DNS handling</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># 1) Maybe dnsmasq can do something like that</span></div><div class=\"line\"><span class=\"comment\"># 2) Parse dns packets going out via tunnel and redirect them to original dns-server</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#env | sort</span></div><div class=\"line\"><span class=\"comment\">#set -x</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== script (variable) setup ====================================</span></div><div class=\"line\"></div><div class=\"line\">PATH=/sbin:/usr/sbin:<span class=\"variable\">$PATH</span></div><div class=\"line\"></div><div class=\"line\">OS=<span class=\"string\">\"`uname -s`\"</span></div><div class=\"line\"></div><div class=\"line\">HOOKS_DIR=/etc/vpnc</div><div class=\"line\">DEFAULT_ROUTE_FILE=/var/run/vpnc/defaultroute</div><div class=\"line\">RESOLV_CONF_BACKUP=/var/run/vpnc/resolv.conf-backup</div><div class=\"line\">SCRIPTNAME=`basename <span class=\"variable\">$0</span>`</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># some systems, eg. Darwin &amp; FreeBSD, prune /var/run on boot</span></div><div class=\"line\"><span class=\"keyword\">if</span> [ ! -d <span class=\"string\">\"/var/run/vpnc\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\tmkdir -p /var/run/vpnc</div><div class=\"line\">\t[ -x /sbin/restorecon ] &amp;&amp; /sbin/restorecon /var/run/vpnc</div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># stupid SunOS: no blubber in /usr/local/bin ... (on stdout)</span></div><div class=\"line\">IPROUTE=<span class=\"string\">\"`which ip 2&gt; /dev/null | grep '^/'`\"</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> ifconfig --<span class=\"built_in\">help</span> 2&gt;&amp;1 | grep BusyBox &gt; /dev/null; <span class=\"keyword\">then</span></div><div class=\"line\">\tifconfig_syntax_inet=<span class=\"string\">\"\"</span></div><div class=\"line\"><span class=\"keyword\">else</span></div><div class=\"line\">\tifconfig_syntax_inet=<span class=\"string\">\"inet\"</span></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"Linux\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\tifconfig_syntax_ptp=<span class=\"string\">\"pointopoint\"</span></div><div class=\"line\">\troute_syntax_gw=<span class=\"string\">\"gw\"</span></div><div class=\"line\">\troute_syntax_del=<span class=\"string\">\"del\"</span></div><div class=\"line\">\troute_syntax_netmask=<span class=\"string\">\"netmask\"</span></div><div class=\"line\"><span class=\"keyword\">else</span></div><div class=\"line\">\tifconfig_syntax_ptp=<span class=\"string\">\"\"</span></div><div class=\"line\">\troute_syntax_gw=<span class=\"string\">\"\"</span></div><div class=\"line\">\troute_syntax_del=<span class=\"string\">\"delete\"</span></div><div class=\"line\">\troute_syntax_netmask=<span class=\"string\">\"-netmask\"</span></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"SunOS\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\troute_syntax_interface=<span class=\"string\">\"-interface\"</span></div><div class=\"line\">\tifconfig_syntax_ptpv6=<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span></div><div class=\"line\"><span class=\"keyword\">else</span></div><div class=\"line\">\troute_syntax_interface=<span class=\"string\">\"\"</span></div><div class=\"line\">\tifconfig_syntax_ptpv6=<span class=\"string\">\"\"</span></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> [ -r /etc/openwrt_release ] &amp;&amp; [ -n <span class=\"string\">\"<span class=\"variable\">$OPENWRT_INTERFACE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">        . /etc/functions.sh</div><div class=\"line\">\tinclude /lib/network</div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_openwrt</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_openwrt</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /usr/bin/busctl ]; <span class=\"keyword\">then</span>  <span class=\"comment\"># For systemd-resolved (version 229 and above)</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolved_manager</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolved_manager</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /sbin/resolvconf ]; <span class=\"keyword\">then</span> <span class=\"comment\"># Optional tool on Debian, Ubuntu, Gentoo and FreeBSD</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_manager</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_manager</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /sbin/netconfig ]; <span class=\"keyword\">then</span> <span class=\"comment\"># tool on Suse after 11.1</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_suse_netconfig</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_suse_netconfig</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /sbin/modify_resolvconf ]; <span class=\"keyword\">then</span> <span class=\"comment\"># Mandatory tool on Suse earlier than 11.1</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_suse</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_suse</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /usr/sbin/unbound-control ] &amp;&amp; /usr/sbin/unbound-control status &gt; /dev/null 2&gt;&amp;1; <span class=\"keyword\">then</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_unbound</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_unbound</div><div class=\"line\"><span class=\"keyword\">else</span> <span class=\"comment\"># Generic for any OS</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_generic</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_generic</div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== script hooks =================================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">run_hooks</span></span>() &#123;</div><div class=\"line\">\tHOOK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -d <span class=\"variable\">$&#123;HOOKS_DIR&#125;</span>/<span class=\"variable\">$&#123;HOOK&#125;</span>.d ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t    <span class=\"keyword\">for</span> script <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;HOOKS_DIR&#125;</span>/<span class=\"variable\">$&#123;HOOK&#125;</span>.d/* ; <span class=\"keyword\">do</span></div><div class=\"line\">\t\t[ -f <span class=\"variable\">$script</span> ] &amp;&amp; . <span class=\"variable\">$script</span></div><div class=\"line\">\t    <span class=\"keyword\">done</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== tunnel interface handling ====================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">do_ifconfig</span></span>() &#123;</div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_MTU</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tMTU=<span class=\"variable\">$INTERNAL_IP4_MTU</span></div><div class=\"line\">\t<span class=\"keyword\">elif</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tMTUDEV=`<span class=\"variable\">$IPROUTE</span> route get <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> | sed -ne <span class=\"string\">'s/^.*dev \\([a-z0-9]*\\).*$/\\1/p'</span>`</div><div class=\"line\">\t\tMTU=`<span class=\"variable\">$IPROUTE</span> link show <span class=\"string\">\"<span class=\"variable\">$MTUDEV</span>\"</span> | sed -ne <span class=\"string\">'s/^.*mtu \\([[:digit:]]\\+\\).*$/\\1/p'</span>`</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$MTU</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\tMTU=`expr <span class=\"variable\">$MTU</span> - 88`</div><div class=\"line\">\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -z <span class=\"string\">\"<span class=\"variable\">$MTU</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tMTU=1412</div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\"># Point to point interface require a netmask of 255.255.255.255 on some systems</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> link <span class=\"built_in\">set</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> up mtu <span class=\"string\">\"<span class=\"variable\">$MTU</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> addr add <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>/32\"</span> peer <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\tifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> <span class=\"variable\">$&#123;ifconfig_syntax_inet&#125;</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> <span class=\"variable\">$ifconfig_syntax_ptp</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> netmask 255.255.255.255 mtu <span class=\"variable\">$&#123;MTU&#125;</span> up</div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_NETMASK</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tset_network_route <span class=\"variable\">$INTERNAL_IP4_NETADDR</span> <span class=\"variable\">$INTERNAL_IP4_NETMASK</span> <span class=\"variable\">$INTERNAL_IP4_NETMASKLEN</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\"># If the netmask is provided, it contains the address _and_ netmask</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span> ] &amp;&amp; [ -z <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_NETMASK</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t    INTERNAL_IP6_NETMASK=<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>/128\"</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_NETMASK</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t    <span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 addr add <span class=\"variable\">$INTERNAL_IP6_NETMASK</span> dev <span class=\"variable\">$TUNDEV</span></div><div class=\"line\">\t    <span class=\"keyword\">else</span></div><div class=\"line\">\t\t<span class=\"comment\"># Unlike for Legacy IP, we don't specify the dest_address</span></div><div class=\"line\">\t\t<span class=\"comment\"># here on *BSD. OpenBSD for one will refuse to accept</span></div><div class=\"line\">\t\t<span class=\"comment\"># incoming packets to that address if we do.</span></div><div class=\"line\">\t\t<span class=\"comment\"># OpenVPN does the same (gives dest_address for Legacy IP</span></div><div class=\"line\">\t\t<span class=\"comment\"># but not for IPv6).</span></div><div class=\"line\">\t\t<span class=\"comment\"># Only Solaris needs it; hence $ifconfig_syntax_ptpv6</span></div><div class=\"line\">\t        ifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> inet6 <span class=\"variable\">$INTERNAL_IP6_NETMASK</span> <span class=\"variable\">$ifconfig_syntax_ptpv6</span> mtu <span class=\"variable\">$MTU</span> up</div><div class=\"line\">\t    <span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">destroy_tun_device</span></span>() &#123;</div><div class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\tNetBSD|OpenBSD) <span class=\"comment\"># and probably others...</span></div><div class=\"line\">\t\tifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> destroy</div><div class=\"line\">\t\t;;</div><div class=\"line\">\tFreeBSD)</div><div class=\"line\">\t\tifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> destroy &gt; /dev/null 2&gt;&amp;1 &amp;</div><div class=\"line\">\t\t;;</div><div class=\"line\">\t<span class=\"keyword\">esac</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== route handling ====================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">fix_ip_get_output</span></span> () &#123;</div><div class=\"line\">\t\tsed -e <span class=\"string\">'s/ /\\n/g'</span> | \\</div><div class=\"line\">\t\t    sed -ne <span class=\"string\">'1p;/via/&#123;N;p&#125;;/dev/&#123;N;p&#125;;/src/&#123;N;p&#125;;/mtu/&#123;N;p&#125;'</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route add `<span class=\"variable\">$IPROUTE</span> route get <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> | fix_ip_get_output`</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route <span class=\"variable\">$route_syntax_del</span> <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route | grep <span class=\"string\">'^default'</span> | fix_ip_get_output &gt; <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route replace default dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route replace <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> [ -s <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t<span class=\"variable\">$IPROUTE</span> route replace `cat <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span>`</div><div class=\"line\">\t\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t\t\trm -f -- <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route <span class=\"variable\">$route_syntax_del</span> <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"comment\"># We don't save/restore IPv6 default route; just add a higher-priority one.</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route add default dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> metric 1</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route replace <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route del default dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route del <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"><span class=\"keyword\">else</span> <span class=\"comment\"># use route command</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">get_default_gw</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"comment\"># isn't -n supposed to give --numeric output?</span></div><div class=\"line\">\t\t<span class=\"comment\"># apperently not...</span></div><div class=\"line\">\t\t<span class=\"comment\"># Get rid of lines containing IPv6 addresses (':')</span></div><div class=\"line\">\t\tnetstat -r -n | awk <span class=\"string\">'/:/ &#123; next; &#125; /^(default|0\\.0\\.0\\.0)/ &#123; print $2; &#125;'</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\troute add -host <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"`get_default_gw`\"</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -host <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"`get_default_gw`\"</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_default_route</span></span>() &#123;</div><div class=\"line\">\t\tDEFAULTGW=<span class=\"string\">\"`get_default_gw`\"</span></div><div class=\"line\">\t\t<span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$DEFAULTGW</span>\"</span> &gt; <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> default <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$DEFAULTGW</span>\"</span></div><div class=\"line\">\t\troute add default <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\tdel_network_route <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$NETMASKLEN</span>\"</span></div><div class=\"line\">\t\troute add -net <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>\"</span> <span class=\"variable\">$route_syntax_netmask</span> <span class=\"string\">\"<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> [ -s <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\troute <span class=\"variable\">$route_syntax_del</span> default <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"`get_default_gw`\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t\t\troute add default <span class=\"variable\">$route_syntax_gw</span> `cat <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span>`</div><div class=\"line\">\t\t\trm -f -- <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_network_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\tLinux|NetBSD|OpenBSD|Darwin|SunOS) <span class=\"comment\"># and probably others...</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># routes are deleted automatically on device shutdown</span></div><div class=\"line\">\t\t\t<span class=\"built_in\">return</span></div><div class=\"line\">\t\t\t;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -net <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>\"</span> <span class=\"variable\">$route_syntax_netmask</span> <span class=\"string\">\"<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\troute add -inet6 default <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\troute add -inet6 -net <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t\t:</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -inet6 default <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span></div><div class=\"line\">\t\t:</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -inet6 <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span></div><div class=\"line\">\t\t:</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== resolv.conf handling ====================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== resolv.conf handling for any OS =========================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">modify_resolvconf_generic</span></span>() &#123;</div><div class=\"line\">\tgrep <span class=\"string\">'^#@VPNC_GENERATED@'</span> /etc/resolv.conf &gt; /dev/null 2&gt;&amp;1 || cp -- /etc/resolv.conf <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span></div><div class=\"line\">\tNEW_RESOLVCONF=<span class=\"string\">\"#@VPNC_GENERATED@ -- this file is generated by vpnc</span></div><div class=\"line\"><span class=\"string\"># and will be overwritten by vpnc</span></div><div class=\"line\"><span class=\"string\"># as long as the above mark is intact\"</span></div><div class=\"line\"></div><div class=\"line\">\tDOMAINS=<span class=\"string\">\"<span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"built_in\">exec</span> 6&lt; <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> LINE &lt;&amp;6 ; <span class=\"keyword\">do</span></div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$LINE</span>\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># omit; we will overwrite these</span></div><div class=\"line\">\t\t\tnameserver*) ;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># extract listed domains and prepend to list</span></div><div class=\"line\">\t\t\tdomain* | search*) DOMAINS=<span class=\"string\">\"<span class=\"variable\">$&#123;LINE#* &#125;</span> <span class=\"variable\">$DOMAINS</span>\"</span> ;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># retain other lines</span></div><div class=\"line\">\t\t\t*) NEW_RESOLVCONF=<span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\"><span class=\"variable\">$LINE</span>\"</span> ;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t<span class=\"keyword\">done</span></div><div class=\"line\">\t<span class=\"built_in\">exec</span> 6&lt;&amp;-</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; <span class=\"keyword\">do</span></div><div class=\"line\">\t\tNEW_RESOLVCONF=<span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">nameserver <span class=\"variable\">$i</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">done</span></div><div class=\"line\">\t<span class=\"comment\"># note that \"search\" is mutually exclusive with \"domain\";</span></div><div class=\"line\">\t<span class=\"comment\"># \"search\" allows multiple domains to be listed, so use that</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$DOMAINS</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tNEW_RESOLVCONF=<span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">search <span class=\"variable\">$DOMAINS</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span>\"</span> &gt; /etc/resolv.conf</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"Darwin\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"`uname -r`\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># Skip for pre-10.4 systems</span></div><div class=\"line\">\t\t\t4.*|5.*|6.*|7.*)</div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># 10.4 and later require use of scutil for DNS to work properly</span></div><div class=\"line\">\t\t\t*)</div><div class=\"line\">\t\t\t\tOVERRIDE_PRIMARY=<span class=\"string\">\"\"</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$CISCO_SPLIT_INC</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> [ <span class=\"variable\">$CISCO_SPLIT_INC</span> -lt 1 ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t\t<span class=\"comment\"># Must override for correct default route</span></div><div class=\"line\">\t\t\t\t\t\t<span class=\"comment\"># Cannot use multiple DNS matching in this case</span></div><div class=\"line\">\t\t\t\t\t\tOVERRIDE_PRIMARY=<span class=\"string\">'d.add OverridePrimary # 1'</span></div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># Overriding the default gateway breaks split routing</span></div><div class=\"line\">\t\t\t\t\tOVERRIDE_GATEWAY=<span class=\"string\">\"\"</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># Not overriding the default gateway breaks usage of</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># INTERNAL_IP4_DNS. Prepend INTERNAL_IP4_DNS to list</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># of used DNS servers</span></div><div class=\"line\">\t\t\t\t\tSERVICE=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Global/IPv4\"</span> | scutil | grep -oE <span class=\"string\">'[a-fA-F0-9]&#123;8&#125;-([a-fA-F0-9]&#123;4&#125;-)&#123;3&#125;[a-fA-F0-9]&#123;12&#125;'</span>`</div><div class=\"line\">\t\t\t\t\tSERVICE_DNS=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS\"</span> | scutil | grep -oE <span class=\"string\">'([0-9]&#123;1,3&#125;[\\.])&#123;3&#125;[0-9]&#123;1,3&#125;'</span> | xargs`</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> [ X<span class=\"string\">\"<span class=\"variable\">$SERVICE_DNS</span>\"</span> != X<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\t\t\tget State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\td.add ServerAddresses * <span class=\"variable\">$INTERNAL_IP4_DNS</span> <span class=\"variable\">$SERVICE_DNS</span></div><div class=\"line\">\t\t\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># No split routing. Override default gateway</span></div><div class=\"line\">\t\t\t\t\tOVERRIDE_GATEWAY=<span class=\"string\">\"d.add Router <span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># Uncomment the following if/fi pair to use multiple</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># DNS matching when available.  When multiple DNS matching</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># is present, anything reading the /etc/resolv.conf file</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># directly will probably not work as intended.</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\">#if [ -z \"$CISCO_DEF_DOMAIN\" ]; then</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># Cannot use multiple DNS matching without a domain</span></div><div class=\"line\">\t\t\t\t\tOVERRIDE_PRIMARY=<span class=\"string\">'d.add OverridePrimary # 1'</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\">#fi</span></div><div class=\"line\">\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\td.init</div><div class=\"line\">\t\t\t\t\td.add ServerAddresses * <span class=\"variable\">$INTERNAL_IP4_DNS</span></div><div class=\"line\">\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\td.init</div><div class=\"line\">\t\t\t\t\t<span class=\"variable\">$OVERRIDE_GATEWAY</span></div><div class=\"line\">\t\t\t\t\td.add Addresses * <span class=\"variable\">$INTERNAL_IP4_ADDRESS</span></div><div class=\"line\">\t\t\t\t\td.add SubnetMasks * 255.255.255.255</div><div class=\"line\">\t\t\t\t\td.add InterfaceName <span class=\"variable\">$TUNDEV</span></div><div class=\"line\">\t\t\t\t\t<span class=\"variable\">$OVERRIDE_PRIMARY</span></div><div class=\"line\">\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/IPv4</div><div class=\"line\">\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\t\tget State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\t\td.add DomainName <span class=\"variable\">$CISCO_DEF_DOMAIN</span></div><div class=\"line\">\t\t\t\t\t\td.add SearchDomains * <span class=\"variable\">$CISCO_DEF_DOMAIN</span></div><div class=\"line\">\t\t\t\t\t\td.add SupplementalMatchDomains * <span class=\"variable\">$CISCO_DEF_DOMAIN</span></div><div class=\"line\">\t\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">restore_resolvconf_generic</span></span>() &#123;</div><div class=\"line\">\t<span class=\"keyword\">if</span> [ ! -f <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"built_in\">return</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">\tgrep <span class=\"string\">'^#@VPNC_GENERATED@'</span> /etc/resolv.conf &gt; /dev/null 2&gt;&amp;1 &amp;&amp; cat <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span> &gt; /etc/resolv.conf</div><div class=\"line\">\trm -f -- <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"Darwin\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"`uname -r`\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># Skip for pre-10.4 systems</span></div><div class=\"line\">\t\t\t4.*|5.*|6.*|7.*)</div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># 10.4 and later require use of scutil for DNS to work properly</span></div><div class=\"line\">\t\t\t*)</div><div class=\"line\">\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\tremove State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/IPv4</div><div class=\"line\">\t\t\t\t\tremove State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t<span class=\"comment\"># Split routing required prepending of INTERNAL_IP4_DNS</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># to list of used DNS servers</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$CISCO_SPLIT_INC</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\tSERVICE=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Global/IPv4\"</span> | scutil | grep -oE <span class=\"string\">'[a-fA-F0-9]&#123;8&#125;-([a-fA-F0-9]&#123;4&#125;-)&#123;3&#125;[a-fA-F0-9]&#123;12&#125;'</span>`</div><div class=\"line\">\t\t\t\t\tSERVICE_DNS=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS\"</span> | scutil | grep -oE <span class=\"string\">'([0-9]&#123;1,3&#125;[\\.])&#123;3&#125;[0-9]&#123;1,3&#125;'</span> | xargs`</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> [ X<span class=\"string\">\"<span class=\"variable\">$SERVICE_DNS</span>\"</span> != X<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\t\t\tget State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\td.add ServerAddresses * <span class=\"variable\">$&#123;SERVICE_DNS##$INTERNAL_IP4_DNS&#125;</span></div><div class=\"line\">\t\t\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\"># === resolv.conf handling via /sbin/netconfig (Suse 11.1) =====================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Suse provides a script that modifies resolv.conf. Use it because it will</span></div><div class=\"line\"><span class=\"comment\"># restart/reload all other services that care about it (e.g. lwresd).  [unclear if this is still true, but probably --mlk]</span></div><div class=\"line\"></div><div class=\"line\">modify_resolvconf_suse_netconfig()</div><div class=\"line\">&#123;</div><div class=\"line\">\t/sbin/netconfig modify -s vpnc -i <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> &lt;&lt;-EOF</div><div class=\"line\">\t\tINTERFACE=<span class=\"string\">'$TUNDEV'</span></div><div class=\"line\">\t\tDNSSERVERS=<span class=\"string\">'$INTERNAL_IP4_DNS'</span></div><div class=\"line\">\t\tDNSDOMAIN=<span class=\"string\">'$CISCO_DEF_DOMAIN'</span></div><div class=\"line\">\t\tEOF</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\"># Restore resolv.conf to old contents on Suse</span></div><div class=\"line\">restore_resolvconf_suse_netconfig()</div><div class=\"line\">&#123;</div><div class=\"line\">\t/sbin/netconfig remove -s vpnc -i <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># === resolv.conf handling via /sbin/modify_resolvconf (Suse) =====================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Suse provides a script that modifies resolv.conf. Use it because it will</span></div><div class=\"line\"><span class=\"comment\"># restart/reload all other services that care about it (e.g. lwresd).</span></div><div class=\"line\"></div><div class=\"line\">modify_resolvconf_suse()</div><div class=\"line\">&#123;</div><div class=\"line\">\tFULL_SCRIPTNAME=`readlink -f <span class=\"variable\">$0</span>`</div><div class=\"line\">\tRESOLV_OPTS=<span class=\"string\">''</span></div><div class=\"line\">\t<span class=\"built_in\">test</span> -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\"</span> &amp;&amp; RESOLV_OPTS=<span class=\"string\">\"-n \\\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\\\"\"</span></div><div class=\"line\">\t<span class=\"built_in\">test</span> -n <span class=\"string\">\"<span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span> &amp;&amp; RESOLV_OPTS=<span class=\"string\">\"<span class=\"variable\">$RESOLV_OPTS</span> -d <span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span></div><div class=\"line\">\t<span class=\"built_in\">test</span> -n <span class=\"string\">\"<span class=\"variable\">$RESOLV_OPTS</span>\"</span> &amp;&amp; <span class=\"built_in\">eval</span> /sbin/modify_resolvconf modify -s vpnc -p <span class=\"variable\">$SCRIPTNAME</span> -f <span class=\"variable\">$FULL_SCRIPTNAME</span> -e <span class=\"variable\">$TUNDEV</span> <span class=\"variable\">$RESOLV_OPTS</span> -t \\<span class=\"string\">\"This file was created by <span class=\"variable\">$SCRIPTNAME</span>\\\"</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># Restore resolv.conf to old contents on Suse</span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_suse()</span></div><div class=\"line\"><span class=\"string\">&#123;</span></div><div class=\"line\"><span class=\"string\">\tFULL_SCRIPTNAME=`readlink -f <span class=\"variable\">$0</span>`</span></div><div class=\"line\"><span class=\"string\">\t/sbin/modify_resolvconf restore -s vpnc -p <span class=\"variable\">$SCRIPTNAME</span> -f <span class=\"variable\">$FULL_SCRIPTNAME</span> -e <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># === resolv.conf handling via UCI (OpenWRT) =========</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolvconf_openwrt() &#123;</span></div><div class=\"line\"><span class=\"string\">\tadd_dns <span class=\"variable\">$OPENWRT_INTERFACE</span> <span class=\"variable\">$INTERNAL_IP4_DNS</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_openwrt() &#123;</span></div><div class=\"line\"><span class=\"string\">\tremove_dns <span class=\"variable\">$OPENWRT_INTERFACE</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"># === resolv.conf handling via /sbin/resolvconf (Debian, Ubuntu, Gentoo)) =========</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolvconf_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\tNEW_RESOLVCONF=\"</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span>; do</span></div><div class=\"line\"><span class=\"string\">\t\tNEW_RESOLVCONF=\"</span><span class=\"variable\">$NEW_RESOLVCONF</span></div><div class=\"line\">nameserver <span class=\"variable\">$i</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tdone</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tNEW_RESOLVCONF=\"</span><span class=\"variable\">$NEW_RESOLVCONF</span></div><div class=\"line\">domain <span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">\techo \"</span><span class=\"variable\">$NEW_RESOLVCONF</span><span class=\"string\">\" | /sbin/resolvconf -a <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\t/sbin/resolvconf -d <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">AF_INET=2</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">get_if_index() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal link</span></div><div class=\"line\"><span class=\"string\">\tlink=\"</span>$(ip link show dev <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span>)<span class=\"string\">\" || return $?</span></div><div class=\"line\"><span class=\"string\">\techo <span class=\"variable\">$&#123;link&#125;</span> | awk -F: '&#123;print <span class=\"variable\">$1</span>&#125;'</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">busctl_call() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal dest node</span></div><div class=\"line\"><span class=\"string\">\tdest=org.freedesktop.resolve1</span></div><div class=\"line\"><span class=\"string\">\tnode=/org/freedesktop/resolve1</span></div><div class=\"line\"><span class=\"string\">\tbusctl call \"</span><span class=\"variable\">$dest</span><span class=\"string\">\" \"</span><span class=\"variable\">$&#123;node&#125;</span><span class=\"string\">\" \"</span><span class=\"variable\">$&#123;dest&#125;</span>.Manager<span class=\"string\">\" \"</span><span class=\"variable\">$@</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">busctl_set_nameservers() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index addresses args addr</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$1</span></span></div><div class=\"line\"><span class=\"string\">\tshift</span></div><div class=\"line\"><span class=\"string\">\taddresses=\"</span><span class=\"variable\">$@</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\targs=\"</span><span class=\"variable\">$if_index</span> <span class=\"variable\">$#</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfor addr in <span class=\"variable\">$&#123;addresses&#125;</span>; do</span></div><div class=\"line\"><span class=\"string\">\t\targs=\"</span><span class=\"variable\">$args</span> <span class=\"variable\">$&#123;AF_INET&#125;</span> 4 $(<span class=\"built_in\">echo</span> <span class=\"variable\">$addr</span> | sed <span class=\"string\">'s/[.]/ /g'</span>)<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tdone</span></div><div class=\"line\"><span class=\"string\">\tbusctl_call SetLinkDNS 'ia(iay)' <span class=\"variable\">$&#123;args&#125;</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">busctl_set_search() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index domains args domain</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$1</span></span></div><div class=\"line\"><span class=\"string\">\tshift</span></div><div class=\"line\"><span class=\"string\">\tdomains=\"</span><span class=\"variable\">$@</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\targs=\"</span><span class=\"variable\">$if_index</span> <span class=\"variable\">$#</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfor domain in <span class=\"variable\">$&#123;domains&#125;</span>; do</span></div><div class=\"line\"><span class=\"string\">\t\targs=\"</span><span class=\"variable\">$args</span> <span class=\"variable\">$&#123;domain&#125;</span> <span class=\"literal\">false</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tdone</span></div><div class=\"line\"><span class=\"string\">\tbusctl_call SetLinkDomains 'ia(sb)' <span class=\"variable\">$&#123;args&#125;</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolved_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$(get_if_index $TUNDEV)</span></span></div><div class=\"line\"><span class=\"string\">\tbusctl_set_nameservers <span class=\"variable\">$if_index</span> <span class=\"variable\">$INTERNAL_IP4_DNS</span></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tbusctl_set_search <span class=\"variable\">$if_index</span> <span class=\"variable\">$CISCO_DEF_DOMAIN</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolved_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$(get_if_index $TUNDEV)</span></span></div><div class=\"line\"><span class=\"string\">\tbusctl_call RevertLink 'i' <span class=\"variable\">$if_index</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># === resolv.conf handling via unbound =========</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolvconf_unbound() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control forward_add +i <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span> <span class=\"variable\">$&#123;INTERNAL_IP4_DNS&#125;</span></span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_requestlist</span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_zone <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_unbound() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control forward_remove +i <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span></span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_zone <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span></span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_requestlist</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># ========= Toplevel state handling  =======================================</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">kernel_is_2_6_or_above() &#123;</span></div><div class=\"line\"><span class=\"string\">\tcase `uname -r` in</span></div><div class=\"line\"><span class=\"string\">\t\t1.*|2.[012345]*)</span></div><div class=\"line\"><span class=\"string\">\t\t\treturn 1</span></div><div class=\"line\"><span class=\"string\">\t\t\t;;</span></div><div class=\"line\"><span class=\"string\">\t\t*)</span></div><div class=\"line\"><span class=\"string\">\t\t\treturn 0</span></div><div class=\"line\"><span class=\"string\">\t\t\t;;</span></div><div class=\"line\"><span class=\"string\">\tesac</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">do_pre_init() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>Linux<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif (exec 6&lt; /dev/net/tun) &gt; /dev/null 2&gt;&amp;1 ; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t:</span></div><div class=\"line\"><span class=\"string\">\t\telse # can't open /dev/net/tun</span></div><div class=\"line\"><span class=\"string\">\t\t\ttest -e /proc/sys/kernel/modprobe &amp;&amp; `cat /proc/sys/kernel/modprobe` tun 2&gt;/dev/null</span></div><div class=\"line\"><span class=\"string\">\t\t\t# fix for broken devfs in kernel 2.6.x</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ \"</span>`readlink /dev/net/tun`<span class=\"string\">\" = misc/net/tun \\</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t-a ! -e /dev/net/misc/net/tun -a -e /dev/misc/net/tun ] ; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tln -sf /dev/misc/net/tun /dev/net/tun</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\t# make sure tun device exists</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ ! -e /dev/net/tun ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tmkdir -p /dev/net</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tmknod -m 0640 /dev/net/tun c 10 200</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t[ -x /sbin/restorecon ] &amp;&amp; /sbin/restorecon /dev/net/tun</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\t# workaround for a possible latency caused by udev, sleep max. 10s</span></div><div class=\"line\"><span class=\"string\">\t\t\tif kernel_is_2_6_or_above ; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tfor x in `seq 100` ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t\t(exec 6&lt;&gt; /dev/net/tun) &gt; /dev/null 2&gt;&amp;1 &amp;&amp; break;</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t\tsleep 0.1</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>FreeBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif ! kldstat -q -m if_tun &gt; /dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tkldload if_tun</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\t\tif ! ifconfig <span class=\"variable\">$TUNDEV</span> &gt; /dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig <span class=\"variable\">$TUNDEV</span> create</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>GNU/kFreeBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif [ ! -e /dev/tun ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tkldload if_tun</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>NetBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>OpenBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif ! ifconfig <span class=\"variable\">$TUNDEV</span> &gt; /dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig <span class=\"variable\">$TUNDEV</span> create</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>SunOS<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>Darwin<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">do_connect() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_BANNER</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\techo \"</span>Connect Banner:<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\techo \"</span><span class=\"variable\">$CISCO_BANNER</span><span class=\"string\">\" | while read LINE ; do echo \"</span>|<span class=\"string\">\" \"</span><span class=\"variable\">$LINE</span><span class=\"string\">\" ; done</span></div><div class=\"line\"><span class=\"string\">\t\techo</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tset_vpngateway_route</span></div><div class=\"line\"><span class=\"string\">\tdo_ifconfig</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASK&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" != \"</span>0.0.0.0<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\techo \"</span><span class=\"variable\">$i</span><span class=\"string\">\" | grep : &gt;/dev/null || \\</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>255.255.255.255<span class=\"string\">\" \"</span>32<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tset_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ <span class=\"variable\">$NETMASKLEN</span> -lt 128 ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_ipv6_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\tif echo \"</span><span class=\"variable\">$i</span><span class=\"string\">\" | grep : &gt;/dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_ipv6_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" -o -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_DNS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t<span class=\"variable\">$MODIFYRESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">do_disconnect() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASK&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" != \"</span>0.0.0.0<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t# FIXME: This doesn't restore previously overwritten</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t#        routes.</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tdel_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\treset_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\tdel_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>255.255.255.255<span class=\"string\">\" \"</span>32<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telse</span></div><div class=\"line\"><span class=\"string\">\t\treset_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ <span class=\"variable\">$NETMASKLEN</span> -eq 0 ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\treset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tdel_ipv6_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP6_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\tdel_ipv6_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" -o -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\treset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tdel_vpngateway_route</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_DNS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t<span class=\"variable\">$RESTORERESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$IPROUTE</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t<span class=\"variable\">$IPROUTE</span> addr del \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>/255.255.255.255<span class=\"string\">\" peer \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" dev \"</span><span class=\"variable\">$TUNDEV</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t# If the netmask is provided, it contains the address _and_ netmask</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ] &amp;&amp; [ -z \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tINTERNAL_IP6_NETMASK=\"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>/128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t<span class=\"variable\">$IPROUTE</span> -6 addr del <span class=\"variable\">$INTERNAL_IP6_NETMASK</span> dev <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telse</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig \"</span><span class=\"variable\">$TUNDEV</span><span class=\"string\">\" 0.0.0.0</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ] &amp;&amp; [ -z \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tINTERNAL_IP6_NETMASK=\"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>/128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig \"</span><span class=\"variable\">$TUNDEV</span><span class=\"string\">\" inet6 del <span class=\"variable\">$INTERNAL_IP6_NETMASK</span></span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tdestroy_tun_device</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">#### Main</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">if [ -z \"</span><span class=\"variable\">$reason</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\techo \"</span>this script must be called from vpnc<span class=\"string\">\" 1&gt;&amp;2</span></div><div class=\"line\"><span class=\"string\">\texit 1</span></div><div class=\"line\"><span class=\"string\">fi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">case \"</span><span class=\"variable\">$reason</span><span class=\"string\">\" in</span></div><div class=\"line\"><span class=\"string\">\tpre-init)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks pre-init</span></div><div class=\"line\"><span class=\"string\">\t\tdo_pre_init</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\tconnect)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks connect</span></div><div class=\"line\"><span class=\"string\">\t\tdo_connect</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks post-connect</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\tdisconnect)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks disconnect</span></div><div class=\"line\"><span class=\"string\">\t\tdo_disconnect</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks post-disconnect</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\treconnect)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks reconnect</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\t*)</span></div><div class=\"line\"><span class=\"string\">\t\techo \"</span>unknown reason <span class=\"string\">'$reason'</span>. Maybe vpnc-script is out of date<span class=\"string\">\" 1&gt;&amp;2</span></div><div class=\"line\"><span class=\"string\">\t\texit 1</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">esac</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">exit 0</span></div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>AnyConnectVPNWindowsAndroidIOSMacintoshUbuntuWebOSBlackberryAnyConnectionAnyConnectVPN<br>ocservopenconnect </p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>: debian7<br>ocserv: 0.9.2</p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p>ocservGnuTLSSSLlibrary,dev.Debian Stable(2.12.20),ocserv2.15,backports:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">echo &quot;deb http://ftp.debian.org/debian wheezy-backports main contrib non-free&quot; &gt;&gt; /etc/apt/sources.list </div><div class=\"line\">apt-get update</div><div class=\"line\">apt-get upgarde</div><div class=\"line\">apt-get -t wheezy-backports install libgnutls28-dev -y </div><div class=\"line\">apt-get install libgmp3-dev m4 gcc pkg-config make gnutls-bin -y </div><div class=\"line\">apt-get install build-essential libwrap0-dev libpam0g-dev libdbus-1-dev libreadline-dev libnl-route-3-dev libprotobuf-c0-dev libpcl1-dev libopts25-dev autogen libgnutls28-dev libseccomp-dev liblz4-dev -y</div></pre></td></tr></table></figure></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><p>ocservsrc/vpn.h96(ocserv)200(Cisco Anyconnect)</p>\n<blockquote>\n<p># define MAX_CONFIG_ENTRIES 96</p>\n</blockquote>\n<p>Cisco,no-routeroute</p>\n<h2 id=\"3--amp--amp-\"><a href=\"#3--amp--amp-\" class=\"headerlink\" title=\"3. &amp;&amp;\"></a>3. &amp;&amp;</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget ftp://ftp.infradead.org/pub/ocserv/ocserv-0.9.2.tar.xz </div><div class=\"line\">tar Jxvf ocserv-0.9.2.tar.xz </div><div class=\"line\">cd ocserv-0.9.2 </div><div class=\"line\">./configure --prefix=/usr --sysconfdir=/etc </div><div class=\"line\">make </div><div class=\"line\">make install</div></pre></td></tr></table></figure>\n<h2 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h2><h3 id=\"4-1-CA\"><a href=\"#4-1-CA\" class=\"headerlink\" title=\"4.1 CA\"></a>4.1 CA</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-privkey --outfile ca-key.pem</div><div class=\"line\">vim ca.tmpl</div></pre></td></tr></table></figure>\n<blockquote>\n<p>cn = aya<br>organization = aya<br>serial = 1<br>expiration_days = 3650<br>ca<br>signing_key<br>cert_signing_key<br>crl_signing_key  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-self-signed --load-privkey ca-key.pem --template ca.tmpl --outfile ca-cert.pem</div></pre></td></tr></table></figure>\n<h3 id=\"4-2-\"><a href=\"#4-2-\" class=\"headerlink\" title=\"4.2 \"></a>4.2 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-privkey --outfile server-key.pem</div><div class=\"line\">vim server.tmpl</div></pre></td></tr></table></figure>\n<blockquote>\n<p>cn = littleya.com<br>organization = aya<br>serial = 2<br>expiration_days = 3650<br>encryption_key<br>signing_key<br>tls_www_server  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">certtool --generate-certificate --load-privkey server-key.pem --load-ca-certificate ca-cert.pem --load-ca-privkey ca-key.pem --template server.tmpl --outfile server-cert.pem</div></pre></td></tr></table></figure>\n<h3 id=\"4-3-\"><a href=\"#4-3-\" class=\"headerlink\" title=\"4.3 \"></a>4.3 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /etc/ssl </div><div class=\"line\">mkdir /etc/ssl/certs </div><div class=\"line\">mkdir /etc/ssl/private </div><div class=\"line\">cp ca-cert.pem /etc/ssl/certs </div><div class=\"line\">cp ca-key.pem /etc/ssl/private </div><div class=\"line\">cp server-cert.pem /etc/ssl/certs </div><div class=\"line\">cp server-key.pem /etc/ssl/private</div></pre></td></tr></table></figure>\n<h2 id=\"5-\"><a href=\"#5-\" class=\"headerlink\" title=\"5 \"></a>5 </h2><h3 id=\"5-1--etc-ocserv-\"><a href=\"#5-1--etc-ocserv-\" class=\"headerlink\" title=\"5.1  /etc/ocserv \"></a>5.1  <em>/etc/ocserv</em> </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir /etc/ocserv  </div><div class=\"line\">cp ~/ocserv-0.9.2/doc/sample.config /etc/ocserv/ </div><div class=\"line\">cp /etc/ocserv/sample.config /etc/ocserv/ocserv.conf</div></pre></td></tr></table></figure>\n<h3 id=\"5-2-\"><a href=\"#5-2-\" class=\"headerlink\" title=\"5.2 \"></a>5.2 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/ocserv/ocserv.conf</div></pre></td></tr></table></figure>\n<blockquote>\n<p>auth = plain[/etc/ocserv/ocpasswd]<br># ocservocpasswd<br># ocservPluggable Authentication Modules (PAM)radius<br><br></p>\n<p># <br>server-cert = /etc/ssl/certs/server-cert.pem<br>server-key = /etc/ssl/private/server-key.pem<br><br></p>\n<p># if letsencrypt<br># server-cert = /etc/letsencrypt/live/example.com/fullchain.pem<br># server-key = /etc/letsencrypt/live/example.com/privkey.pem<br><br></p>\n<p># <br>max-same-clients = 10<br><br></p>\n<p># <br>run-as-group = nogroup<br><br></p>\n<p># VPNIP<br>ipv4-network = 192.168.1.0<br><br></p>\n<p># DNS<br>dns = 8.8.8.8<br>dns = 8.8.4.4<br><br></p>\n<p># Keepalive in seconds<br>keepalive = 600<br><br></p>\n<p>#Dead peer detection in seconds.<br>dpd = 900<br><br></p>\n<p># Dead peer detection for mobile clients. The needs to<br># be much higher to prevent such clients being awaken too<br># often by the DPD messages, and save battery.<br># (clients that send the X-AnyConnect-Identifier-DeviceType)<br>mobile-dpd = 1800<br><br></p>\n<p>output-buffer = 23000<br>try-mtu-discovery = true<br><br></p>\n<p># The time (in seconds) that a client is allowed to stay idle (no traffic)<br># before being disconnected. Unset to disable.<br>idle-timeout = 3600<br><br></p>\n<p># The time (in seconds) that a mobile client is allowed to stay idle (no traffic) before being disconnected. Unset to disable.<br>mobile-idle-timeout = 3600<br><br></p>\n<p># route VPN <br># route = 192.168.16.0/255.255.255.0<br># route = 192.168.5.0/255.255.255.0</p>\n</blockquote>\n<p>,Github <a href=\"https://github.com/CNMan/ocserv-cn-no-route\" title=\"ocserv-cn-no-route\" target=\"_blank\" rel=\"external\">ocserv-cn-no-route</a> </p>\n<h3 id=\"5-3-\"><a href=\"#5-3-\" class=\"headerlink\" title=\"5.3 \"></a>5.3 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ocpasswd -c /etc/ocserv/ocpasswd user.name</div><div class=\"line\">#user.name</div></pre></td></tr></table></figure>\n<h2 id=\"6-\"><a href=\"#6-\" class=\"headerlink\" title=\"6. \"></a>6. </h2><h3 id=\"6-1-\"><a href=\"#6-1-\" class=\"headerlink\" title=\"6.1 \"></a>6.1 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/sysctl.conf</div></pre></td></tr></table></figure>\n<blockquote>\n<p>net.ipv4.ip_forward = 1</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sysctl -p</div></pre></td></tr></table></figure>\n<h3 id=\"6-2-iptables\"><a href=\"#6-2-iptables\" class=\"headerlink\" title=\"6.2 iptables\"></a>6.2 iptables</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">iptables -t nat -A POSTROUTING -j MASQUERADE </div><div class=\"line\">iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu </div><div class=\"line\"> </div><div class=\"line\">#XEN/KVM,openvz </div><div class=\"line\"> </div><div class=\"line\">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -j SNAT --to-source VPN SERVER&apos;S IP </div><div class=\"line\">iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu </div><div class=\"line\"> </div><div class=\"line\">#mtu</div><div class=\"line\">iptables -A FORWARD -p tcp --syn -s 192.168.1.0/24 -j TCPMSS --set-mss 1356</div></pre></td></tr></table></figure>\n<h3 id=\"6-3-\"><a href=\"#6-3-\" class=\"headerlink\" title=\"6.3 \"></a>6.3 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ocserv -c /etc/ocserv/ocserv.conf -f -d 1</div></pre></td></tr></table></figure>\n<h3 id=\"6-4-\"><a href=\"#6-4-\" class=\"headerlink\" title=\"6.4 \"></a>6.4 </h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vim /etc/rc.local</div></pre></td></tr></table></figure>\n<blockquote>\n<p>iptables -t nat -A POSTROUTING -j MASQUERADE<br>iptables -A FORWARD -p tcp tcp-flags SYN,RST SYN -j TCPMSS clamp-mss-to-pmtu<br><br></p>\n<p>#XEN/KVM,openvz<br><br></p>\n<p>iptables -t nat -A POSTROUTING -s 192.168.110.0/24 -j SNAT to-source VPN SERVERS IP<br>iptables -A FORWARD -p tcp tcp-flags SYN,RST SYN -j TCPMSS clamp-mss-to-pmtu<br><br></p>\n<p>ocserv</p>\n</blockquote>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux:\"></a>Linux:</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">apt-get install -y openconnect expect screen</div><div class=\"line\">vim /usr/local/sbin/ocdo.sh</div></pre></td></tr></table></figure>\n<blockquote>\n<p>#!/usr/bin/expect<br>spawn screen -S ocdo openconnect -u username script=/etc/vpnc/vpnc-script no-dtls vpn.example.com -b<br>expect anything else<br>send yes\\r<br>expect Password:<br>send password\\r<br>interact  </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">echo &quot;/usr/local/sbin/ocdo.sh&quot; &gt;&gt; /rc.local </div><div class=\"line\">mkdir /etc/vpnc &amp;&amp; cd /etc/vpnc </div><div class=\"line\">wget http://git.infradead.org/users/dwmw2/vpnc-scripts.git/blob_plain/HEAD:/vpnc-script</div></pre></td></tr></table></figure>\n<p>vpnc-script:<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div><div class=\"line\">161</div><div class=\"line\">162</div><div class=\"line\">163</div><div class=\"line\">164</div><div class=\"line\">165</div><div class=\"line\">166</div><div class=\"line\">167</div><div class=\"line\">168</div><div class=\"line\">169</div><div class=\"line\">170</div><div class=\"line\">171</div><div class=\"line\">172</div><div class=\"line\">173</div><div class=\"line\">174</div><div class=\"line\">175</div><div class=\"line\">176</div><div class=\"line\">177</div><div class=\"line\">178</div><div class=\"line\">179</div><div class=\"line\">180</div><div class=\"line\">181</div><div class=\"line\">182</div><div class=\"line\">183</div><div class=\"line\">184</div><div class=\"line\">185</div><div class=\"line\">186</div><div class=\"line\">187</div><div class=\"line\">188</div><div class=\"line\">189</div><div class=\"line\">190</div><div class=\"line\">191</div><div class=\"line\">192</div><div class=\"line\">193</div><div class=\"line\">194</div><div class=\"line\">195</div><div class=\"line\">196</div><div class=\"line\">197</div><div class=\"line\">198</div><div class=\"line\">199</div><div class=\"line\">200</div><div class=\"line\">201</div><div class=\"line\">202</div><div class=\"line\">203</div><div class=\"line\">204</div><div class=\"line\">205</div><div class=\"line\">206</div><div class=\"line\">207</div><div class=\"line\">208</div><div class=\"line\">209</div><div class=\"line\">210</div><div class=\"line\">211</div><div class=\"line\">212</div><div class=\"line\">213</div><div class=\"line\">214</div><div class=\"line\">215</div><div class=\"line\">216</div><div class=\"line\">217</div><div class=\"line\">218</div><div class=\"line\">219</div><div class=\"line\">220</div><div class=\"line\">221</div><div class=\"line\">222</div><div class=\"line\">223</div><div class=\"line\">224</div><div class=\"line\">225</div><div class=\"line\">226</div><div class=\"line\">227</div><div class=\"line\">228</div><div class=\"line\">229</div><div class=\"line\">230</div><div class=\"line\">231</div><div class=\"line\">232</div><div class=\"line\">233</div><div class=\"line\">234</div><div class=\"line\">235</div><div class=\"line\">236</div><div class=\"line\">237</div><div class=\"line\">238</div><div class=\"line\">239</div><div class=\"line\">240</div><div class=\"line\">241</div><div class=\"line\">242</div><div class=\"line\">243</div><div class=\"line\">244</div><div class=\"line\">245</div><div class=\"line\">246</div><div class=\"line\">247</div><div class=\"line\">248</div><div class=\"line\">249</div><div class=\"line\">250</div><div class=\"line\">251</div><div class=\"line\">252</div><div class=\"line\">253</div><div class=\"line\">254</div><div class=\"line\">255</div><div class=\"line\">256</div><div class=\"line\">257</div><div class=\"line\">258</div><div class=\"line\">259</div><div class=\"line\">260</div><div class=\"line\">261</div><div class=\"line\">262</div><div class=\"line\">263</div><div class=\"line\">264</div><div class=\"line\">265</div><div class=\"line\">266</div><div class=\"line\">267</div><div class=\"line\">268</div><div class=\"line\">269</div><div class=\"line\">270</div><div class=\"line\">271</div><div class=\"line\">272</div><div class=\"line\">273</div><div class=\"line\">274</div><div class=\"line\">275</div><div class=\"line\">276</div><div class=\"line\">277</div><div class=\"line\">278</div><div class=\"line\">279</div><div class=\"line\">280</div><div class=\"line\">281</div><div class=\"line\">282</div><div class=\"line\">283</div><div class=\"line\">284</div><div class=\"line\">285</div><div class=\"line\">286</div><div class=\"line\">287</div><div class=\"line\">288</div><div class=\"line\">289</div><div class=\"line\">290</div><div class=\"line\">291</div><div class=\"line\">292</div><div class=\"line\">293</div><div class=\"line\">294</div><div class=\"line\">295</div><div class=\"line\">296</div><div class=\"line\">297</div><div class=\"line\">298</div><div class=\"line\">299</div><div class=\"line\">300</div><div class=\"line\">301</div><div class=\"line\">302</div><div class=\"line\">303</div><div class=\"line\">304</div><div class=\"line\">305</div><div class=\"line\">306</div><div class=\"line\">307</div><div class=\"line\">308</div><div class=\"line\">309</div><div class=\"line\">310</div><div class=\"line\">311</div><div class=\"line\">312</div><div class=\"line\">313</div><div class=\"line\">314</div><div class=\"line\">315</div><div class=\"line\">316</div><div class=\"line\">317</div><div class=\"line\">318</div><div class=\"line\">319</div><div class=\"line\">320</div><div class=\"line\">321</div><div class=\"line\">322</div><div class=\"line\">323</div><div class=\"line\">324</div><div class=\"line\">325</div><div class=\"line\">326</div><div class=\"line\">327</div><div class=\"line\">328</div><div class=\"line\">329</div><div class=\"line\">330</div><div class=\"line\">331</div><div class=\"line\">332</div><div class=\"line\">333</div><div class=\"line\">334</div><div class=\"line\">335</div><div class=\"line\">336</div><div class=\"line\">337</div><div class=\"line\">338</div><div class=\"line\">339</div><div class=\"line\">340</div><div class=\"line\">341</div><div class=\"line\">342</div><div class=\"line\">343</div><div class=\"line\">344</div><div class=\"line\">345</div><div class=\"line\">346</div><div class=\"line\">347</div><div class=\"line\">348</div><div class=\"line\">349</div><div class=\"line\">350</div><div class=\"line\">351</div><div class=\"line\">352</div><div class=\"line\">353</div><div class=\"line\">354</div><div class=\"line\">355</div><div class=\"line\">356</div><div class=\"line\">357</div><div class=\"line\">358</div><div class=\"line\">359</div><div class=\"line\">360</div><div class=\"line\">361</div><div class=\"line\">362</div><div class=\"line\">363</div><div class=\"line\">364</div><div class=\"line\">365</div><div class=\"line\">366</div><div class=\"line\">367</div><div class=\"line\">368</div><div class=\"line\">369</div><div class=\"line\">370</div><div class=\"line\">371</div><div class=\"line\">372</div><div class=\"line\">373</div><div class=\"line\">374</div><div class=\"line\">375</div><div class=\"line\">376</div><div class=\"line\">377</div><div class=\"line\">378</div><div class=\"line\">379</div><div class=\"line\">380</div><div class=\"line\">381</div><div class=\"line\">382</div><div class=\"line\">383</div><div class=\"line\">384</div><div class=\"line\">385</div><div class=\"line\">386</div><div class=\"line\">387</div><div class=\"line\">388</div><div class=\"line\">389</div><div class=\"line\">390</div><div class=\"line\">391</div><div class=\"line\">392</div><div class=\"line\">393</div><div class=\"line\">394</div><div class=\"line\">395</div><div class=\"line\">396</div><div class=\"line\">397</div><div class=\"line\">398</div><div class=\"line\">399</div><div class=\"line\">400</div><div class=\"line\">401</div><div class=\"line\">402</div><div class=\"line\">403</div><div class=\"line\">404</div><div class=\"line\">405</div><div class=\"line\">406</div><div class=\"line\">407</div><div class=\"line\">408</div><div class=\"line\">409</div><div class=\"line\">410</div><div class=\"line\">411</div><div class=\"line\">412</div><div class=\"line\">413</div><div class=\"line\">414</div><div class=\"line\">415</div><div class=\"line\">416</div><div class=\"line\">417</div><div class=\"line\">418</div><div class=\"line\">419</div><div class=\"line\">420</div><div class=\"line\">421</div><div class=\"line\">422</div><div class=\"line\">423</div><div class=\"line\">424</div><div class=\"line\">425</div><div class=\"line\">426</div><div class=\"line\">427</div><div class=\"line\">428</div><div class=\"line\">429</div><div class=\"line\">430</div><div class=\"line\">431</div><div class=\"line\">432</div><div class=\"line\">433</div><div class=\"line\">434</div><div class=\"line\">435</div><div class=\"line\">436</div><div class=\"line\">437</div><div class=\"line\">438</div><div class=\"line\">439</div><div class=\"line\">440</div><div class=\"line\">441</div><div class=\"line\">442</div><div class=\"line\">443</div><div class=\"line\">444</div><div class=\"line\">445</div><div class=\"line\">446</div><div class=\"line\">447</div><div class=\"line\">448</div><div class=\"line\">449</div><div class=\"line\">450</div><div class=\"line\">451</div><div class=\"line\">452</div><div class=\"line\">453</div><div class=\"line\">454</div><div class=\"line\">455</div><div class=\"line\">456</div><div class=\"line\">457</div><div class=\"line\">458</div><div class=\"line\">459</div><div class=\"line\">460</div><div class=\"line\">461</div><div class=\"line\">462</div><div class=\"line\">463</div><div class=\"line\">464</div><div class=\"line\">465</div><div class=\"line\">466</div><div class=\"line\">467</div><div class=\"line\">468</div><div class=\"line\">469</div><div class=\"line\">470</div><div class=\"line\">471</div><div class=\"line\">472</div><div class=\"line\">473</div><div class=\"line\">474</div><div class=\"line\">475</div><div class=\"line\">476</div><div class=\"line\">477</div><div class=\"line\">478</div><div class=\"line\">479</div><div class=\"line\">480</div><div class=\"line\">481</div><div class=\"line\">482</div><div class=\"line\">483</div><div class=\"line\">484</div><div class=\"line\">485</div><div class=\"line\">486</div><div class=\"line\">487</div><div class=\"line\">488</div><div class=\"line\">489</div><div class=\"line\">490</div><div class=\"line\">491</div><div class=\"line\">492</div><div class=\"line\">493</div><div class=\"line\">494</div><div class=\"line\">495</div><div class=\"line\">496</div><div class=\"line\">497</div><div class=\"line\">498</div><div class=\"line\">499</div><div class=\"line\">500</div><div class=\"line\">501</div><div class=\"line\">502</div><div class=\"line\">503</div><div class=\"line\">504</div><div class=\"line\">505</div><div class=\"line\">506</div><div class=\"line\">507</div><div class=\"line\">508</div><div class=\"line\">509</div><div class=\"line\">510</div><div class=\"line\">511</div><div class=\"line\">512</div><div class=\"line\">513</div><div class=\"line\">514</div><div class=\"line\">515</div><div class=\"line\">516</div><div class=\"line\">517</div><div class=\"line\">518</div><div class=\"line\">519</div><div class=\"line\">520</div><div class=\"line\">521</div><div class=\"line\">522</div><div class=\"line\">523</div><div class=\"line\">524</div><div class=\"line\">525</div><div class=\"line\">526</div><div class=\"line\">527</div><div class=\"line\">528</div><div class=\"line\">529</div><div class=\"line\">530</div><div class=\"line\">531</div><div class=\"line\">532</div><div class=\"line\">533</div><div class=\"line\">534</div><div class=\"line\">535</div><div class=\"line\">536</div><div class=\"line\">537</div><div class=\"line\">538</div><div class=\"line\">539</div><div class=\"line\">540</div><div class=\"line\">541</div><div class=\"line\">542</div><div class=\"line\">543</div><div class=\"line\">544</div><div class=\"line\">545</div><div class=\"line\">546</div><div class=\"line\">547</div><div class=\"line\">548</div><div class=\"line\">549</div><div class=\"line\">550</div><div class=\"line\">551</div><div class=\"line\">552</div><div class=\"line\">553</div><div class=\"line\">554</div><div class=\"line\">555</div><div class=\"line\">556</div><div class=\"line\">557</div><div class=\"line\">558</div><div class=\"line\">559</div><div class=\"line\">560</div><div class=\"line\">561</div><div class=\"line\">562</div><div class=\"line\">563</div><div class=\"line\">564</div><div class=\"line\">565</div><div class=\"line\">566</div><div class=\"line\">567</div><div class=\"line\">568</div><div class=\"line\">569</div><div class=\"line\">570</div><div class=\"line\">571</div><div class=\"line\">572</div><div class=\"line\">573</div><div class=\"line\">574</div><div class=\"line\">575</div><div class=\"line\">576</div><div class=\"line\">577</div><div class=\"line\">578</div><div class=\"line\">579</div><div class=\"line\">580</div><div class=\"line\">581</div><div class=\"line\">582</div><div class=\"line\">583</div><div class=\"line\">584</div><div class=\"line\">585</div><div class=\"line\">586</div><div class=\"line\">587</div><div class=\"line\">588</div><div class=\"line\">589</div><div class=\"line\">590</div><div class=\"line\">591</div><div class=\"line\">592</div><div class=\"line\">593</div><div class=\"line\">594</div><div class=\"line\">595</div><div class=\"line\">596</div><div class=\"line\">597</div><div class=\"line\">598</div><div class=\"line\">599</div><div class=\"line\">600</div><div class=\"line\">601</div><div class=\"line\">602</div><div class=\"line\">603</div><div class=\"line\">604</div><div class=\"line\">605</div><div class=\"line\">606</div><div class=\"line\">607</div><div class=\"line\">608</div><div class=\"line\">609</div><div class=\"line\">610</div><div class=\"line\">611</div><div class=\"line\">612</div><div class=\"line\">613</div><div class=\"line\">614</div><div class=\"line\">615</div><div class=\"line\">616</div><div class=\"line\">617</div><div class=\"line\">618</div><div class=\"line\">619</div><div class=\"line\">620</div><div class=\"line\">621</div><div class=\"line\">622</div><div class=\"line\">623</div><div class=\"line\">624</div><div class=\"line\">625</div><div class=\"line\">626</div><div class=\"line\">627</div><div class=\"line\">628</div><div class=\"line\">629</div><div class=\"line\">630</div><div class=\"line\">631</div><div class=\"line\">632</div><div class=\"line\">633</div><div class=\"line\">634</div><div class=\"line\">635</div><div class=\"line\">636</div><div class=\"line\">637</div><div class=\"line\">638</div><div class=\"line\">639</div><div class=\"line\">640</div><div class=\"line\">641</div><div class=\"line\">642</div><div class=\"line\">643</div><div class=\"line\">644</div><div class=\"line\">645</div><div class=\"line\">646</div><div class=\"line\">647</div><div class=\"line\">648</div><div class=\"line\">649</div><div class=\"line\">650</div><div class=\"line\">651</div><div class=\"line\">652</div><div class=\"line\">653</div><div class=\"line\">654</div><div class=\"line\">655</div><div class=\"line\">656</div><div class=\"line\">657</div><div class=\"line\">658</div><div class=\"line\">659</div><div class=\"line\">660</div><div class=\"line\">661</div><div class=\"line\">662</div><div class=\"line\">663</div><div class=\"line\">664</div><div class=\"line\">665</div><div class=\"line\">666</div><div class=\"line\">667</div><div class=\"line\">668</div><div class=\"line\">669</div><div class=\"line\">670</div><div class=\"line\">671</div><div class=\"line\">672</div><div class=\"line\">673</div><div class=\"line\">674</div><div class=\"line\">675</div><div class=\"line\">676</div><div class=\"line\">677</div><div class=\"line\">678</div><div class=\"line\">679</div><div class=\"line\">680</div><div class=\"line\">681</div><div class=\"line\">682</div><div class=\"line\">683</div><div class=\"line\">684</div><div class=\"line\">685</div><div class=\"line\">686</div><div class=\"line\">687</div><div class=\"line\">688</div><div class=\"line\">689</div><div class=\"line\">690</div><div class=\"line\">691</div><div class=\"line\">692</div><div class=\"line\">693</div><div class=\"line\">694</div><div class=\"line\">695</div><div class=\"line\">696</div><div class=\"line\">697</div><div class=\"line\">698</div><div class=\"line\">699</div><div class=\"line\">700</div><div class=\"line\">701</div><div class=\"line\">702</div><div class=\"line\">703</div><div class=\"line\">704</div><div class=\"line\">705</div><div class=\"line\">706</div><div class=\"line\">707</div><div class=\"line\">708</div><div class=\"line\">709</div><div class=\"line\">710</div><div class=\"line\">711</div><div class=\"line\">712</div><div class=\"line\">713</div><div class=\"line\">714</div><div class=\"line\">715</div><div class=\"line\">716</div><div class=\"line\">717</div><div class=\"line\">718</div><div class=\"line\">719</div><div class=\"line\">720</div><div class=\"line\">721</div><div class=\"line\">722</div><div class=\"line\">723</div><div class=\"line\">724</div><div class=\"line\">725</div><div class=\"line\">726</div><div class=\"line\">727</div><div class=\"line\">728</div><div class=\"line\">729</div><div class=\"line\">730</div><div class=\"line\">731</div><div class=\"line\">732</div><div class=\"line\">733</div><div class=\"line\">734</div><div class=\"line\">735</div><div class=\"line\">736</div><div class=\"line\">737</div><div class=\"line\">738</div><div class=\"line\">739</div><div class=\"line\">740</div><div class=\"line\">741</div><div class=\"line\">742</div><div class=\"line\">743</div><div class=\"line\">744</div><div class=\"line\">745</div><div class=\"line\">746</div><div class=\"line\">747</div><div class=\"line\">748</div><div class=\"line\">749</div><div class=\"line\">750</div><div class=\"line\">751</div><div class=\"line\">752</div><div class=\"line\">753</div><div class=\"line\">754</div><div class=\"line\">755</div><div class=\"line\">756</div><div class=\"line\">757</div><div class=\"line\">758</div><div class=\"line\">759</div><div class=\"line\">760</div><div class=\"line\">761</div><div class=\"line\">762</div><div class=\"line\">763</div><div class=\"line\">764</div><div class=\"line\">765</div><div class=\"line\">766</div><div class=\"line\">767</div><div class=\"line\">768</div><div class=\"line\">769</div><div class=\"line\">770</div><div class=\"line\">771</div><div class=\"line\">772</div><div class=\"line\">773</div><div class=\"line\">774</div><div class=\"line\">775</div><div class=\"line\">776</div><div class=\"line\">777</div><div class=\"line\">778</div><div class=\"line\">779</div><div class=\"line\">780</div><div class=\"line\">781</div><div class=\"line\">782</div><div class=\"line\">783</div><div class=\"line\">784</div><div class=\"line\">785</div><div class=\"line\">786</div><div class=\"line\">787</div><div class=\"line\">788</div><div class=\"line\">789</div><div class=\"line\">790</div><div class=\"line\">791</div><div class=\"line\">792</div><div class=\"line\">793</div><div class=\"line\">794</div><div class=\"line\">795</div><div class=\"line\">796</div><div class=\"line\">797</div><div class=\"line\">798</div><div class=\"line\">799</div><div class=\"line\">800</div><div class=\"line\">801</div><div class=\"line\">802</div><div class=\"line\">803</div><div class=\"line\">804</div><div class=\"line\">805</div><div class=\"line\">806</div><div class=\"line\">807</div><div class=\"line\">808</div><div class=\"line\">809</div><div class=\"line\">810</div><div class=\"line\">811</div><div class=\"line\">812</div><div class=\"line\">813</div><div class=\"line\">814</div><div class=\"line\">815</div><div class=\"line\">816</div><div class=\"line\">817</div><div class=\"line\">818</div><div class=\"line\">819</div><div class=\"line\">820</div><div class=\"line\">821</div><div class=\"line\">822</div><div class=\"line\">823</div><div class=\"line\">824</div><div class=\"line\">825</div><div class=\"line\">826</div><div class=\"line\">827</div><div class=\"line\">828</div><div class=\"line\">829</div><div class=\"line\">830</div><div class=\"line\">831</div><div class=\"line\">832</div><div class=\"line\">833</div><div class=\"line\">834</div><div class=\"line\">835</div><div class=\"line\">836</div><div class=\"line\">837</div><div class=\"line\">838</div><div class=\"line\">839</div><div class=\"line\">840</div><div class=\"line\">841</div><div class=\"line\">842</div><div class=\"line\">843</div><div class=\"line\">844</div><div class=\"line\">845</div><div class=\"line\">846</div><div class=\"line\">847</div><div class=\"line\">848</div><div class=\"line\">849</div><div class=\"line\">850</div><div class=\"line\">851</div><div class=\"line\">852</div><div class=\"line\">853</div><div class=\"line\">854</div><div class=\"line\">855</div><div class=\"line\">856</div><div class=\"line\">857</div><div class=\"line\">858</div><div class=\"line\">859</div><div class=\"line\">860</div><div class=\"line\">861</div><div class=\"line\">862</div><div class=\"line\">863</div><div class=\"line\">864</div><div class=\"line\">865</div><div class=\"line\">866</div><div class=\"line\">867</div><div class=\"line\">868</div><div class=\"line\">869</div><div class=\"line\">870</div><div class=\"line\">871</div><div class=\"line\">872</div><div class=\"line\">873</div><div class=\"line\">874</div><div class=\"line\">875</div><div class=\"line\">876</div><div class=\"line\">877</div><div class=\"line\">878</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/sh</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># Originally part of vpnc source code:</span></div><div class=\"line\"><span class=\"comment\">#  2005-2012 Maurice Massar, Jrg Mayer, Antonio Borneo et al.</span></div><div class=\"line\"><span class=\"comment\">#  2009-2012 David Woodhouse &lt;dwmw2@infradead.org&gt;</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># This program is free software; you can redistribute it and/or modify</span></div><div class=\"line\"><span class=\"comment\"># it under the terms of the GNU General Public License as published by</span></div><div class=\"line\"><span class=\"comment\"># the Free Software Foundation; either version 2 of the License, or</span></div><div class=\"line\"><span class=\"comment\"># (at your option) any later version.</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># This program is distributed in the hope that it will be useful,</span></div><div class=\"line\"><span class=\"comment\"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class=\"line\"><span class=\"comment\"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class=\"line\"><span class=\"comment\"># GNU General Public License for more details.</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># You should have received a copy of the GNU General Public License</span></div><div class=\"line\"><span class=\"comment\"># along with this program; if not, write to the Free Software</span></div><div class=\"line\"><span class=\"comment\"># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\">################</span></div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"><span class=\"comment\"># List of parameters passed through environment</span></div><div class=\"line\"><span class=\"comment\">#* reason                       -- why this script was called, one of: pre-init connect disconnect reconnect</span></div><div class=\"line\"><span class=\"comment\">#* VPNGATEWAY                   -- vpn gateway address (always present)</span></div><div class=\"line\"><span class=\"comment\">#* TUNDEV                       -- tunnel device (always present)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_ADDRESS         -- address (always present)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_MTU             -- mtu (often unset)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NETMASK         -- netmask (often unset)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NETMASKLEN      -- netmask length (often unset)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NETADDR         -- address of network (only present if netmask is set)</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_DNS             -- list of dns servers</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP4_NBNS            -- list of wins servers</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP6_ADDRESS         -- IPv6 address</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP6_NETMASK         -- IPv6 netmask</span></div><div class=\"line\"><span class=\"comment\">#* INTERNAL_IP6_DNS             -- IPv6 list of dns servers</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_DEF_DOMAIN             -- default domain name</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_BANNER                 -- banner from server</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC              -- number of networks in split-network-list</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_ADDR      -- network address</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_MASK      -- subnet mask (for example: 255.255.255.0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_MASKLEN   -- subnet masklen (for example: 24)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_PROTOCOL  -- protocol (often just 0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_SPORT     -- source port (often just 0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_SPLIT_INC_%d_DPORT     -- destination port (often just 0)</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_IPV6_SPLIT_INC         -- number of networks in IPv6 split-network-list</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_IPV6_SPLIT_INC_%d_ADDR -- IPv6 network address</span></div><div class=\"line\"><span class=\"comment\">#* CISCO_IPV6_SPLIT_INC_$%d_MASKLEN -- IPv6 subnet masklen</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># FIXMEs:</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Section A: route handling</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># 1) The 3 values CISCO_SPLIT_INC_%d_PROTOCOL/SPORT/DPORT are currently being ignored</span></div><div class=\"line\"><span class=\"comment\">#   In order to use them, we'll probably need os specific solutions</span></div><div class=\"line\"><span class=\"comment\">#   * Linux: iptables -t mangle -I PREROUTING &lt;conditions&gt; -j ROUTE --oif $TUNDEV</span></div><div class=\"line\"><span class=\"comment\">#       This would be an *alternative* to changing the routes (and thus 2) and 3)</span></div><div class=\"line\"><span class=\"comment\">#       shouldn't be relevant at all)</span></div><div class=\"line\"><span class=\"comment\"># 2) There are two different functions to set routes: generic routes and the</span></div><div class=\"line\"><span class=\"comment\">#   default route. Why isn't the defaultroute handled via the generic route case?</span></div><div class=\"line\"><span class=\"comment\"># 3) In the split tunnel case, all routes but the default route might get replaced</span></div><div class=\"line\"><span class=\"comment\">#   without getting restored later. We should explicitely check and save them just</span></div><div class=\"line\"><span class=\"comment\">#   like the defaultroute</span></div><div class=\"line\"><span class=\"comment\"># 4) Replies to a dhcp-server should never be sent into the tunnel</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Section B: Split DNS handling</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># 1) Maybe dnsmasq can do something like that</span></div><div class=\"line\"><span class=\"comment\"># 2) Parse dns packets going out via tunnel and redirect them to original dns-server</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#env | sort</span></div><div class=\"line\"><span class=\"comment\">#set -x</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== script (variable) setup ====================================</span></div><div class=\"line\"></div><div class=\"line\">PATH=/sbin:/usr/sbin:<span class=\"variable\">$PATH</span></div><div class=\"line\"></div><div class=\"line\">OS=<span class=\"string\">\"`uname -s`\"</span></div><div class=\"line\"></div><div class=\"line\">HOOKS_DIR=/etc/vpnc</div><div class=\"line\">DEFAULT_ROUTE_FILE=/var/run/vpnc/defaultroute</div><div class=\"line\">RESOLV_CONF_BACKUP=/var/run/vpnc/resolv.conf-backup</div><div class=\"line\">SCRIPTNAME=`basename <span class=\"variable\">$0</span>`</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># some systems, eg. Darwin &amp; FreeBSD, prune /var/run on boot</span></div><div class=\"line\"><span class=\"keyword\">if</span> [ ! -d <span class=\"string\">\"/var/run/vpnc\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\tmkdir -p /var/run/vpnc</div><div class=\"line\">\t[ -x /sbin/restorecon ] &amp;&amp; /sbin/restorecon /var/run/vpnc</div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># stupid SunOS: no blubber in /usr/local/bin ... (on stdout)</span></div><div class=\"line\">IPROUTE=<span class=\"string\">\"`which ip 2&gt; /dev/null | grep '^/'`\"</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> ifconfig --<span class=\"built_in\">help</span> 2&gt;&amp;1 | grep BusyBox &gt; /dev/null; <span class=\"keyword\">then</span></div><div class=\"line\">\tifconfig_syntax_inet=<span class=\"string\">\"\"</span></div><div class=\"line\"><span class=\"keyword\">else</span></div><div class=\"line\">\tifconfig_syntax_inet=<span class=\"string\">\"inet\"</span></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"Linux\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\tifconfig_syntax_ptp=<span class=\"string\">\"pointopoint\"</span></div><div class=\"line\">\troute_syntax_gw=<span class=\"string\">\"gw\"</span></div><div class=\"line\">\troute_syntax_del=<span class=\"string\">\"del\"</span></div><div class=\"line\">\troute_syntax_netmask=<span class=\"string\">\"netmask\"</span></div><div class=\"line\"><span class=\"keyword\">else</span></div><div class=\"line\">\tifconfig_syntax_ptp=<span class=\"string\">\"\"</span></div><div class=\"line\">\troute_syntax_gw=<span class=\"string\">\"\"</span></div><div class=\"line\">\troute_syntax_del=<span class=\"string\">\"delete\"</span></div><div class=\"line\">\troute_syntax_netmask=<span class=\"string\">\"-netmask\"</span></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"SunOS\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\troute_syntax_interface=<span class=\"string\">\"-interface\"</span></div><div class=\"line\">\tifconfig_syntax_ptpv6=<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span></div><div class=\"line\"><span class=\"keyword\">else</span></div><div class=\"line\">\troute_syntax_interface=<span class=\"string\">\"\"</span></div><div class=\"line\">\tifconfig_syntax_ptpv6=<span class=\"string\">\"\"</span></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> [ -r /etc/openwrt_release ] &amp;&amp; [ -n <span class=\"string\">\"<span class=\"variable\">$OPENWRT_INTERFACE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">        . /etc/functions.sh</div><div class=\"line\">\tinclude /lib/network</div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_openwrt</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_openwrt</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /usr/bin/busctl ]; <span class=\"keyword\">then</span>  <span class=\"comment\"># For systemd-resolved (version 229 and above)</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolved_manager</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolved_manager</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /sbin/resolvconf ]; <span class=\"keyword\">then</span> <span class=\"comment\"># Optional tool on Debian, Ubuntu, Gentoo and FreeBSD</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_manager</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_manager</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /sbin/netconfig ]; <span class=\"keyword\">then</span> <span class=\"comment\"># tool on Suse after 11.1</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_suse_netconfig</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_suse_netconfig</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /sbin/modify_resolvconf ]; <span class=\"keyword\">then</span> <span class=\"comment\"># Mandatory tool on Suse earlier than 11.1</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_suse</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_suse</div><div class=\"line\"><span class=\"keyword\">elif</span> [ -x /usr/sbin/unbound-control ] &amp;&amp; /usr/sbin/unbound-control status &gt; /dev/null 2&gt;&amp;1; <span class=\"keyword\">then</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_unbound</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_unbound</div><div class=\"line\"><span class=\"keyword\">else</span> <span class=\"comment\"># Generic for any OS</span></div><div class=\"line\">\tMODIFYRESOLVCONF=modify_resolvconf_generic</div><div class=\"line\">\tRESTORERESOLVCONF=restore_resolvconf_generic</div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== script hooks =================================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">run_hooks</span></span>() &#123;</div><div class=\"line\">\tHOOK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -d <span class=\"variable\">$&#123;HOOKS_DIR&#125;</span>/<span class=\"variable\">$&#123;HOOK&#125;</span>.d ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t    <span class=\"keyword\">for</span> script <span class=\"keyword\">in</span> <span class=\"variable\">$&#123;HOOKS_DIR&#125;</span>/<span class=\"variable\">$&#123;HOOK&#125;</span>.d/* ; <span class=\"keyword\">do</span></div><div class=\"line\">\t\t[ -f <span class=\"variable\">$script</span> ] &amp;&amp; . <span class=\"variable\">$script</span></div><div class=\"line\">\t    <span class=\"keyword\">done</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== tunnel interface handling ====================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">do_ifconfig</span></span>() &#123;</div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_MTU</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tMTU=<span class=\"variable\">$INTERNAL_IP4_MTU</span></div><div class=\"line\">\t<span class=\"keyword\">elif</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tMTUDEV=`<span class=\"variable\">$IPROUTE</span> route get <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> | sed -ne <span class=\"string\">'s/^.*dev \\([a-z0-9]*\\).*$/\\1/p'</span>`</div><div class=\"line\">\t\tMTU=`<span class=\"variable\">$IPROUTE</span> link show <span class=\"string\">\"<span class=\"variable\">$MTUDEV</span>\"</span> | sed -ne <span class=\"string\">'s/^.*mtu \\([[:digit:]]\\+\\).*$/\\1/p'</span>`</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$MTU</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\tMTU=`expr <span class=\"variable\">$MTU</span> - 88`</div><div class=\"line\">\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -z <span class=\"string\">\"<span class=\"variable\">$MTU</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tMTU=1412</div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\"># Point to point interface require a netmask of 255.255.255.255 on some systems</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> link <span class=\"built_in\">set</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> up mtu <span class=\"string\">\"<span class=\"variable\">$MTU</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> addr add <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>/32\"</span> peer <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\tifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> <span class=\"variable\">$&#123;ifconfig_syntax_inet&#125;</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> <span class=\"variable\">$ifconfig_syntax_ptp</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> netmask 255.255.255.255 mtu <span class=\"variable\">$&#123;MTU&#125;</span> up</div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_NETMASK</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tset_network_route <span class=\"variable\">$INTERNAL_IP4_NETADDR</span> <span class=\"variable\">$INTERNAL_IP4_NETMASK</span> <span class=\"variable\">$INTERNAL_IP4_NETMASKLEN</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"comment\"># If the netmask is provided, it contains the address _and_ netmask</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span> ] &amp;&amp; [ -z <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_NETMASK</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t    INTERNAL_IP6_NETMASK=<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>/128\"</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_NETMASK</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t    <span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 addr add <span class=\"variable\">$INTERNAL_IP6_NETMASK</span> dev <span class=\"variable\">$TUNDEV</span></div><div class=\"line\">\t    <span class=\"keyword\">else</span></div><div class=\"line\">\t\t<span class=\"comment\"># Unlike for Legacy IP, we don't specify the dest_address</span></div><div class=\"line\">\t\t<span class=\"comment\"># here on *BSD. OpenBSD for one will refuse to accept</span></div><div class=\"line\">\t\t<span class=\"comment\"># incoming packets to that address if we do.</span></div><div class=\"line\">\t\t<span class=\"comment\"># OpenVPN does the same (gives dest_address for Legacy IP</span></div><div class=\"line\">\t\t<span class=\"comment\"># but not for IPv6).</span></div><div class=\"line\">\t\t<span class=\"comment\"># Only Solaris needs it; hence $ifconfig_syntax_ptpv6</span></div><div class=\"line\">\t        ifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> inet6 <span class=\"variable\">$INTERNAL_IP6_NETMASK</span> <span class=\"variable\">$ifconfig_syntax_ptpv6</span> mtu <span class=\"variable\">$MTU</span> up</div><div class=\"line\">\t    <span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">destroy_tun_device</span></span>() &#123;</div><div class=\"line\">\t<span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\tNetBSD|OpenBSD) <span class=\"comment\"># and probably others...</span></div><div class=\"line\">\t\tifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> destroy</div><div class=\"line\">\t\t;;</div><div class=\"line\">\tFreeBSD)</div><div class=\"line\">\t\tifconfig <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> destroy &gt; /dev/null 2&gt;&amp;1 &amp;</div><div class=\"line\">\t\t;;</div><div class=\"line\">\t<span class=\"keyword\">esac</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== route handling ====================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$IPROUTE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">fix_ip_get_output</span></span> () &#123;</div><div class=\"line\">\t\tsed -e <span class=\"string\">'s/ /\\n/g'</span> | \\</div><div class=\"line\">\t\t    sed -ne <span class=\"string\">'1p;/via/&#123;N;p&#125;;/dev/&#123;N;p&#125;;/src/&#123;N;p&#125;;/mtu/&#123;N;p&#125;'</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route add `<span class=\"variable\">$IPROUTE</span> route get <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> | fix_ip_get_output`</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route <span class=\"variable\">$route_syntax_del</span> <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route | grep <span class=\"string\">'^default'</span> | fix_ip_get_output &gt; <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route replace default dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route replace <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> [ -s <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t<span class=\"variable\">$IPROUTE</span> route replace `cat <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span>`</div><div class=\"line\">\t\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t\t\trm -f -- <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route <span class=\"variable\">$route_syntax_del</span> <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"comment\"># We don't save/restore IPv6 default route; just add a higher-priority one.</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route add default dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> metric 1</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route replace <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route del default dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route del <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASKLEN</span>\"</span> dev <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">\t\t<span class=\"variable\">$IPROUTE</span> -6 route flush cache</div><div class=\"line\">\t&#125;</div><div class=\"line\"><span class=\"keyword\">else</span> <span class=\"comment\"># use route command</span></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">get_default_gw</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"comment\"># isn't -n supposed to give --numeric output?</span></div><div class=\"line\">\t\t<span class=\"comment\"># apperently not...</span></div><div class=\"line\">\t\t<span class=\"comment\"># Get rid of lines containing IPv6 addresses (':')</span></div><div class=\"line\">\t\tnetstat -r -n | awk <span class=\"string\">'/:/ &#123; next; &#125; /^(default|0\\.0\\.0\\.0)/ &#123; print $2; &#125;'</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\troute add -host <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"`get_default_gw`\"</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_vpngateway_route</span></span>() &#123;</div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -host <span class=\"string\">\"<span class=\"variable\">$VPNGATEWAY</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"`get_default_gw`\"</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_default_route</span></span>() &#123;</div><div class=\"line\">\t\tDEFAULTGW=<span class=\"string\">\"`get_default_gw`\"</span></div><div class=\"line\">\t\t<span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$DEFAULTGW</span>\"</span> &gt; <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> default <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$DEFAULTGW</span>\"</span></div><div class=\"line\">\t\troute add default <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\tdel_network_route <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$NETMASKLEN</span>\"</span></div><div class=\"line\">\t\troute add -net <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>\"</span> <span class=\"variable\">$route_syntax_netmask</span> <span class=\"string\">\"<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_default_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">if</span> [ -s <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\troute <span class=\"variable\">$route_syntax_del</span> default <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"`get_default_gw`\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t\t\troute add default <span class=\"variable\">$route_syntax_gw</span> `cat <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span>`</div><div class=\"line\">\t\t\trm -f -- <span class=\"string\">\"<span class=\"variable\">$DEFAULT_ROUTE_FILE</span>\"</span></div><div class=\"line\">\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_network_route</span></span>() &#123;</div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\tLinux|NetBSD|OpenBSD|Darwin|SunOS) <span class=\"comment\"># and probably others...</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># routes are deleted automatically on device shutdown</span></div><div class=\"line\">\t\t\t<span class=\"built_in\">return</span></div><div class=\"line\">\t\t\t;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\tNETMASKLEN=<span class=\"string\">\"<span class=\"variable\">$3</span>\"</span></div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -net <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>\"</span> <span class=\"variable\">$route_syntax_netmask</span> <span class=\"string\">\"<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"variable\">$route_syntax_gw</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\troute add -inet6 default <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">set_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\troute add -inet6 -net <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span> <span class=\"variable\">$route_syntax_interface</span></div><div class=\"line\">\t\t:</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">reset_ipv6_default_route</span></span>() &#123;</div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -inet6 default <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span></div><div class=\"line\">\t\t:</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"function\"><span class=\"title\">del_ipv6_network_route</span></span>() &#123;</div><div class=\"line\">\t\tNETWORK=<span class=\"string\">\"<span class=\"variable\">$1</span>\"</span></div><div class=\"line\">\t\tNETMASK=<span class=\"string\">\"<span class=\"variable\">$2</span>\"</span></div><div class=\"line\">\t\troute <span class=\"variable\">$route_syntax_del</span> -inet6 <span class=\"string\">\"<span class=\"variable\">$NETWORK</span>/<span class=\"variable\">$NETMASK</span>\"</span> <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>\"</span></div><div class=\"line\">\t\t:</div><div class=\"line\">\t&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">fi</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== resolv.conf handling ====================================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># =========== resolv.conf handling for any OS =========================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">modify_resolvconf_generic</span></span>() &#123;</div><div class=\"line\">\tgrep <span class=\"string\">'^#@VPNC_GENERATED@'</span> /etc/resolv.conf &gt; /dev/null 2&gt;&amp;1 || cp -- /etc/resolv.conf <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span></div><div class=\"line\">\tNEW_RESOLVCONF=<span class=\"string\">\"#@VPNC_GENERATED@ -- this file is generated by vpnc</span></div><div class=\"line\"><span class=\"string\"># and will be overwritten by vpnc</span></div><div class=\"line\"><span class=\"string\"># as long as the above mark is intact\"</span></div><div class=\"line\"></div><div class=\"line\">\tDOMAINS=<span class=\"string\">\"<span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"built_in\">exec</span> 6&lt; <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">while</span> <span class=\"built_in\">read</span> LINE &lt;&amp;6 ; <span class=\"keyword\">do</span></div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$LINE</span>\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># omit; we will overwrite these</span></div><div class=\"line\">\t\t\tnameserver*) ;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># extract listed domains and prepend to list</span></div><div class=\"line\">\t\t\tdomain* | search*) DOMAINS=<span class=\"string\">\"<span class=\"variable\">$&#123;LINE#* &#125;</span> <span class=\"variable\">$DOMAINS</span>\"</span> ;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># retain other lines</span></div><div class=\"line\">\t\t\t*) NEW_RESOLVCONF=<span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\"><span class=\"variable\">$LINE</span>\"</span> ;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t<span class=\"keyword\">done</span></div><div class=\"line\">\t<span class=\"built_in\">exec</span> 6&lt;&amp;-</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; <span class=\"keyword\">do</span></div><div class=\"line\">\t\tNEW_RESOLVCONF=<span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">nameserver <span class=\"variable\">$i</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">done</span></div><div class=\"line\">\t<span class=\"comment\"># note that \"search\" is mutually exclusive with \"domain\";</span></div><div class=\"line\">\t<span class=\"comment\"># \"search\" allows multiple domains to be listed, so use that</span></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$DOMAINS</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\tNEW_RESOLVCONF=<span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">search <span class=\"variable\">$DOMAINS</span>\"</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t<span class=\"built_in\">echo</span> <span class=\"string\">\"<span class=\"variable\">$NEW_RESOLVCONF</span>\"</span> &gt; /etc/resolv.conf</div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"Darwin\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"`uname -r`\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># Skip for pre-10.4 systems</span></div><div class=\"line\">\t\t\t4.*|5.*|6.*|7.*)</div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># 10.4 and later require use of scutil for DNS to work properly</span></div><div class=\"line\">\t\t\t*)</div><div class=\"line\">\t\t\t\tOVERRIDE_PRIMARY=<span class=\"string\">\"\"</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$CISCO_SPLIT_INC</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> [ <span class=\"variable\">$CISCO_SPLIT_INC</span> -lt 1 ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t\t<span class=\"comment\"># Must override for correct default route</span></div><div class=\"line\">\t\t\t\t\t\t<span class=\"comment\"># Cannot use multiple DNS matching in this case</span></div><div class=\"line\">\t\t\t\t\t\tOVERRIDE_PRIMARY=<span class=\"string\">'d.add OverridePrimary # 1'</span></div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># Overriding the default gateway breaks split routing</span></div><div class=\"line\">\t\t\t\t\tOVERRIDE_GATEWAY=<span class=\"string\">\"\"</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># Not overriding the default gateway breaks usage of</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># INTERNAL_IP4_DNS. Prepend INTERNAL_IP4_DNS to list</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># of used DNS servers</span></div><div class=\"line\">\t\t\t\t\tSERVICE=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Global/IPv4\"</span> | scutil | grep -oE <span class=\"string\">'[a-fA-F0-9]&#123;8&#125;-([a-fA-F0-9]&#123;4&#125;-)&#123;3&#125;[a-fA-F0-9]&#123;12&#125;'</span>`</div><div class=\"line\">\t\t\t\t\tSERVICE_DNS=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS\"</span> | scutil | grep -oE <span class=\"string\">'([0-9]&#123;1,3&#125;[\\.])&#123;3&#125;[0-9]&#123;1,3&#125;'</span> | xargs`</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> [ X<span class=\"string\">\"<span class=\"variable\">$SERVICE_DNS</span>\"</span> != X<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\t\t\tget State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\td.add ServerAddresses * <span class=\"variable\">$INTERNAL_IP4_DNS</span> <span class=\"variable\">$SERVICE_DNS</span></div><div class=\"line\">\t\t\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">else</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># No split routing. Override default gateway</span></div><div class=\"line\">\t\t\t\t\tOVERRIDE_GATEWAY=<span class=\"string\">\"d.add Router <span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>\"</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># Uncomment the following if/fi pair to use multiple</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># DNS matching when available.  When multiple DNS matching</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># is present, anything reading the /etc/resolv.conf file</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># directly will probably not work as intended.</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\">#if [ -z \"$CISCO_DEF_DOMAIN\" ]; then</span></div><div class=\"line\">\t\t\t\t\t<span class=\"comment\"># Cannot use multiple DNS matching without a domain</span></div><div class=\"line\">\t\t\t\t\tOVERRIDE_PRIMARY=<span class=\"string\">'d.add OverridePrimary # 1'</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\">#fi</span></div><div class=\"line\">\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\td.init</div><div class=\"line\">\t\t\t\t\td.add ServerAddresses * <span class=\"variable\">$INTERNAL_IP4_DNS</span></div><div class=\"line\">\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\td.init</div><div class=\"line\">\t\t\t\t\t<span class=\"variable\">$OVERRIDE_GATEWAY</span></div><div class=\"line\">\t\t\t\t\td.add Addresses * <span class=\"variable\">$INTERNAL_IP4_ADDRESS</span></div><div class=\"line\">\t\t\t\t\td.add SubnetMasks * 255.255.255.255</div><div class=\"line\">\t\t\t\t\td.add InterfaceName <span class=\"variable\">$TUNDEV</span></div><div class=\"line\">\t\t\t\t\t<span class=\"variable\">$OVERRIDE_PRIMARY</span></div><div class=\"line\">\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/IPv4</div><div class=\"line\">\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\t\tget State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\t\td.add DomainName <span class=\"variable\">$CISCO_DEF_DOMAIN</span></div><div class=\"line\">\t\t\t\t\t\td.add SearchDomains * <span class=\"variable\">$CISCO_DEF_DOMAIN</span></div><div class=\"line\">\t\t\t\t\t\td.add SupplementalMatchDomains * <span class=\"variable\">$CISCO_DEF_DOMAIN</span></div><div class=\"line\">\t\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"title\">restore_resolvconf_generic</span></span>() &#123;</div><div class=\"line\">\t<span class=\"keyword\">if</span> [ ! -f <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"built_in\">return</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">\tgrep <span class=\"string\">'^#@VPNC_GENERATED@'</span> /etc/resolv.conf &gt; /dev/null 2&gt;&amp;1 &amp;&amp; cat <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span> &gt; /etc/resolv.conf</div><div class=\"line\">\trm -f -- <span class=\"string\">\"<span class=\"variable\">$RESOLV_CONF_BACKUP</span>\"</span></div><div class=\"line\"></div><div class=\"line\">\t<span class=\"keyword\">if</span> [ <span class=\"string\">\"<span class=\"variable\">$OS</span>\"</span> = <span class=\"string\">\"Darwin\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">\"`uname -r`\"</span> <span class=\"keyword\">in</span></div><div class=\"line\">\t\t\t<span class=\"comment\"># Skip for pre-10.4 systems</span></div><div class=\"line\">\t\t\t4.*|5.*|6.*|7.*)</div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t\t<span class=\"comment\"># 10.4 and later require use of scutil for DNS to work properly</span></div><div class=\"line\">\t\t\t*)</div><div class=\"line\">\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\tremove State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/IPv4</div><div class=\"line\">\t\t\t\t\tremove State:/Network/Service/<span class=\"variable\">$TUNDEV</span>/DNS</div><div class=\"line\">\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t<span class=\"comment\"># Split routing required prepending of INTERNAL_IP4_DNS</span></div><div class=\"line\">\t\t\t\t<span class=\"comment\"># to list of used DNS servers</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">if</span> [ -n <span class=\"string\">\"<span class=\"variable\">$CISCO_SPLIT_INC</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\tSERVICE=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Global/IPv4\"</span> | scutil | grep -oE <span class=\"string\">'[a-fA-F0-9]&#123;8&#125;-([a-fA-F0-9]&#123;4&#125;-)&#123;3&#125;[a-fA-F0-9]&#123;12&#125;'</span>`</div><div class=\"line\">\t\t\t\t\tSERVICE_DNS=`<span class=\"built_in\">echo</span> <span class=\"string\">\"show State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS\"</span> | scutil | grep -oE <span class=\"string\">'([0-9]&#123;1,3&#125;[\\.])&#123;3&#125;[0-9]&#123;1,3&#125;'</span> | xargs`</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> [ X<span class=\"string\">\"<span class=\"variable\">$SERVICE_DNS</span>\"</span> != X<span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\"</span> ]; <span class=\"keyword\">then</span></div><div class=\"line\">\t\t\t\t\t\tscutil &gt;/dev/null 2&gt;&amp;1 &lt;&lt;-EOF</div><div class=\"line\">\t\t\t\t\t\t\topen</div><div class=\"line\">\t\t\t\t\t\t\tget State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\td.add ServerAddresses * <span class=\"variable\">$&#123;SERVICE_DNS##$INTERNAL_IP4_DNS&#125;</span></div><div class=\"line\">\t\t\t\t\t\t\t<span class=\"built_in\">set</span> State:/Network/Service/<span class=\"variable\">$SERVICE</span>/DNS</div><div class=\"line\">\t\t\t\t\t\t\tclose</div><div class=\"line\">\t\t\t\t\t\tEOF</div><div class=\"line\">\t\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t<span class=\"keyword\">fi</span></div><div class=\"line\">\t\t\t\t;;</div><div class=\"line\">\t\t<span class=\"keyword\">esac</span></div><div class=\"line\">\t<span class=\"keyword\">fi</span></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\"># === resolv.conf handling via /sbin/netconfig (Suse 11.1) =====================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Suse provides a script that modifies resolv.conf. Use it because it will</span></div><div class=\"line\"><span class=\"comment\"># restart/reload all other services that care about it (e.g. lwresd).  [unclear if this is still true, but probably --mlk]</span></div><div class=\"line\"></div><div class=\"line\">modify_resolvconf_suse_netconfig()</div><div class=\"line\">&#123;</div><div class=\"line\">\t/sbin/netconfig modify -s vpnc -i <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span> &lt;&lt;-EOF</div><div class=\"line\">\t\tINTERFACE=<span class=\"string\">'$TUNDEV'</span></div><div class=\"line\">\t\tDNSSERVERS=<span class=\"string\">'$INTERNAL_IP4_DNS'</span></div><div class=\"line\">\t\tDNSDOMAIN=<span class=\"string\">'$CISCO_DEF_DOMAIN'</span></div><div class=\"line\">\t\tEOF</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\"># Restore resolv.conf to old contents on Suse</span></div><div class=\"line\">restore_resolvconf_suse_netconfig()</div><div class=\"line\">&#123;</div><div class=\"line\">\t/sbin/netconfig remove -s vpnc -i <span class=\"string\">\"<span class=\"variable\">$TUNDEV</span>\"</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># === resolv.conf handling via /sbin/modify_resolvconf (Suse) =====================</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Suse provides a script that modifies resolv.conf. Use it because it will</span></div><div class=\"line\"><span class=\"comment\"># restart/reload all other services that care about it (e.g. lwresd).</span></div><div class=\"line\"></div><div class=\"line\">modify_resolvconf_suse()</div><div class=\"line\">&#123;</div><div class=\"line\">\tFULL_SCRIPTNAME=`readlink -f <span class=\"variable\">$0</span>`</div><div class=\"line\">\tRESOLV_OPTS=<span class=\"string\">''</span></div><div class=\"line\">\t<span class=\"built_in\">test</span> -n <span class=\"string\">\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\"</span> &amp;&amp; RESOLV_OPTS=<span class=\"string\">\"-n \\\"<span class=\"variable\">$INTERNAL_IP4_DNS</span>\\\"\"</span></div><div class=\"line\">\t<span class=\"built_in\">test</span> -n <span class=\"string\">\"<span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span> &amp;&amp; RESOLV_OPTS=<span class=\"string\">\"<span class=\"variable\">$RESOLV_OPTS</span> -d <span class=\"variable\">$CISCO_DEF_DOMAIN</span>\"</span></div><div class=\"line\">\t<span class=\"built_in\">test</span> -n <span class=\"string\">\"<span class=\"variable\">$RESOLV_OPTS</span>\"</span> &amp;&amp; <span class=\"built_in\">eval</span> /sbin/modify_resolvconf modify -s vpnc -p <span class=\"variable\">$SCRIPTNAME</span> -f <span class=\"variable\">$FULL_SCRIPTNAME</span> -e <span class=\"variable\">$TUNDEV</span> <span class=\"variable\">$RESOLV_OPTS</span> -t \\<span class=\"string\">\"This file was created by <span class=\"variable\">$SCRIPTNAME</span>\\\"</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># Restore resolv.conf to old contents on Suse</span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_suse()</span></div><div class=\"line\"><span class=\"string\">&#123;</span></div><div class=\"line\"><span class=\"string\">\tFULL_SCRIPTNAME=`readlink -f <span class=\"variable\">$0</span>`</span></div><div class=\"line\"><span class=\"string\">\t/sbin/modify_resolvconf restore -s vpnc -p <span class=\"variable\">$SCRIPTNAME</span> -f <span class=\"variable\">$FULL_SCRIPTNAME</span> -e <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># === resolv.conf handling via UCI (OpenWRT) =========</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolvconf_openwrt() &#123;</span></div><div class=\"line\"><span class=\"string\">\tadd_dns <span class=\"variable\">$OPENWRT_INTERFACE</span> <span class=\"variable\">$INTERNAL_IP4_DNS</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_openwrt() &#123;</span></div><div class=\"line\"><span class=\"string\">\tremove_dns <span class=\"variable\">$OPENWRT_INTERFACE</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"># === resolv.conf handling via /sbin/resolvconf (Debian, Ubuntu, Gentoo)) =========</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolvconf_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\tNEW_RESOLVCONF=\"</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span>; do</span></div><div class=\"line\"><span class=\"string\">\t\tNEW_RESOLVCONF=\"</span><span class=\"variable\">$NEW_RESOLVCONF</span></div><div class=\"line\">nameserver <span class=\"variable\">$i</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tdone</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tNEW_RESOLVCONF=\"</span><span class=\"variable\">$NEW_RESOLVCONF</span></div><div class=\"line\">domain <span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">\techo \"</span><span class=\"variable\">$NEW_RESOLVCONF</span><span class=\"string\">\" | /sbin/resolvconf -a <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\t/sbin/resolvconf -d <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">AF_INET=2</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">get_if_index() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal link</span></div><div class=\"line\"><span class=\"string\">\tlink=\"</span>$(ip link show dev <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span>)<span class=\"string\">\" || return $?</span></div><div class=\"line\"><span class=\"string\">\techo <span class=\"variable\">$&#123;link&#125;</span> | awk -F: '&#123;print <span class=\"variable\">$1</span>&#125;'</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">busctl_call() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal dest node</span></div><div class=\"line\"><span class=\"string\">\tdest=org.freedesktop.resolve1</span></div><div class=\"line\"><span class=\"string\">\tnode=/org/freedesktop/resolve1</span></div><div class=\"line\"><span class=\"string\">\tbusctl call \"</span><span class=\"variable\">$dest</span><span class=\"string\">\" \"</span><span class=\"variable\">$&#123;node&#125;</span><span class=\"string\">\" \"</span><span class=\"variable\">$&#123;dest&#125;</span>.Manager<span class=\"string\">\" \"</span><span class=\"variable\">$@</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">busctl_set_nameservers() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index addresses args addr</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$1</span></span></div><div class=\"line\"><span class=\"string\">\tshift</span></div><div class=\"line\"><span class=\"string\">\taddresses=\"</span><span class=\"variable\">$@</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\targs=\"</span><span class=\"variable\">$if_index</span> <span class=\"variable\">$#</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfor addr in <span class=\"variable\">$&#123;addresses&#125;</span>; do</span></div><div class=\"line\"><span class=\"string\">\t\targs=\"</span><span class=\"variable\">$args</span> <span class=\"variable\">$&#123;AF_INET&#125;</span> 4 $(<span class=\"built_in\">echo</span> <span class=\"variable\">$addr</span> | sed <span class=\"string\">'s/[.]/ /g'</span>)<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tdone</span></div><div class=\"line\"><span class=\"string\">\tbusctl_call SetLinkDNS 'ia(iay)' <span class=\"variable\">$&#123;args&#125;</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">busctl_set_search() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index domains args domain</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$1</span></span></div><div class=\"line\"><span class=\"string\">\tshift</span></div><div class=\"line\"><span class=\"string\">\tdomains=\"</span><span class=\"variable\">$@</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\targs=\"</span><span class=\"variable\">$if_index</span> <span class=\"variable\">$#</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tfor domain in <span class=\"variable\">$&#123;domains&#125;</span>; do</span></div><div class=\"line\"><span class=\"string\">\t\targs=\"</span><span class=\"variable\">$args</span> <span class=\"variable\">$&#123;domain&#125;</span> <span class=\"literal\">false</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\tdone</span></div><div class=\"line\"><span class=\"string\">\tbusctl_call SetLinkDomains 'ia(sb)' <span class=\"variable\">$&#123;args&#125;</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolved_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$(get_if_index $TUNDEV)</span></span></div><div class=\"line\"><span class=\"string\">\tbusctl_set_nameservers <span class=\"variable\">$if_index</span> <span class=\"variable\">$INTERNAL_IP4_DNS</span></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tbusctl_set_search <span class=\"variable\">$if_index</span> <span class=\"variable\">$CISCO_DEF_DOMAIN</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolved_manager() &#123;</span></div><div class=\"line\"><span class=\"string\">\tlocal if_index</span></div><div class=\"line\"><span class=\"string\">\tif_index=<span class=\"variable\">$(get_if_index $TUNDEV)</span></span></div><div class=\"line\"><span class=\"string\">\tbusctl_call RevertLink 'i' <span class=\"variable\">$if_index</span></span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># === resolv.conf handling via unbound =========</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">modify_resolvconf_unbound() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control forward_add +i <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span> <span class=\"variable\">$&#123;INTERNAL_IP4_DNS&#125;</span></span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_requestlist</span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_zone <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">restore_resolvconf_unbound() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_DEF_DOMAIN</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control forward_remove +i <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span></span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_zone <span class=\"variable\">$&#123;CISCO_DEF_DOMAIN&#125;</span></span></div><div class=\"line\"><span class=\"string\">\t\t/usr/sbin/unbound-control flush_requestlist</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"># ========= Toplevel state handling  =======================================</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">kernel_is_2_6_or_above() &#123;</span></div><div class=\"line\"><span class=\"string\">\tcase `uname -r` in</span></div><div class=\"line\"><span class=\"string\">\t\t1.*|2.[012345]*)</span></div><div class=\"line\"><span class=\"string\">\t\t\treturn 1</span></div><div class=\"line\"><span class=\"string\">\t\t\t;;</span></div><div class=\"line\"><span class=\"string\">\t\t*)</span></div><div class=\"line\"><span class=\"string\">\t\t\treturn 0</span></div><div class=\"line\"><span class=\"string\">\t\t\t;;</span></div><div class=\"line\"><span class=\"string\">\tesac</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">do_pre_init() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>Linux<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif (exec 6&lt; /dev/net/tun) &gt; /dev/null 2&gt;&amp;1 ; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t:</span></div><div class=\"line\"><span class=\"string\">\t\telse # can't open /dev/net/tun</span></div><div class=\"line\"><span class=\"string\">\t\t\ttest -e /proc/sys/kernel/modprobe &amp;&amp; `cat /proc/sys/kernel/modprobe` tun 2&gt;/dev/null</span></div><div class=\"line\"><span class=\"string\">\t\t\t# fix for broken devfs in kernel 2.6.x</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ \"</span>`readlink /dev/net/tun`<span class=\"string\">\" = misc/net/tun \\</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t-a ! -e /dev/net/misc/net/tun -a -e /dev/misc/net/tun ] ; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tln -sf /dev/misc/net/tun /dev/net/tun</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\t# make sure tun device exists</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ ! -e /dev/net/tun ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tmkdir -p /dev/net</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tmknod -m 0640 /dev/net/tun c 10 200</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t[ -x /sbin/restorecon ] &amp;&amp; /sbin/restorecon /dev/net/tun</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\t# workaround for a possible latency caused by udev, sleep max. 10s</span></div><div class=\"line\"><span class=\"string\">\t\t\tif kernel_is_2_6_or_above ; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tfor x in `seq 100` ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t\t(exec 6&lt;&gt; /dev/net/tun) &gt; /dev/null 2&gt;&amp;1 &amp;&amp; break;</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t\tsleep 0.1</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>FreeBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif ! kldstat -q -m if_tun &gt; /dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tkldload if_tun</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\t\tif ! ifconfig <span class=\"variable\">$TUNDEV</span> &gt; /dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig <span class=\"variable\">$TUNDEV</span> create</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>GNU/kFreeBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif [ ! -e /dev/tun ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tkldload if_tun</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>NetBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>OpenBSD<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif ! ifconfig <span class=\"variable\">$TUNDEV</span> &gt; /dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig <span class=\"variable\">$TUNDEV</span> create</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>SunOS<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\telif [ \"</span><span class=\"variable\">$OS</span><span class=\"string\">\" = \"</span>Darwin<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t:</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">do_connect() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_BANNER</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\techo \"</span>Connect Banner:<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\techo \"</span><span class=\"variable\">$CISCO_BANNER</span><span class=\"string\">\" | while read LINE ; do echo \"</span>|<span class=\"string\">\" \"</span><span class=\"variable\">$LINE</span><span class=\"string\">\" ; done</span></div><div class=\"line\"><span class=\"string\">\t\techo</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tset_vpngateway_route</span></div><div class=\"line\"><span class=\"string\">\tdo_ifconfig</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASK&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" != \"</span>0.0.0.0<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\techo \"</span><span class=\"variable\">$i</span><span class=\"string\">\" | grep : &gt;/dev/null || \\</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>255.255.255.255<span class=\"string\">\" \"</span>32<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tset_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ <span class=\"variable\">$NETMASKLEN</span> -lt 128 ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_ipv6_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\tif echo \"</span><span class=\"variable\">$i</span><span class=\"string\">\" | grep : &gt;/dev/null; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tset_ipv6_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" -o -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_DNS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t<span class=\"variable\">$MODIFYRESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">do_disconnect() &#123;</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASK=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASK&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" != \"</span>0.0.0.0<span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t# FIXME: This doesn't restore previously overwritten</span></div><div class=\"line\"><span class=\"string\">\t\t\t\t#        routes.</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tdel_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\treset_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP4_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\tdel_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>255.255.255.255<span class=\"string\">\" \"</span>32<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telse</span></div><div class=\"line\"><span class=\"string\">\t\treset_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\ti=0</span></div><div class=\"line\"><span class=\"string\">\t\twhile [ <span class=\"variable\">$i</span> -lt <span class=\"variable\">$CISCO_IPV6_SPLIT_INC</span> ] ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETWORK=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_ADDR&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\teval NETMASKLEN=\"</span>\\<span class=\"variable\">$&#123;CISCO_IPV6_SPLIT_INC_$&#123;i&#125;</span>_MASKLEN&#125;<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tif [ <span class=\"variable\">$NETMASKLEN</span> -eq 0 ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t\treset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\t\t\telse</span></div><div class=\"line\"><span class=\"string\">\t\t\t\tdel_ipv6_network_route \"</span><span class=\"variable\">$NETWORK</span><span class=\"string\">\" \"</span><span class=\"variable\">$NETMASKLEN</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t\ti=`expr <span class=\"variable\">$i</span> + 1`</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\t\tfor i in <span class=\"variable\">$INTERNAL_IP6_DNS</span> ; do</span></div><div class=\"line\"><span class=\"string\">\t\t\tdel_ipv6_network_route \"</span><span class=\"variable\">$i</span><span class=\"string\">\" \"</span>128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tdone</span></div><div class=\"line\"><span class=\"string\">\telif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" -o -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\treset_ipv6_default_route</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tdel_vpngateway_route</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_DNS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t<span class=\"variable\">$RESTORERESOLVCONF</span></span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tif [ -n \"</span><span class=\"variable\">$IPROUTE</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t<span class=\"variable\">$IPROUTE</span> addr del \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span>/255.255.255.255<span class=\"string\">\" peer \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" dev \"</span><span class=\"variable\">$TUNDEV</span><span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\t# If the netmask is provided, it contains the address _and_ netmask</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ] &amp;&amp; [ -z \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tINTERNAL_IP6_NETMASK=\"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>/128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\t<span class=\"variable\">$IPROUTE</span> -6 addr del <span class=\"variable\">$INTERNAL_IP6_NETMASK</span> dev <span class=\"variable\">$TUNDEV</span></span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\telse</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP4_ADDRESS</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig \"</span><span class=\"variable\">$TUNDEV</span><span class=\"string\">\" 0.0.0.0</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span><span class=\"string\">\" ] &amp;&amp; [ -z \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tINTERNAL_IP6_NETMASK=\"</span><span class=\"variable\">$INTERNAL_IP6_ADDRESS</span>/128<span class=\"string\">\"</span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\t\tif [ -n \"</span><span class=\"variable\">$INTERNAL_IP6_NETMASK</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\t\t\tifconfig \"</span><span class=\"variable\">$TUNDEV</span><span class=\"string\">\" inet6 del <span class=\"variable\">$INTERNAL_IP6_NETMASK</span></span></div><div class=\"line\"><span class=\"string\">\t\tfi</span></div><div class=\"line\"><span class=\"string\">\tfi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">\tdestroy_tun_device</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">#### Main</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">if [ -z \"</span><span class=\"variable\">$reason</span><span class=\"string\">\" ]; then</span></div><div class=\"line\"><span class=\"string\">\techo \"</span>this script must be called from vpnc<span class=\"string\">\" 1&gt;&amp;2</span></div><div class=\"line\"><span class=\"string\">\texit 1</span></div><div class=\"line\"><span class=\"string\">fi</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">case \"</span><span class=\"variable\">$reason</span><span class=\"string\">\" in</span></div><div class=\"line\"><span class=\"string\">\tpre-init)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks pre-init</span></div><div class=\"line\"><span class=\"string\">\t\tdo_pre_init</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\tconnect)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks connect</span></div><div class=\"line\"><span class=\"string\">\t\tdo_connect</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks post-connect</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\tdisconnect)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks disconnect</span></div><div class=\"line\"><span class=\"string\">\t\tdo_disconnect</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks post-disconnect</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\treconnect)</span></div><div class=\"line\"><span class=\"string\">\t\trun_hooks reconnect</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">\t*)</span></div><div class=\"line\"><span class=\"string\">\t\techo \"</span>unknown reason <span class=\"string\">'$reason'</span>. Maybe vpnc-script is out of date<span class=\"string\">\" 1&gt;&amp;2</span></div><div class=\"line\"><span class=\"string\">\t\texit 1</span></div><div class=\"line\"><span class=\"string\">\t\t;;</span></div><div class=\"line\"><span class=\"string\">esac</span></div><div class=\"line\"><span class=\"string\"></span></div><div class=\"line\"><span class=\"string\">exit 0</span></div></pre></td></tr></table></figure></p>"},{"title":"linux SSH","date":"2017-10-09T09:06:47.000Z","_content":"\nlinux SSH\n\n<!-- more -->\n\n# \n\n## 1.:\n\n```\nssh -qnfNT -g -R 3322:localhost:22 myname@vpshost\n```\n\nvpshost3322,22ssh,vpshost,\n```\nssh -p 3322 localhost\n```\n\n## 2. vpshost\n\n/etc/ssh/sshd_config\n\n> gatewayports yes \n\nssh\n```\nservice ssh restart\n```\n\n\n```\nssh myname@vpshost:3322\n```","source":"_posts/201710091706.md","raw":"---\ntitle: linux SSH\ndate: 2017-10-09 17:06:47\ntags:\n  - linux\n  - network\n---\n\nlinux SSH\n\n<!-- more -->\n\n# \n\n## 1.:\n\n```\nssh -qnfNT -g -R 3322:localhost:22 myname@vpshost\n```\n\nvpshost3322,22ssh,vpshost,\n```\nssh -p 3322 localhost\n```\n\n## 2. vpshost\n\n/etc/ssh/sshd_config\n\n> gatewayports yes \n\nssh\n```\nservice ssh restart\n```\n\n\n```\nssh myname@vpshost:3322\n```","slug":"201710091706","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a25i0009zizpa4snopvh","content":"<p>linux SSH</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1.:\"></a>1.:</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh -qnfNT -g -R 3322:localhost:22 myname@vpshost</div></pre></td></tr></table></figure>\n<p>vpshost3322,22ssh,vpshost,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh -p 3322 localhost</div></pre></td></tr></table></figure></p>\n<h2 id=\"2-vpshost\"><a href=\"#2-vpshost\" class=\"headerlink\" title=\"2. vpshost\"></a>2. vpshost</h2><p>/etc/ssh/sshd_config<br></p>\n<blockquote>\n<p>gatewayports yes </p>\n</blockquote>\n<p>ssh<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">service ssh restart</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh myname@vpshost:3322</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>linux SSH</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1.:\"></a>1.:</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh -qnfNT -g -R 3322:localhost:22 myname@vpshost</div></pre></td></tr></table></figure>\n<p>vpshost3322,22ssh,vpshost,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh -p 3322 localhost</div></pre></td></tr></table></figure></p>\n<h2 id=\"2-vpshost\"><a href=\"#2-vpshost\" class=\"headerlink\" title=\"2. vpshost\"></a>2. vpshost</h2><p>/etc/ssh/sshd_config<br></p>\n<blockquote>\n<p>gatewayports yes </p>\n</blockquote>\n<p>ssh<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">service ssh restart</div></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh myname@vpshost:3322</div></pre></td></tr></table></figure></p>"},{"title":"linux ","date":"2017-10-09T09:08:12.000Z","_content":"\nlinux \n\n<!-- more -->\n\n# \n\n:debian7.8\n\n## 1.  */etc/sysctl*\n\n> net.ipv4.conf.default.rp_filter = 1  \n> net.ipv4.conf.all.rp_filter = 1  \n```\nsysctl -p\n```\n\n## 2.  */usr/local/sbin/iproute.sh*\n\n> \\#!/bin/bash\n> <br>\n>  \n> ip route del default\n> <br>\n>  \n> ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77 table 2  \n> ip route add default via 10.110.1.254 dev eth0 table 2  \n> ip rule add from 10.110.1.77 table 2  \n> ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77\n> <br />\n>  \n> ip route add 10.110.1.0/24 dev eth1 src 10.110.1.21 table 3  \n> ip route add default via 10.110.1.254 dev eth1 table 3  \n> ip rule add from 10.110.1.21 table 3  \n> ip route add 10.110.1.0/24 dev eth0 src 10.110.1.21\n> <br />\n>  \n> ip route add default via 10.110.1.254 dev eth0\n\n## 3. \n\n```\nchmod 755 /usr/local/sbin/iproute.sh\n/usr/local/sbin/iproute.sh\necho \"/usr/local/sbin/iproute.sh\" >> /etc/rc.local\n```","source":"_posts/201710091708.md","raw":"---\ntitle: linux \ndate: 2017-10-09 17:08:12\ntags:\n  - linux\n  - network\n---\n\nlinux \n\n<!-- more -->\n\n# \n\n:debian7.8\n\n## 1.  */etc/sysctl*\n\n> net.ipv4.conf.default.rp_filter = 1  \n> net.ipv4.conf.all.rp_filter = 1  \n```\nsysctl -p\n```\n\n## 2.  */usr/local/sbin/iproute.sh*\n\n> \\#!/bin/bash\n> <br>\n>  \n> ip route del default\n> <br>\n>  \n> ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77 table 2  \n> ip route add default via 10.110.1.254 dev eth0 table 2  \n> ip rule add from 10.110.1.77 table 2  \n> ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77\n> <br />\n>  \n> ip route add 10.110.1.0/24 dev eth1 src 10.110.1.21 table 3  \n> ip route add default via 10.110.1.254 dev eth1 table 3  \n> ip rule add from 10.110.1.21 table 3  \n> ip route add 10.110.1.0/24 dev eth0 src 10.110.1.21\n> <br />\n>  \n> ip route add default via 10.110.1.254 dev eth0\n\n## 3. \n\n```\nchmod 755 /usr/local/sbin/iproute.sh\n/usr/local/sbin/iproute.sh\necho \"/usr/local/sbin/iproute.sh\" >> /etc/rc.local\n```","slug":"201710091708","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a25n000bzizpzi3jj641","content":"<p>linux </p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:debian7.8</p>\n<h2 id=\"1--etc-sysctl\"><a href=\"#1--etc-sysctl\" class=\"headerlink\" title=\"1.  /etc/sysctl\"></a>1.  <em>/etc/sysctl</em></h2><blockquote>\n<p>net.ipv4.conf.default.rp_filter = 1<br>net.ipv4.conf.all.rp_filter = 1<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sysctl -p</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h2 id=\"2--usr-local-sbin-iproute-sh\"><a href=\"#2--usr-local-sbin-iproute-sh\" class=\"headerlink\" title=\"2.  /usr/local/sbin/iproute.sh\"></a>2.  <em>/usr/local/sbin/iproute.sh</em></h2><blockquote>\n<p>#!/bin/bash<br><br></p>\n<p>ip route del default<br><br></p>\n<p>ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77 table 2<br>ip route add default via 10.110.1.254 dev eth0 table 2<br>ip rule add from 10.110.1.77 table 2<br>ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77<br><br></p>\n<p>ip route add 10.110.1.0/24 dev eth1 src 10.110.1.21 table 3<br>ip route add default via 10.110.1.254 dev eth1 table 3<br>ip rule add from 10.110.1.21 table 3<br>ip route add 10.110.1.0/24 dev eth0 src 10.110.1.21<br><br></p>\n<p>ip route add default via 10.110.1.254 dev eth0</p>\n</blockquote>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">chmod 755 /usr/local/sbin/iproute.sh</div><div class=\"line\">/usr/local/sbin/iproute.sh</div><div class=\"line\">echo &quot;/usr/local/sbin/iproute.sh&quot; &gt;&gt; /etc/rc.local</div></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>linux </p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:debian7.8</p>\n<h2 id=\"1--etc-sysctl\"><a href=\"#1--etc-sysctl\" class=\"headerlink\" title=\"1.  /etc/sysctl\"></a>1.  <em>/etc/sysctl</em></h2><blockquote>\n<p>net.ipv4.conf.default.rp_filter = 1<br>net.ipv4.conf.all.rp_filter = 1<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sysctl -p</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h2 id=\"2--usr-local-sbin-iproute-sh\"><a href=\"#2--usr-local-sbin-iproute-sh\" class=\"headerlink\" title=\"2.  /usr/local/sbin/iproute.sh\"></a>2.  <em>/usr/local/sbin/iproute.sh</em></h2><blockquote>\n<p>#!/bin/bash<br><br></p>\n<p>ip route del default<br><br></p>\n<p>ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77 table 2<br>ip route add default via 10.110.1.254 dev eth0 table 2<br>ip rule add from 10.110.1.77 table 2<br>ip route add 10.110.1.0/24 dev eth0 src 10.110.1.77<br><br></p>\n<p>ip route add 10.110.1.0/24 dev eth1 src 10.110.1.21 table 3<br>ip route add default via 10.110.1.254 dev eth1 table 3<br>ip rule add from 10.110.1.21 table 3<br>ip route add 10.110.1.0/24 dev eth0 src 10.110.1.21<br><br></p>\n<p>ip route add default via 10.110.1.254 dev eth0</p>\n</blockquote>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">chmod 755 /usr/local/sbin/iproute.sh</div><div class=\"line\">/usr/local/sbin/iproute.sh</div><div class=\"line\">echo &quot;/usr/local/sbin/iproute.sh&quot; &gt;&gt; /etc/rc.local</div></pre></td></tr></table></figure>"},{"title":"linux Bonding","date":"2017-10-09T09:09:12.000Z","_content":"\nlinux Bonding\n\n<!-- more -->\n\n# \n\n:debian7.8  \n\n## 1. ifenslave\n\n```\nsudo apt-get install -y ifenslave\n```\n\n## 2.  */etc/network/interfaces*\n\n> \\#This file describes the network interfaces available on your system  \n> \\#and how to activate them. For more information, see interfaces(5).  \n> \\#The loopback network interfaces\n> <br>\n>\n> auto lo  \n> iface lo inet loopback\n> <br>\n>   \n> auto eth0  \n> iface eth0 inet manual  \n> bond-master bond0\n> <br>\n>   \n> auto eth1  \n> iface eth1 inet manual  \n> bond-master bond0\n> <br>\n>   \n> auto bond0  \n> iface bond0 inet dhcp  \n> slaves all  \n> bond-mode 6  \n> bond-miimon 100 \n\n## 3. \n``` bash\nmodprobe bonding mode=6 miimon=100\n/etc/init.d/networking restart\n```\n\n> :  \n> 7mode,  \n> - mode=0,,,eth0> ,eth1,\n> - mode=1,,,,miimon\n> - mode=6,,","source":"_posts/201710091709.md","raw":"---\ntitle: linux Bonding\ndate: 2017-10-09 17:09:12\ntags:\n  - linux\n  - network\n---\n\nlinux Bonding\n\n<!-- more -->\n\n# \n\n:debian7.8  \n\n## 1. ifenslave\n\n```\nsudo apt-get install -y ifenslave\n```\n\n## 2.  */etc/network/interfaces*\n\n> \\#This file describes the network interfaces available on your system  \n> \\#and how to activate them. For more information, see interfaces(5).  \n> \\#The loopback network interfaces\n> <br>\n>\n> auto lo  \n> iface lo inet loopback\n> <br>\n>   \n> auto eth0  \n> iface eth0 inet manual  \n> bond-master bond0\n> <br>\n>   \n> auto eth1  \n> iface eth1 inet manual  \n> bond-master bond0\n> <br>\n>   \n> auto bond0  \n> iface bond0 inet dhcp  \n> slaves all  \n> bond-mode 6  \n> bond-miimon 100 \n\n## 3. \n``` bash\nmodprobe bonding mode=6 miimon=100\n/etc/init.d/networking restart\n```\n\n> :  \n> 7mode,  \n> - mode=0,,,eth0> ,eth1,\n> - mode=1,,,,miimon\n> - mode=6,,","slug":"201710091709","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a25r000czizpi60b5ib8","content":"<p>linux Bonding</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:debian7.8  </p>\n<h2 id=\"1-ifenslave\"><a href=\"#1-ifenslave\" class=\"headerlink\" title=\"1. ifenslave\"></a>1. ifenslave</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get install -y ifenslave</div></pre></td></tr></table></figure>\n<h2 id=\"2--etc-network-interfaces\"><a href=\"#2--etc-network-interfaces\" class=\"headerlink\" title=\"2.  /etc/network/interfaces\"></a>2.  <em>/etc/network/interfaces</em></h2><blockquote>\n<p>#This file describes the network interfaces available on your system<br>#and how to activate them. For more information, see interfaces(5).<br>#The loopback network interfaces<br><br></p>\n<p>auto lo<br>iface lo inet loopback<br><br></p>\n<p>auto eth0<br>iface eth0 inet manual<br>bond-master bond0<br><br></p>\n<p>auto eth1<br>iface eth1 inet manual<br>bond-master bond0<br><br></p>\n<p>auto bond0<br>iface bond0 inet dhcp<br>slaves all<br>bond-mode 6<br>bond-miimon 100 </p>\n</blockquote>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">modprobe bonding mode=6 miimon=100</div><div class=\"line\">/etc/init.d/networking restart</div></pre></td></tr></table></figure>\n<blockquote>\n<p>:<br>7mode,  </p>\n<ul>\n<li>mode=0,,,eth0&gt; ,eth1,</li>\n<li>mode=1,,,,miimon</li>\n<li>mode=6,,</li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"<p>linux Bonding</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:debian7.8  </p>\n<h2 id=\"1-ifenslave\"><a href=\"#1-ifenslave\" class=\"headerlink\" title=\"1. ifenslave\"></a>1. ifenslave</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get install -y ifenslave</div></pre></td></tr></table></figure>\n<h2 id=\"2--etc-network-interfaces\"><a href=\"#2--etc-network-interfaces\" class=\"headerlink\" title=\"2.  /etc/network/interfaces\"></a>2.  <em>/etc/network/interfaces</em></h2><blockquote>\n<p>#This file describes the network interfaces available on your system<br>#and how to activate them. For more information, see interfaces(5).<br>#The loopback network interfaces<br><br></p>\n<p>auto lo<br>iface lo inet loopback<br><br></p>\n<p>auto eth0<br>iface eth0 inet manual<br>bond-master bond0<br><br></p>\n<p>auto eth1<br>iface eth1 inet manual<br>bond-master bond0<br><br></p>\n<p>auto bond0<br>iface bond0 inet dhcp<br>slaves all<br>bond-mode 6<br>bond-miimon 100 </p>\n</blockquote>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">modprobe bonding mode=6 miimon=100</div><div class=\"line\">/etc/init.d/networking restart</div></pre></td></tr></table></figure>\n<blockquote>\n<p>:<br>7mode,  </p>\n<ul>\n<li>mode=0,,,eth0&gt; ,eth1,</li>\n<li>mode=1,,,,miimon</li>\n<li>mode=6,,</li>\n</ul>\n</blockquote>"},{"title":"linux pptp","date":"2017-10-09T09:10:22.000Z","_content":"\nlinux pptp\n\n<!-- more -->\n\n\n# \n\n:debian7.8\n```\nsudo apt-get install -y pptp-linux iproute\n\npptpsetup --create pptpvpn --server server.domain --username vpn.user --password vpn.passwd --encrypt\n#pptpvpnvpn,server.domainvpn,vpn.uservpn,vpn.passwd\n\npon pptpvpn\n#vpn\n\npoff pptpvpn\n#vpn\n\npptpsetup --delete pptpvpn\n#pptpvpn\n\necho \"pon pptpvpn\" >> /etc/rc.local\n#\n```","source":"_posts/201710091710.md","raw":"---\ntitle: linux pptp\ndate: 2017-10-09 17:10:22\ntags:\n  - linux\n  - network\n---\n\nlinux pptp\n\n<!-- more -->\n\n\n# \n\n:debian7.8\n```\nsudo apt-get install -y pptp-linux iproute\n\npptpsetup --create pptpvpn --server server.domain --username vpn.user --password vpn.passwd --encrypt\n#pptpvpnvpn,server.domainvpn,vpn.uservpn,vpn.passwd\n\npon pptpvpn\n#vpn\n\npoff pptpvpn\n#vpn\n\npptpsetup --delete pptpvpn\n#pptpvpn\n\necho \"pon pptpvpn\" >> /etc/rc.local\n#\n```","slug":"201710091710","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a25v000ezizpo6aiv5zf","content":"<p>linux pptp</p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:debian7.8<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get install -y pptp-linux iproute</div><div class=\"line\"></div><div class=\"line\">pptpsetup --create pptpvpn --server server.domain --username vpn.user --password vpn.passwd --encrypt</div><div class=\"line\">#pptpvpnvpn,server.domainvpn,vpn.uservpn,vpn.passwd</div><div class=\"line\"></div><div class=\"line\">pon pptpvpn</div><div class=\"line\">#vpn</div><div class=\"line\"></div><div class=\"line\">poff pptpvpn</div><div class=\"line\">#vpn</div><div class=\"line\"></div><div class=\"line\">pptpsetup --delete pptpvpn</div><div class=\"line\">#pptpvpn</div><div class=\"line\"></div><div class=\"line\">echo &quot;pon pptpvpn&quot; &gt;&gt; /etc/rc.local</div><div class=\"line\">#</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>linux pptp</p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p>:debian7.8<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get install -y pptp-linux iproute</div><div class=\"line\"></div><div class=\"line\">pptpsetup --create pptpvpn --server server.domain --username vpn.user --password vpn.passwd --encrypt</div><div class=\"line\">#pptpvpnvpn,server.domainvpn,vpn.uservpn,vpn.passwd</div><div class=\"line\"></div><div class=\"line\">pon pptpvpn</div><div class=\"line\">#vpn</div><div class=\"line\"></div><div class=\"line\">poff pptpvpn</div><div class=\"line\">#vpn</div><div class=\"line\"></div><div class=\"line\">pptpsetup --delete pptpvpn</div><div class=\"line\">#pptpvpn</div><div class=\"line\"></div><div class=\"line\">echo &quot;pon pptpvpn&quot; &gt;&gt; /etc/rc.local</div><div class=\"line\">#</div></pre></td></tr></table></figure></p>"},{"title":"dpkg ","date":"2017-10-09T09:12:08.000Z","_content":"\n`deb`debian linus,red hatrpm,:\n`dpkg -i file.deb`\n\n<!-- more -->\n\n`dpkg` Debian Package,Debian,&.DebianLinux`dpkg`,Ubuntu&Knoppix.\n\nDpkg:\n\n- `dpkg -i <package.deb>`\nDebian \n\n- `dpkg -c <package.deb>`\n< package.deb> .\n\n- `dpkg -I <package.deb>`\n< package.deb> .\n\n- `dpkg -r <package>`\n.\n\n- `dpkg -P <package>`\n.remove ,remove ,purge .\n\n- `dpkg -L <package>`\n<package> .dpkg -c .deb .\n\n- `dpkg -s <package>`\n.apt-cache Debian ,dpkg -I .deb .\n\n- `dpkg-reconfigure <package>`\n,debconf (debconf ).\n","source":"_posts/201710091712.md","raw":"---\ntitle: dpkg \ndate: 2017-10-09 17:12:08\ntags:\n  - linux\n  - tools\n---\n\n`deb`debian linus,red hatrpm,:\n`dpkg -i file.deb`\n\n<!-- more -->\n\n`dpkg` Debian Package,Debian,&.DebianLinux`dpkg`,Ubuntu&Knoppix.\n\nDpkg:\n\n- `dpkg -i <package.deb>`\nDebian \n\n- `dpkg -c <package.deb>`\n< package.deb> .\n\n- `dpkg -I <package.deb>`\n< package.deb> .\n\n- `dpkg -r <package>`\n.\n\n- `dpkg -P <package>`\n.remove ,remove ,purge .\n\n- `dpkg -L <package>`\n<package> .dpkg -c .deb .\n\n- `dpkg -s <package>`\n.apt-cache Debian ,dpkg -I .deb .\n\n- `dpkg-reconfigure <package>`\n,debconf (debconf ).\n","slug":"201710091712","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a25y000gzizp3s4g3ix9","content":"<p><code>deb</code>debian linus,red hatrpm,:<br><code>dpkg -i file.deb</code></p>\n<a id=\"more\"></a>\n<p><code>dpkg</code> Debian Package,Debian,&amp;.DebianLinux<code>dpkg</code>,Ubuntu&amp;Knoppix.</p>\n<p>Dpkg:</p>\n<ul>\n<li><p><code>dpkg -i &lt;package.deb&gt;</code><br>Debian </p>\n</li>\n<li><p><code>dpkg -c &lt;package.deb&gt;</code><br>&lt; package.deb&gt; .</p>\n</li>\n<li><p><code>dpkg -I &lt;package.deb&gt;</code><br>&lt; package.deb&gt; .</p>\n</li>\n<li><p><code>dpkg -r &lt;package&gt;</code><br>.</p>\n</li>\n<li><p><code>dpkg -P &lt;package&gt;</code><br>.remove ,remove ,purge .</p>\n</li>\n<li><p><code>dpkg -L &lt;package&gt;</code><br><package> .dpkg -c .deb .</package></p>\n</li>\n<li><p><code>dpkg -s &lt;package&gt;</code><br>.apt-cache Debian ,dpkg -I .deb .</p>\n</li>\n<li><p><code>dpkg-reconfigure &lt;package&gt;</code><br>,debconf (debconf ).</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><code>deb</code>debian linus,red hatrpm,:<br><code>dpkg -i file.deb</code></p>","more":"<p><code>dpkg</code> Debian Package,Debian,&amp;.DebianLinux<code>dpkg</code>,Ubuntu&amp;Knoppix.</p>\n<p>Dpkg:</p>\n<ul>\n<li><p><code>dpkg -i &lt;package.deb&gt;</code><br>Debian </p>\n</li>\n<li><p><code>dpkg -c &lt;package.deb&gt;</code><br>&lt; package.deb&gt; .</p>\n</li>\n<li><p><code>dpkg -I &lt;package.deb&gt;</code><br>&lt; package.deb&gt; .</p>\n</li>\n<li><p><code>dpkg -r &lt;package&gt;</code><br>.</p>\n</li>\n<li><p><code>dpkg -P &lt;package&gt;</code><br>.remove ,remove ,purge .</p>\n</li>\n<li><p><code>dpkg -L &lt;package&gt;</code><br><package> .dpkg -c .deb .</package></p>\n</li>\n<li><p><code>dpkg -s &lt;package&gt;</code><br>.apt-cache Debian ,dpkg -I .deb .</p>\n</li>\n<li><p><code>dpkg-reconfigure &lt;package&gt;</code><br>,debconf (debconf ).</p>\n</li>\n</ul>"},{"title":"git ","date":"2017-10-09T09:14:02.000Z","_content":"\ngit \n\n<!-- more -->\n\n# \n\n-     \n    &emsp;&emsp;,  \n    &emsp;&emsp;\n-     \n    &emsp;&emsp;\"\",\n\n## \n---\n\n```\ngit config --global user.name \"name\"\ngit config --global user.email \"email\"\n```\n\n,config--global,Git.\nEmail\n\n<br>\n\n## \n---\n\n```\ngit init \n#Git,git.git,\n\ngit add filename or filename list \n#\n\ngit commit -m \"comments\" \n#,**-m**\n```\n\n<br>\n\n## \n---\n\n```\ngit status\n#,,\n\ngit diff filename\n#difference,\n\ngit log\n#,--pretty=oneline\n\ngit reflog\n#\n\ngit reset\n    git reset --hard HEAD^\n    #\n    git reset --hard serialno\n    #serialnocommit id\n#GitHEADHEAD^HEAD^^^HEAD~2\n\n#\n#.gitGit,stage(index),,masterHEAD\n#Git,:\n#   git add,\n#   git commit,\n#,add,commit\n\ngit check -- filename\n#,--,\n#   file,\n#   file,,\n#   git commitgit add\n#git reset,HEAD\n\ngit reset HEAD file\n#\n\ngit rm filename\n#,git checkout -- file \n```\n\n<br>\n\n## Github\n---\n\n#### \n\nGitGithubssh,\n\nssh key\n\n```\nssh-keygen -t rsa -C \"mail\"\n```\n.ssh,id_rsa()id_rsa.pub()  \ngithub,id_ras.pubssh key\n\n#### \n\n```\ngit remote add origin git@github.com:xxxx/xxx.git \n#origin\n\ngit push -u origin master\n#\n#-u,gitmastermaster,master\n#git push master\n```\n\n#### clone \n\n```\ngit clone git@github.com:xxx/xxx.git\n```\n\n<br>\n\n## \n---\n\n#### \n\ngit\n\n```\ngit branch\n#\n\ngit branch <name>\n#\n\ngit checkout <name>\n#\n\ngit checkout -b <name>\n#+\n\ngit merge <name>\n#\n\ngit branch -d <name>\n#\n```\n\n#### \n\ngit,,,\n\n```\ngit log --graph\n#\n```\n\n,gitfast forward,,,( --no-ff),gitmergecommit,\n\n```\ngit checkout -b dev\ngit add filename\ngit commit -m \"add merge\"\ngit checkout master\ngit merge --no-ff -m \"merge with no-ff\" dev\n```\n\n#### \n\n- master,\n- \n\n#### Bug\n\n```\ngit stash\n#\"\"\n\ngit stash list\n#\n\n#\ngit stash apply\n#'stash',git stash drop\n\ngit stash pop\n#stash\n\ngit stash apply stash@{0}\n#stash\n```\n\n#### feature\n\nfeature,  \n,\n\n```\ngit branch -D <name>\n```\n\n#### \n\nclone,gitmastermaster,origin\n\n```\ngit remote\n#,-v\n\ngit branch --set-upstream branch-name origin/branch-name\n#,pull\"no tracking information\"\n```","source":"_posts/201710091714.md","raw":"---\ntitle: git \ndate: 2017-10-09 17:14:02\ntags:\n  - linux\n  - tools\n---\n\ngit \n\n<!-- more -->\n\n# \n\n-     \n    &emsp;&emsp;,  \n    &emsp;&emsp;\n-     \n    &emsp;&emsp;\"\",\n\n## \n---\n\n```\ngit config --global user.name \"name\"\ngit config --global user.email \"email\"\n```\n\n,config--global,Git.\nEmail\n\n<br>\n\n## \n---\n\n```\ngit init \n#Git,git.git,\n\ngit add filename or filename list \n#\n\ngit commit -m \"comments\" \n#,**-m**\n```\n\n<br>\n\n## \n---\n\n```\ngit status\n#,,\n\ngit diff filename\n#difference,\n\ngit log\n#,--pretty=oneline\n\ngit reflog\n#\n\ngit reset\n    git reset --hard HEAD^\n    #\n    git reset --hard serialno\n    #serialnocommit id\n#GitHEADHEAD^HEAD^^^HEAD~2\n\n#\n#.gitGit,stage(index),,masterHEAD\n#Git,:\n#   git add,\n#   git commit,\n#,add,commit\n\ngit check -- filename\n#,--,\n#   file,\n#   file,,\n#   git commitgit add\n#git reset,HEAD\n\ngit reset HEAD file\n#\n\ngit rm filename\n#,git checkout -- file \n```\n\n<br>\n\n## Github\n---\n\n#### \n\nGitGithubssh,\n\nssh key\n\n```\nssh-keygen -t rsa -C \"mail\"\n```\n.ssh,id_rsa()id_rsa.pub()  \ngithub,id_ras.pubssh key\n\n#### \n\n```\ngit remote add origin git@github.com:xxxx/xxx.git \n#origin\n\ngit push -u origin master\n#\n#-u,gitmastermaster,master\n#git push master\n```\n\n#### clone \n\n```\ngit clone git@github.com:xxx/xxx.git\n```\n\n<br>\n\n## \n---\n\n#### \n\ngit\n\n```\ngit branch\n#\n\ngit branch <name>\n#\n\ngit checkout <name>\n#\n\ngit checkout -b <name>\n#+\n\ngit merge <name>\n#\n\ngit branch -d <name>\n#\n```\n\n#### \n\ngit,,,\n\n```\ngit log --graph\n#\n```\n\n,gitfast forward,,,( --no-ff),gitmergecommit,\n\n```\ngit checkout -b dev\ngit add filename\ngit commit -m \"add merge\"\ngit checkout master\ngit merge --no-ff -m \"merge with no-ff\" dev\n```\n\n#### \n\n- master,\n- \n\n#### Bug\n\n```\ngit stash\n#\"\"\n\ngit stash list\n#\n\n#\ngit stash apply\n#'stash',git stash drop\n\ngit stash pop\n#stash\n\ngit stash apply stash@{0}\n#stash\n```\n\n#### feature\n\nfeature,  \n,\n\n```\ngit branch -D <name>\n```\n\n#### \n\nclone,gitmastermaster,origin\n\n```\ngit remote\n#,-v\n\ngit branch --set-upstream branch-name origin/branch-name\n#,pull\"no tracking information\"\n```","slug":"201710091714","published":1,"updated":"2017-10-09T10:04:21.527Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a261000jzizpwf3fw5ic","content":"<p>git </p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><br>&emsp;&emsp;,<br>&emsp;&emsp;</li>\n<li><br>&emsp;&emsp;,</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git config --global user.name &quot;name&quot;</div><div class=\"line\">git config --global user.email &quot;email&quot;</div></pre></td></tr></table></figure>\n<p>,configglobal,Git.<br>Email</p>\n<p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">git init </div><div class=\"line\">#Git,git.git,</div><div class=\"line\"></div><div class=\"line\">git add filename or filename list </div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git commit -m &quot;comments&quot; </div><div class=\"line\">#,**-m**</div></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">git status</div><div class=\"line\">#,,</div><div class=\"line\"></div><div class=\"line\">git diff filename</div><div class=\"line\">#difference,</div><div class=\"line\"></div><div class=\"line\">git log</div><div class=\"line\">#,--pretty=oneline</div><div class=\"line\"></div><div class=\"line\">git reflog</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git reset</div><div class=\"line\">    git reset --hard HEAD^</div><div class=\"line\">    #</div><div class=\"line\">    git reset --hard serialno</div><div class=\"line\">    #serialnocommit id</div><div class=\"line\">#GitHEADHEAD^HEAD^^^HEAD~2</div><div class=\"line\"></div><div class=\"line\">#</div><div class=\"line\">#.gitGit,stage(index),,masterHEAD</div><div class=\"line\">#Git,:</div><div class=\"line\">#   git add,</div><div class=\"line\">#   git commit,</div><div class=\"line\">#,add,commit</div><div class=\"line\"></div><div class=\"line\">git check -- filename</div><div class=\"line\">#,--,</div><div class=\"line\">#   file,</div><div class=\"line\">#   file,,</div><div class=\"line\">#   git commitgit add</div><div class=\"line\">#git reset,HEAD</div><div class=\"line\"></div><div class=\"line\">git reset HEAD file</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git rm filename</div><div class=\"line\">#,git checkout -- file </div></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>GitGithubssh,</p>\n<p>ssh key</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh-keygen -t rsa -C &quot;mail&quot;</div></pre></td></tr></table></figure>\n<p>.ssh,id_rsa()id_rsa.pub()<br>github,id_ras.pubssh key</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">git remote add origin git@github.com:xxxx/xxx.git </div><div class=\"line\">#origin</div><div class=\"line\"></div><div class=\"line\">git push -u origin master</div><div class=\"line\">#</div><div class=\"line\">#-u,gitmastermaster,master</div><div class=\"line\">#git push master</div></pre></td></tr></table></figure>\n<h4 id=\"clone-\"><a href=\"#clone-\" class=\"headerlink\" title=\"clone \"></a>clone </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone git@github.com:xxx/xxx.git</div></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>git</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git branch &lt;name&gt;</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git checkout &lt;name&gt;</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git checkout -b &lt;name&gt;</div><div class=\"line\">#+</div><div class=\"line\"></div><div class=\"line\">git merge &lt;name&gt;</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git branch -d &lt;name&gt;</div><div class=\"line\">#</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>git,,,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git log --graph</div><div class=\"line\">#</div></pre></td></tr></table></figure>\n<p>,gitfast forward,,,( no-ff),gitmergecommit,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git checkout -b dev</div><div class=\"line\">git add filename</div><div class=\"line\">git commit -m &quot;add merge&quot;</div><div class=\"line\">git checkout master</div><div class=\"line\">git merge --no-ff -m &quot;merge with no-ff&quot; dev</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>master,</li>\n<li></li>\n</ul>\n<h4 id=\"Bug\"><a href=\"#Bug\" class=\"headerlink\" title=\"Bug\"></a>Bug</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">git stash</div><div class=\"line\">#&quot;&quot;</div><div class=\"line\"></div><div class=\"line\">git stash list</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">#</div><div class=\"line\">git stash apply</div><div class=\"line\">#&apos;stash&apos;,git stash drop</div><div class=\"line\"></div><div class=\"line\">git stash pop</div><div class=\"line\">#stash</div><div class=\"line\"></div><div class=\"line\">git stash apply stash@&#123;0&#125;</div><div class=\"line\">#stash</div></pre></td></tr></table></figure>\n<h4 id=\"feature\"><a href=\"#feature\" class=\"headerlink\" title=\"feature\"></a>feature</h4><p>feature,<br>,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch -D &lt;name&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>clone,gitmastermaster,origin</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git remote</div><div class=\"line\">#,-v</div><div class=\"line\"></div><div class=\"line\">git branch --set-upstream branch-name origin/branch-name</div><div class=\"line\">#,pull&quot;no tracking information&quot;</div></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>git </p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><ul>\n<li><br>&emsp;&emsp;,<br>&emsp;&emsp;</li>\n<li><br>&emsp;&emsp;,</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git config --global user.name &quot;name&quot;</div><div class=\"line\">git config --global user.email &quot;email&quot;</div></pre></td></tr></table></figure>\n<p>,configglobal,Git.<br>Email</p>\n<p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">git init </div><div class=\"line\">#Git,git.git,</div><div class=\"line\"></div><div class=\"line\">git add filename or filename list </div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git commit -m &quot;comments&quot; </div><div class=\"line\">#,**-m**</div></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">git status</div><div class=\"line\">#,,</div><div class=\"line\"></div><div class=\"line\">git diff filename</div><div class=\"line\">#difference,</div><div class=\"line\"></div><div class=\"line\">git log</div><div class=\"line\">#,--pretty=oneline</div><div class=\"line\"></div><div class=\"line\">git reflog</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git reset</div><div class=\"line\">    git reset --hard HEAD^</div><div class=\"line\">    #</div><div class=\"line\">    git reset --hard serialno</div><div class=\"line\">    #serialnocommit id</div><div class=\"line\">#GitHEADHEAD^HEAD^^^HEAD~2</div><div class=\"line\"></div><div class=\"line\">#</div><div class=\"line\">#.gitGit,stage(index),,masterHEAD</div><div class=\"line\">#Git,:</div><div class=\"line\">#   git add,</div><div class=\"line\">#   git commit,</div><div class=\"line\">#,add,commit</div><div class=\"line\"></div><div class=\"line\">git check -- filename</div><div class=\"line\">#,--,</div><div class=\"line\">#   file,</div><div class=\"line\">#   file,,</div><div class=\"line\">#   git commitgit add</div><div class=\"line\">#git reset,HEAD</div><div class=\"line\"></div><div class=\"line\">git reset HEAD file</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git rm filename</div><div class=\"line\">#,git checkout -- file </div></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"Github\"><a href=\"#Github\" class=\"headerlink\" title=\"Github\"></a>Github</h2><hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>GitGithubssh,</p>\n<p>ssh key</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssh-keygen -t rsa -C &quot;mail&quot;</div></pre></td></tr></table></figure>\n<p>.ssh,id_rsa()id_rsa.pub()<br>github,id_ras.pubssh key</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">git remote add origin git@github.com:xxxx/xxx.git </div><div class=\"line\">#origin</div><div class=\"line\"></div><div class=\"line\">git push -u origin master</div><div class=\"line\">#</div><div class=\"line\">#-u,gitmastermaster,master</div><div class=\"line\">#git push master</div></pre></td></tr></table></figure>\n<h4 id=\"clone-\"><a href=\"#clone-\" class=\"headerlink\" title=\"clone \"></a>clone </h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone git@github.com:xxx/xxx.git</div></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>git</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git branch &lt;name&gt;</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git checkout &lt;name&gt;</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git checkout -b &lt;name&gt;</div><div class=\"line\">#+</div><div class=\"line\"></div><div class=\"line\">git merge &lt;name&gt;</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">git branch -d &lt;name&gt;</div><div class=\"line\">#</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>git,,,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git log --graph</div><div class=\"line\">#</div></pre></td></tr></table></figure>\n<p>,gitfast forward,,,( no-ff),gitmergecommit,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git checkout -b dev</div><div class=\"line\">git add filename</div><div class=\"line\">git commit -m &quot;add merge&quot;</div><div class=\"line\">git checkout master</div><div class=\"line\">git merge --no-ff -m &quot;merge with no-ff&quot; dev</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>master,</li>\n<li></li>\n</ul>\n<h4 id=\"Bug\"><a href=\"#Bug\" class=\"headerlink\" title=\"Bug\"></a>Bug</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">git stash</div><div class=\"line\">#&quot;&quot;</div><div class=\"line\"></div><div class=\"line\">git stash list</div><div class=\"line\">#</div><div class=\"line\"></div><div class=\"line\">#</div><div class=\"line\">git stash apply</div><div class=\"line\">#&apos;stash&apos;,git stash drop</div><div class=\"line\"></div><div class=\"line\">git stash pop</div><div class=\"line\">#stash</div><div class=\"line\"></div><div class=\"line\">git stash apply stash@&#123;0&#125;</div><div class=\"line\">#stash</div></pre></td></tr></table></figure>\n<h4 id=\"feature\"><a href=\"#feature\" class=\"headerlink\" title=\"feature\"></a>feature</h4><p>feature,<br>,</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch -D &lt;name&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>clone,gitmastermaster,origin</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git remote</div><div class=\"line\">#,-v</div><div class=\"line\"></div><div class=\"line\">git branch --set-upstream branch-name origin/branch-name</div><div class=\"line\">#,pull&quot;no tracking information&quot;</div></pre></td></tr></table></figure>"},{"title":"linux ","date":"2017-10-09T09:15:01.000Z","_content":"\nlinux \n\n<!-- more -->\n\n# \n\n---\n\n``` bash\n#.tar\ntar xvf archive.tar\n#\ntar cvf archive.tar foo\n#()\n\n#.gz\ngunzip archive.gz\n#\ngzip -d archive.gz\n#\ngzip foo\n#\n\n#.tar.gz\ntar zxvf archive.tar.gz\n#\ntar zcvf archive.tar.gz foo\n#\n\n#.bz2\nbzip2 -d archive.bz2\n#\nbunzip2 archive.bz2\n#\nbzip2 -z foo\n#\n\n#.tar.bz2\ntar jxvf archive.tar.bz2\n#\ntar jcvf archive.tar.bz2 foo\n#\n\n#.bz\nbzip2 -d archive.bz\n#\nbunzip2 archive.bz\n#\n\n#.tar.bz\ntar jxvf archive.tar.bz\n#\n\n#.Z\nuncompress archive.Z\n#\ncompress foo\n#\n\n#.tar.Z\ntar Zxvf archive.tar.Z\n#\ntar Zcvf archive.tar.Z foo\n#\n\n#.tgz\ntar zxvf archive.tgz\n#\n\n#.tar.tgz\ntar zxvf archive.tar.tgz\n#\ntar zcvf archive.tar.tgz foo\n#\n\n#.zip\nunzip archive.zip\n#\nzip archive.zip foo\n#\n\n#.lha\nlha -e archive.lha\n#\nlha -a archive.lha foo\n#\n\n#.rar\nrar e archive.rar\n#\nrar a archive.rar foo\n#\n```","source":"_posts/201710091715.md","raw":"---\ntitle: linux \ndate: 2017-10-09 17:15:01\ntags:\n  - linux\n  - tools\n---\n\nlinux \n\n<!-- more -->\n\n# \n\n---\n\n``` bash\n#.tar\ntar xvf archive.tar\n#\ntar cvf archive.tar foo\n#()\n\n#.gz\ngunzip archive.gz\n#\ngzip -d archive.gz\n#\ngzip foo\n#\n\n#.tar.gz\ntar zxvf archive.tar.gz\n#\ntar zcvf archive.tar.gz foo\n#\n\n#.bz2\nbzip2 -d archive.bz2\n#\nbunzip2 archive.bz2\n#\nbzip2 -z foo\n#\n\n#.tar.bz2\ntar jxvf archive.tar.bz2\n#\ntar jcvf archive.tar.bz2 foo\n#\n\n#.bz\nbzip2 -d archive.bz\n#\nbunzip2 archive.bz\n#\n\n#.tar.bz\ntar jxvf archive.tar.bz\n#\n\n#.Z\nuncompress archive.Z\n#\ncompress foo\n#\n\n#.tar.Z\ntar Zxvf archive.tar.Z\n#\ntar Zcvf archive.tar.Z foo\n#\n\n#.tgz\ntar zxvf archive.tgz\n#\n\n#.tar.tgz\ntar zxvf archive.tar.tgz\n#\ntar zcvf archive.tar.tgz foo\n#\n\n#.zip\nunzip archive.zip\n#\nzip archive.zip foo\n#\n\n#.lha\nlha -e archive.lha\n#\nlha -a archive.lha foo\n#\n\n#.rar\nrar e archive.rar\n#\nrar a archive.rar foo\n#\n```","slug":"201710091715","published":1,"updated":"2017-10-09T09:19:21.083Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a264000kzizptgi918ap","content":"<p>linux </p>\n<a id=\"more\"></a>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><hr>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#.tar</span></div><div class=\"line\">tar xvf archive.tar</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar cvf archive.tar foo</div><div class=\"line\"><span class=\"comment\">#()</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.gz</span></div><div class=\"line\">gunzip archive.gz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">gzip -d archive.gz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">gzip foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.gz</span></div><div class=\"line\">tar zxvf archive.tar.gz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar zcvf archive.tar.gz foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.bz2</span></div><div class=\"line\">bzip2 -d archive.bz2</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">bunzip2 archive.bz2</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">bzip2 -z foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.bz2</span></div><div class=\"line\">tar jxvf archive.tar.bz2</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar jcvf archive.tar.bz2 foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.bz</span></div><div class=\"line\">bzip2 -d archive.bz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">bunzip2 archive.bz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.bz</span></div><div class=\"line\">tar jxvf archive.tar.bz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.Z</span></div><div class=\"line\">uncompress archive.Z</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">compress foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.Z</span></div><div class=\"line\">tar Zxvf archive.tar.Z</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar Zcvf archive.tar.Z foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tgz</span></div><div class=\"line\">tar zxvf archive.tgz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.tgz</span></div><div class=\"line\">tar zxvf archive.tar.tgz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar zcvf archive.tar.tgz foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.zip</span></div><div class=\"line\">unzip archive.zip</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">zip archive.zip foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.lha</span></div><div class=\"line\">lha -e archive.lha</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">lha -a archive.lha foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.rar</span></div><div class=\"line\">rar e archive.rar</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">rar a archive.rar foo</div><div class=\"line\"><span class=\"comment\">#</span></div></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>linux </p>","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><hr>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#.tar</span></div><div class=\"line\">tar xvf archive.tar</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar cvf archive.tar foo</div><div class=\"line\"><span class=\"comment\">#()</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.gz</span></div><div class=\"line\">gunzip archive.gz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">gzip -d archive.gz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">gzip foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.gz</span></div><div class=\"line\">tar zxvf archive.tar.gz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar zcvf archive.tar.gz foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.bz2</span></div><div class=\"line\">bzip2 -d archive.bz2</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">bunzip2 archive.bz2</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">bzip2 -z foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.bz2</span></div><div class=\"line\">tar jxvf archive.tar.bz2</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar jcvf archive.tar.bz2 foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.bz</span></div><div class=\"line\">bzip2 -d archive.bz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">bunzip2 archive.bz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.bz</span></div><div class=\"line\">tar jxvf archive.tar.bz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.Z</span></div><div class=\"line\">uncompress archive.Z</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">compress foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.Z</span></div><div class=\"line\">tar Zxvf archive.tar.Z</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar Zcvf archive.tar.Z foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tgz</span></div><div class=\"line\">tar zxvf archive.tgz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.tar.tgz</span></div><div class=\"line\">tar zxvf archive.tar.tgz</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">tar zcvf archive.tar.tgz foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.zip</span></div><div class=\"line\">unzip archive.zip</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">zip archive.zip foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.lha</span></div><div class=\"line\">lha -e archive.lha</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">lha -a archive.lha foo</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">#.rar</span></div><div class=\"line\">rar e archive.rar</div><div class=\"line\"><span class=\"comment\">#</span></div><div class=\"line\">rar a archive.rar foo</div><div class=\"line\"><span class=\"comment\">#</span></div></pre></td></tr></table></figure>"},{"title":"arch linuxhexo","date":"2017-10-09T09:23:01.000Z","_content":"\nleanote, github pages, hexo, arch linuxhexo\n\n<!-- more -->\n\n## \n- : arch linux\n- nodejs: v8.6.0\n- hexo: 3.3.9\n\n## 1. \n\ngit, nodejs, npm, hexo\n```\npacman -S git nodejs npm\nnpm config set unsafe-perm true\nnpm install hexo -g\n```\n\n## 2. \n\n### 2.1 \n\nblog, blog\n```\nhexo init\nnpm install\nnpm install https://github.com/CodeFalling/hexo-asset-image --save\nnpm install hexo-deployer-git --save\n```\n\n### 2.2 \n\nhexo_config.yml\n```\n# Hexo Configuration\n## Docs: https://hexo.io/docs/configuration.html\n## Source: https://github.com/hexojs/hexo/\n\n# Site\ntitle: littleya\nsubtitle:\ndescription:\nauthor: littleya\nlanguage: en\ntimezone: Asia/Shanghai\n\n# URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: https://littleya.github.io\nroot: /\npermalink: :year/:month/:day/:title/\npermalink_defaults:\n\n# Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n\n# Writing\nnew_post_name: :title.md # File name of new posts\ndefault_layout: post\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: true\nrelative_link: false\nfuture: true\nhighlight:\n  enable: true\n  line_number: true\n  auto_detect: false\n  tab_replace:\n  \n# Home page setting\n# path: Root path for your blogs index page. (default = '')\n# per_page: Posts displayed per page. (0 = disable pagination)\n# order_by: Posts order. (Order by date descending by default)\nindex_generator:\n  path: ''\n  per_page: 10\n  order_by: -date\n  \n# Category & Tag\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 10\npagination_dir: page\n\n# Extensions\n## Plugins: https://hexo.io/plugins/\n## Themes: https://hexo.io/themes/\ntheme: yilia\n\n# Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repo: git@github.com:littleya/littleya.github.io.git\n  branch: master\n\njsonContent:\n    meta: false\n    pages: false\n    posts:\n      title: true\n      date: true\n      path: true\n      text: false\n      raw: false\n      content: false\n      slug: false\n      updated: false\n      comments: false\n      link: false\n      permalink: false\n      excerpt: false\n      categories: false\n      tags: true\n```\n\nyilia_config.yml\n```\n# Header\n\nmenu:\n  Home: /\n  # : /tags//\n\n# SubNav\nsubnav:\n  github: \"#\"\n  weibo: \"#\"\n  rss: \"#\"\n  zhihu: \"#\"\n  #qq: \"#\"\n  #weixin: \"#\"\n  #jianshu: \"#\"\n  #douban: \"#\"\n  #segmentfault: \"#\"\n  #bilibili: \"#\"\n  #acfun: \"#\"\n  #mail: \"mailto:litten225@qq.com\"\n  #facebook: \"#\"\n  #google: \"#\"\n  #twitter: \"#\"\n  #linkedin: \"#\"\n\nrss: /atom.xml\n\n#  root \n#  http://yoursite.com/blog\n#  url  http://yoursite.com/blog  root  /blog/\nroot: \n\n# Content\n\n# false\nexcerpt_link: false\n# false\nshow_all_link: \"Read more\"\n# \nmathjax: false\n# \nopen_in_new: false\n\n# \n# type0- 1-mdreward:true 2-\n# reward_type: 2\n# wording\n# reward_wording: ''\n# /assets/img/alipay.jpg\n# alipay: \n# \n# weixin: \n\n# \n# 0- 1-mdtoc:true 2-\ntoc: 1\n# truehexofalse\ntoc_hide_index: true\n# \ntoc_empty_wording: ''\n\n# \ntop: true\n\n# Miscellaneous\nbaidu_analytics: ''\ngoogle_analytics: ''\nfavicon: /favicon.png\n\n#url\navatar:\n\n#\nshare_jia: false\n\n#1234Disqus5Gitment\n#false\n#wikihttps://github.com/litten/hexo-theme-yilia/wiki/\n\n#1\nduoshuo: false\n\n#2\nwangyiyun: false\n\n#3\nchangyan_appid: false\nchangyan_conf: false\n\n#4Disqus hexoconfigdisqus_shortnameyilia\ndisqus: false\n\n#5Gitment\ngitment_owner: false      # GitHub ID\ngitment_repo: ''          # repo\ngitment_oauth:\n  client_id: ''           #client ID\n  client_secret: ''       #client secret\n\n#  - \nstyle:\n  # \n  header: '#4d4d4d'\n  # \n  slider: 'linear-gradient(200deg,#a0cfe4,#e8c37e)'\n\n# slider\nslider:\n  # tags\n  showTags: false\n\n# \n# false\n# \n#smart_menu:\n#  friends: false\nsmart_menu:\n  innerArchive: 'All articles'\n  # friends: ''\n  aboutme: 'About me'\n\n# friends:\n#   1: http://localhost:4000/\n#   2: http://localhost:4000/\n#   3: http://localhost:4000/\n#   4: http://localhost:4000/\n#   5: http://localhost:4000/\n#   6: http://localhost:4000/\n\naboutme: <br><br><br>\n```\n\n### 2.3 \n\n- \n`hexo new <title>`\n\n- \n`hexo new page <title>`\n\n- \n`hexo generate`\n\n- \n`hexo server`\n\n- github\n`hexo deploy`\n\n## 3. \n\n### 3.1 \n\n- githublittleya.github.io\n\n- : master, hexo; hexo\n\n- git clone git@github.com:littleya/littleya.github.io.git \n\n- 2.1 \n\n- _config.ymldeploy, master, 2.2 \n\n- .gitignore, public/.deploy*/\n\n- git add .; git commit -m \"...\"; git push origin hexo (hexohexo)\n\n- hexo g -d (master)\n\n### 3.2 \n\n:\n\n- git add .; git commit -m \"...\"; git push origin hexo (hexohexo)\n\n- hexo g -d (master)\n\n### 3.3 \n\n- git clone git@github.com:littleya/littleya.github.io.git \n\n-  1, 2.1, 2.2(hexo init )","source":"_posts/201710091723.md","raw":"---\ntitle: arch linuxhexo\ndate: 2017-10-09 17:23:01\ntags:\n  - linux\n  - other\n---\n\nleanote, github pages, hexo, arch linuxhexo\n\n<!-- more -->\n\n## \n- : arch linux\n- nodejs: v8.6.0\n- hexo: 3.3.9\n\n## 1. \n\ngit, nodejs, npm, hexo\n```\npacman -S git nodejs npm\nnpm config set unsafe-perm true\nnpm install hexo -g\n```\n\n## 2. \n\n### 2.1 \n\nblog, blog\n```\nhexo init\nnpm install\nnpm install https://github.com/CodeFalling/hexo-asset-image --save\nnpm install hexo-deployer-git --save\n```\n\n### 2.2 \n\nhexo_config.yml\n```\n# Hexo Configuration\n## Docs: https://hexo.io/docs/configuration.html\n## Source: https://github.com/hexojs/hexo/\n\n# Site\ntitle: littleya\nsubtitle:\ndescription:\nauthor: littleya\nlanguage: en\ntimezone: Asia/Shanghai\n\n# URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: https://littleya.github.io\nroot: /\npermalink: :year/:month/:day/:title/\npermalink_defaults:\n\n# Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n\n# Writing\nnew_post_name: :title.md # File name of new posts\ndefault_layout: post\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: true\nrelative_link: false\nfuture: true\nhighlight:\n  enable: true\n  line_number: true\n  auto_detect: false\n  tab_replace:\n  \n# Home page setting\n# path: Root path for your blogs index page. (default = '')\n# per_page: Posts displayed per page. (0 = disable pagination)\n# order_by: Posts order. (Order by date descending by default)\nindex_generator:\n  path: ''\n  per_page: 10\n  order_by: -date\n  \n# Category & Tag\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 10\npagination_dir: page\n\n# Extensions\n## Plugins: https://hexo.io/plugins/\n## Themes: https://hexo.io/themes/\ntheme: yilia\n\n# Deployment\n## Docs: https://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repo: git@github.com:littleya/littleya.github.io.git\n  branch: master\n\njsonContent:\n    meta: false\n    pages: false\n    posts:\n      title: true\n      date: true\n      path: true\n      text: false\n      raw: false\n      content: false\n      slug: false\n      updated: false\n      comments: false\n      link: false\n      permalink: false\n      excerpt: false\n      categories: false\n      tags: true\n```\n\nyilia_config.yml\n```\n# Header\n\nmenu:\n  Home: /\n  # : /tags//\n\n# SubNav\nsubnav:\n  github: \"#\"\n  weibo: \"#\"\n  rss: \"#\"\n  zhihu: \"#\"\n  #qq: \"#\"\n  #weixin: \"#\"\n  #jianshu: \"#\"\n  #douban: \"#\"\n  #segmentfault: \"#\"\n  #bilibili: \"#\"\n  #acfun: \"#\"\n  #mail: \"mailto:litten225@qq.com\"\n  #facebook: \"#\"\n  #google: \"#\"\n  #twitter: \"#\"\n  #linkedin: \"#\"\n\nrss: /atom.xml\n\n#  root \n#  http://yoursite.com/blog\n#  url  http://yoursite.com/blog  root  /blog/\nroot: \n\n# Content\n\n# false\nexcerpt_link: false\n# false\nshow_all_link: \"Read more\"\n# \nmathjax: false\n# \nopen_in_new: false\n\n# \n# type0- 1-mdreward:true 2-\n# reward_type: 2\n# wording\n# reward_wording: ''\n# /assets/img/alipay.jpg\n# alipay: \n# \n# weixin: \n\n# \n# 0- 1-mdtoc:true 2-\ntoc: 1\n# truehexofalse\ntoc_hide_index: true\n# \ntoc_empty_wording: ''\n\n# \ntop: true\n\n# Miscellaneous\nbaidu_analytics: ''\ngoogle_analytics: ''\nfavicon: /favicon.png\n\n#url\navatar:\n\n#\nshare_jia: false\n\n#1234Disqus5Gitment\n#false\n#wikihttps://github.com/litten/hexo-theme-yilia/wiki/\n\n#1\nduoshuo: false\n\n#2\nwangyiyun: false\n\n#3\nchangyan_appid: false\nchangyan_conf: false\n\n#4Disqus hexoconfigdisqus_shortnameyilia\ndisqus: false\n\n#5Gitment\ngitment_owner: false      # GitHub ID\ngitment_repo: ''          # repo\ngitment_oauth:\n  client_id: ''           #client ID\n  client_secret: ''       #client secret\n\n#  - \nstyle:\n  # \n  header: '#4d4d4d'\n  # \n  slider: 'linear-gradient(200deg,#a0cfe4,#e8c37e)'\n\n# slider\nslider:\n  # tags\n  showTags: false\n\n# \n# false\n# \n#smart_menu:\n#  friends: false\nsmart_menu:\n  innerArchive: 'All articles'\n  # friends: ''\n  aboutme: 'About me'\n\n# friends:\n#   1: http://localhost:4000/\n#   2: http://localhost:4000/\n#   3: http://localhost:4000/\n#   4: http://localhost:4000/\n#   5: http://localhost:4000/\n#   6: http://localhost:4000/\n\naboutme: <br><br><br>\n```\n\n### 2.3 \n\n- \n`hexo new <title>`\n\n- \n`hexo new page <title>`\n\n- \n`hexo generate`\n\n- \n`hexo server`\n\n- github\n`hexo deploy`\n\n## 3. \n\n### 3.1 \n\n- githublittleya.github.io\n\n- : master, hexo; hexo\n\n- git clone git@github.com:littleya/littleya.github.io.git \n\n- 2.1 \n\n- _config.ymldeploy, master, 2.2 \n\n- .gitignore, public/.deploy*/\n\n- git add .; git commit -m \"...\"; git push origin hexo (hexohexo)\n\n- hexo g -d (master)\n\n### 3.2 \n\n:\n\n- git add .; git commit -m \"...\"; git push origin hexo (hexohexo)\n\n- hexo g -d (master)\n\n### 3.3 \n\n- git clone git@github.com:littleya/littleya.github.io.git \n\n-  1, 2.1, 2.2(hexo init )","slug":"201710091723","published":1,"updated":"2017-10-09T10:54:49.360Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj8k2a26c000mzizpja4q2k33","content":"<p>leanote, github pages, hexo, arch linuxhexo</p>\n<a id=\"more\"></a>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>: arch linux</li>\n<li>nodejs: v8.6.0</li>\n<li>hexo: 3.3.9</li>\n</ul>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p>git, nodejs, npm, hexo<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">pacman -S git nodejs npm</div><div class=\"line\">npm config set unsafe-perm true</div><div class=\"line\">npm install hexo -g</div></pre></td></tr></table></figure></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p>blog, blog<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo init</div><div class=\"line\">npm install</div><div class=\"line\">npm install https://github.com/CodeFalling/hexo-asset-image --save</div><div class=\"line\">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>hexo_config.yml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Hexo Configuration</div><div class=\"line\">## Docs: https://hexo.io/docs/configuration.html</div><div class=\"line\">## Source: https://github.com/hexojs/hexo/</div><div class=\"line\"></div><div class=\"line\"># Site</div><div class=\"line\">title: littleya</div><div class=\"line\">subtitle:</div><div class=\"line\">description:</div><div class=\"line\">author: littleya</div><div class=\"line\">language: en</div><div class=\"line\">timezone: Asia/Shanghai</div><div class=\"line\"></div><div class=\"line\"># URL</div><div class=\"line\">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</div><div class=\"line\">url: https://littleya.github.io</div><div class=\"line\">root: /</div><div class=\"line\">permalink: :year/:month/:day/:title/</div><div class=\"line\">permalink_defaults:</div><div class=\"line\"></div><div class=\"line\"># Directory</div><div class=\"line\">source_dir: source</div><div class=\"line\">public_dir: public</div><div class=\"line\">tag_dir: tags</div><div class=\"line\">archive_dir: archives</div><div class=\"line\">category_dir: categories</div><div class=\"line\">code_dir: downloads/code</div><div class=\"line\">i18n_dir: :lang</div><div class=\"line\">skip_render:</div><div class=\"line\"></div><div class=\"line\"># Writing</div><div class=\"line\">new_post_name: :title.md # File name of new posts</div><div class=\"line\">default_layout: post</div><div class=\"line\">titlecase: false # Transform title into titlecase</div><div class=\"line\">external_link: true # Open external links in new tab</div><div class=\"line\">filename_case: 0</div><div class=\"line\">render_drafts: false</div><div class=\"line\">post_asset_folder: true</div><div class=\"line\">relative_link: false</div><div class=\"line\">future: true</div><div class=\"line\">highlight:</div><div class=\"line\">  enable: true</div><div class=\"line\">  line_number: true</div><div class=\"line\">  auto_detect: false</div><div class=\"line\">  tab_replace:</div><div class=\"line\">  </div><div class=\"line\"># Home page setting</div><div class=\"line\"># path: Root path for your blogs index page. (default = &apos;&apos;)</div><div class=\"line\"># per_page: Posts displayed per page. (0 = disable pagination)</div><div class=\"line\"># order_by: Posts order. (Order by date descending by default)</div><div class=\"line\">index_generator:</div><div class=\"line\">  path: &apos;&apos;</div><div class=\"line\">  per_page: 10</div><div class=\"line\">  order_by: -date</div><div class=\"line\">  </div><div class=\"line\"># Category &amp; Tag</div><div class=\"line\">default_category: uncategorized</div><div class=\"line\">category_map:</div><div class=\"line\">tag_map:</div><div class=\"line\"></div><div class=\"line\"># Date / Time format</div><div class=\"line\">## Hexo uses Moment.js to parse and display date</div><div class=\"line\">## You can customize the date format as defined in</div><div class=\"line\">## http://momentjs.com/docs/#/displaying/format/</div><div class=\"line\">date_format: YYYY-MM-DD</div><div class=\"line\">time_format: HH:mm:ss</div><div class=\"line\"></div><div class=\"line\"># Pagination</div><div class=\"line\">## Set per_page to 0 to disable pagination</div><div class=\"line\">per_page: 10</div><div class=\"line\">pagination_dir: page</div><div class=\"line\"></div><div class=\"line\"># Extensions</div><div class=\"line\">## Plugins: https://hexo.io/plugins/</div><div class=\"line\">## Themes: https://hexo.io/themes/</div><div class=\"line\">theme: yilia</div><div class=\"line\"></div><div class=\"line\"># Deployment</div><div class=\"line\">## Docs: https://hexo.io/docs/deployment.html</div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repo: git@github.com:littleya/littleya.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\"></div><div class=\"line\">jsonContent:</div><div class=\"line\">    meta: false</div><div class=\"line\">    pages: false</div><div class=\"line\">    posts:</div><div class=\"line\">      title: true</div><div class=\"line\">      date: true</div><div class=\"line\">      path: true</div><div class=\"line\">      text: false</div><div class=\"line\">      raw: false</div><div class=\"line\">      content: false</div><div class=\"line\">      slug: false</div><div class=\"line\">      updated: false</div><div class=\"line\">      comments: false</div><div class=\"line\">      link: false</div><div class=\"line\">      permalink: false</div><div class=\"line\">      excerpt: false</div><div class=\"line\">      categories: false</div><div class=\"line\">      tags: true</div></pre></td></tr></table></figure></p>\n<p>yilia_config.yml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Header</div><div class=\"line\"></div><div class=\"line\">menu:</div><div class=\"line\">  Home: /</div><div class=\"line\">  # : /tags//</div><div class=\"line\"></div><div class=\"line\"># SubNav</div><div class=\"line\">subnav:</div><div class=\"line\">  github: &quot;#&quot;</div><div class=\"line\">  weibo: &quot;#&quot;</div><div class=\"line\">  rss: &quot;#&quot;</div><div class=\"line\">  zhihu: &quot;#&quot;</div><div class=\"line\">  #qq: &quot;#&quot;</div><div class=\"line\">  #weixin: &quot;#&quot;</div><div class=\"line\">  #jianshu: &quot;#&quot;</div><div class=\"line\">  #douban: &quot;#&quot;</div><div class=\"line\">  #segmentfault: &quot;#&quot;</div><div class=\"line\">  #bilibili: &quot;#&quot;</div><div class=\"line\">  #acfun: &quot;#&quot;</div><div class=\"line\">  #mail: &quot;mailto:litten225@qq.com&quot;</div><div class=\"line\">  #facebook: &quot;#&quot;</div><div class=\"line\">  #google: &quot;#&quot;</div><div class=\"line\">  #twitter: &quot;#&quot;</div><div class=\"line\">  #linkedin: &quot;#&quot;</div><div class=\"line\"></div><div class=\"line\">rss: /atom.xml</div><div class=\"line\"></div><div class=\"line\">#  root </div><div class=\"line\">#  http://yoursite.com/blog</div><div class=\"line\">#  url  http://yoursite.com/blog  root  /blog/</div><div class=\"line\">root: </div><div class=\"line\"></div><div class=\"line\"># Content</div><div class=\"line\"></div><div class=\"line\"># false</div><div class=\"line\">excerpt_link: false</div><div class=\"line\"># false</div><div class=\"line\">show_all_link: &quot;Read more&quot;</div><div class=\"line\"># </div><div class=\"line\">mathjax: false</div><div class=\"line\"># </div><div class=\"line\">open_in_new: false</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\"># type0- 1-mdreward:true 2-</div><div class=\"line\"># reward_type: 2</div><div class=\"line\"># wording</div><div class=\"line\"># reward_wording: &apos;&apos;</div><div class=\"line\"># /assets/img/alipay.jpg</div><div class=\"line\"># alipay: </div><div class=\"line\"># </div><div class=\"line\"># weixin: </div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\"># 0- 1-mdtoc:true 2-</div><div class=\"line\">toc: 1</div><div class=\"line\"># truehexofalse</div><div class=\"line\">toc_hide_index: true</div><div class=\"line\"># </div><div class=\"line\">toc_empty_wording: &apos;&apos;</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\">top: true</div><div class=\"line\"></div><div class=\"line\"># Miscellaneous</div><div class=\"line\">baidu_analytics: &apos;&apos;</div><div class=\"line\">google_analytics: &apos;&apos;</div><div class=\"line\">favicon: /favicon.png</div><div class=\"line\"></div><div class=\"line\">#url</div><div class=\"line\">avatar:</div><div class=\"line\"></div><div class=\"line\">#</div><div class=\"line\">share_jia: false</div><div class=\"line\"></div><div class=\"line\">#1234Disqus5Gitment</div><div class=\"line\">#false</div><div class=\"line\">#wikihttps://github.com/litten/hexo-theme-yilia/wiki/</div><div class=\"line\"></div><div class=\"line\">#1</div><div class=\"line\">duoshuo: false</div><div class=\"line\"></div><div class=\"line\">#2</div><div class=\"line\">wangyiyun: false</div><div class=\"line\"></div><div class=\"line\">#3</div><div class=\"line\">changyan_appid: false</div><div class=\"line\">changyan_conf: false</div><div class=\"line\"></div><div class=\"line\">#4Disqus hexoconfigdisqus_shortnameyilia</div><div class=\"line\">disqus: false</div><div class=\"line\"></div><div class=\"line\">#5Gitment</div><div class=\"line\">gitment_owner: false      # GitHub ID</div><div class=\"line\">gitment_repo: &apos;&apos;          # repo</div><div class=\"line\">gitment_oauth:</div><div class=\"line\">  client_id: &apos;&apos;           #client ID</div><div class=\"line\">  client_secret: &apos;&apos;       #client secret</div><div class=\"line\"></div><div class=\"line\">#  - </div><div class=\"line\">style:</div><div class=\"line\">  # </div><div class=\"line\">  header: &apos;#4d4d4d&apos;</div><div class=\"line\">  # </div><div class=\"line\">  slider: &apos;linear-gradient(200deg,#a0cfe4,#e8c37e)&apos;</div><div class=\"line\"></div><div class=\"line\"># slider</div><div class=\"line\">slider:</div><div class=\"line\">  # tags</div><div class=\"line\">  showTags: false</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\"># false</div><div class=\"line\"># </div><div class=\"line\">#smart_menu:</div><div class=\"line\">#  friends: false</div><div class=\"line\">smart_menu:</div><div class=\"line\">  innerArchive: &apos;All articles&apos;</div><div class=\"line\">  # friends: &apos;&apos;</div><div class=\"line\">  aboutme: &apos;About me&apos;</div><div class=\"line\"></div><div class=\"line\"># friends:</div><div class=\"line\">#   1: http://localhost:4000/</div><div class=\"line\">#   2: http://localhost:4000/</div><div class=\"line\">#   3: http://localhost:4000/</div><div class=\"line\">#   4: http://localhost:4000/</div><div class=\"line\">#   5: http://localhost:4000/</div><div class=\"line\">#   6: http://localhost:4000/</div><div class=\"line\"></div><div class=\"line\">aboutme: &lt;br&gt;&lt;br&gt;&lt;br&gt;</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><ul>\n<li><p><br><code>hexo new &lt;title&gt;</code></p>\n</li>\n<li><p><br><code>hexo new page &lt;title&gt;</code></p>\n</li>\n<li><p><br><code>hexo generate</code></p>\n</li>\n<li><p><br><code>hexo server</code></p>\n</li>\n<li><p>github<br><code>hexo deploy</code></p>\n</li>\n</ul>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><ul>\n<li><p>githublittleya.github.io</p>\n</li>\n<li><p>: master, hexo; hexo</p>\n</li>\n<li><p>git clone git@github.com:littleya/littleya.github.io.git </p>\n</li>\n<li><p>2.1 </p>\n</li>\n<li><p>_config.ymldeploy, master, 2.2 </p>\n</li>\n<li><p>.gitignore, public/.deploy*/</p>\n</li>\n<li><p>git add .; git commit -m ; git push origin hexo (hexohexo)</p>\n</li>\n<li><p>hexo g -d (master)</p>\n</li>\n</ul>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>:</p>\n<ul>\n<li><p>git add .; git commit -m ; git push origin hexo (hexohexo)</p>\n</li>\n<li><p>hexo g -d (master)</p>\n</li>\n</ul>\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><ul>\n<li><p>git clone git@github.com:littleya/littleya.github.io.git </p>\n</li>\n<li><p> 1, 2.1, 2.2(hexo init )</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>leanote, github pages, hexo, arch linuxhexo</p>","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>: arch linux</li>\n<li>nodejs: v8.6.0</li>\n<li>hexo: 3.3.9</li>\n</ul>\n<h2 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h2><p>git, nodejs, npm, hexo<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">pacman -S git nodejs npm</div><div class=\"line\">npm config set unsafe-perm true</div><div class=\"line\">npm install hexo -g</div></pre></td></tr></table></figure></p>\n<h2 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h2><h3 id=\"2-1-\"><a href=\"#2-1-\" class=\"headerlink\" title=\"2.1 \"></a>2.1 </h3><p>blog, blog<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo init</div><div class=\"line\">npm install</div><div class=\"line\">npm install https://github.com/CodeFalling/hexo-asset-image --save</div><div class=\"line\">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-2-\"><a href=\"#2-2-\" class=\"headerlink\" title=\"2.2 \"></a>2.2 </h3><p>hexo_config.yml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Hexo Configuration</div><div class=\"line\">## Docs: https://hexo.io/docs/configuration.html</div><div class=\"line\">## Source: https://github.com/hexojs/hexo/</div><div class=\"line\"></div><div class=\"line\"># Site</div><div class=\"line\">title: littleya</div><div class=\"line\">subtitle:</div><div class=\"line\">description:</div><div class=\"line\">author: littleya</div><div class=\"line\">language: en</div><div class=\"line\">timezone: Asia/Shanghai</div><div class=\"line\"></div><div class=\"line\"># URL</div><div class=\"line\">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</div><div class=\"line\">url: https://littleya.github.io</div><div class=\"line\">root: /</div><div class=\"line\">permalink: :year/:month/:day/:title/</div><div class=\"line\">permalink_defaults:</div><div class=\"line\"></div><div class=\"line\"># Directory</div><div class=\"line\">source_dir: source</div><div class=\"line\">public_dir: public</div><div class=\"line\">tag_dir: tags</div><div class=\"line\">archive_dir: archives</div><div class=\"line\">category_dir: categories</div><div class=\"line\">code_dir: downloads/code</div><div class=\"line\">i18n_dir: :lang</div><div class=\"line\">skip_render:</div><div class=\"line\"></div><div class=\"line\"># Writing</div><div class=\"line\">new_post_name: :title.md # File name of new posts</div><div class=\"line\">default_layout: post</div><div class=\"line\">titlecase: false # Transform title into titlecase</div><div class=\"line\">external_link: true # Open external links in new tab</div><div class=\"line\">filename_case: 0</div><div class=\"line\">render_drafts: false</div><div class=\"line\">post_asset_folder: true</div><div class=\"line\">relative_link: false</div><div class=\"line\">future: true</div><div class=\"line\">highlight:</div><div class=\"line\">  enable: true</div><div class=\"line\">  line_number: true</div><div class=\"line\">  auto_detect: false</div><div class=\"line\">  tab_replace:</div><div class=\"line\">  </div><div class=\"line\"># Home page setting</div><div class=\"line\"># path: Root path for your blogs index page. (default = &apos;&apos;)</div><div class=\"line\"># per_page: Posts displayed per page. (0 = disable pagination)</div><div class=\"line\"># order_by: Posts order. (Order by date descending by default)</div><div class=\"line\">index_generator:</div><div class=\"line\">  path: &apos;&apos;</div><div class=\"line\">  per_page: 10</div><div class=\"line\">  order_by: -date</div><div class=\"line\">  </div><div class=\"line\"># Category &amp; Tag</div><div class=\"line\">default_category: uncategorized</div><div class=\"line\">category_map:</div><div class=\"line\">tag_map:</div><div class=\"line\"></div><div class=\"line\"># Date / Time format</div><div class=\"line\">## Hexo uses Moment.js to parse and display date</div><div class=\"line\">## You can customize the date format as defined in</div><div class=\"line\">## http://momentjs.com/docs/#/displaying/format/</div><div class=\"line\">date_format: YYYY-MM-DD</div><div class=\"line\">time_format: HH:mm:ss</div><div class=\"line\"></div><div class=\"line\"># Pagination</div><div class=\"line\">## Set per_page to 0 to disable pagination</div><div class=\"line\">per_page: 10</div><div class=\"line\">pagination_dir: page</div><div class=\"line\"></div><div class=\"line\"># Extensions</div><div class=\"line\">## Plugins: https://hexo.io/plugins/</div><div class=\"line\">## Themes: https://hexo.io/themes/</div><div class=\"line\">theme: yilia</div><div class=\"line\"></div><div class=\"line\"># Deployment</div><div class=\"line\">## Docs: https://hexo.io/docs/deployment.html</div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repo: git@github.com:littleya/littleya.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\"></div><div class=\"line\">jsonContent:</div><div class=\"line\">    meta: false</div><div class=\"line\">    pages: false</div><div class=\"line\">    posts:</div><div class=\"line\">      title: true</div><div class=\"line\">      date: true</div><div class=\"line\">      path: true</div><div class=\"line\">      text: false</div><div class=\"line\">      raw: false</div><div class=\"line\">      content: false</div><div class=\"line\">      slug: false</div><div class=\"line\">      updated: false</div><div class=\"line\">      comments: false</div><div class=\"line\">      link: false</div><div class=\"line\">      permalink: false</div><div class=\"line\">      excerpt: false</div><div class=\"line\">      categories: false</div><div class=\"line\">      tags: true</div></pre></td></tr></table></figure></p>\n<p>yilia_config.yml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Header</div><div class=\"line\"></div><div class=\"line\">menu:</div><div class=\"line\">  Home: /</div><div class=\"line\">  # : /tags//</div><div class=\"line\"></div><div class=\"line\"># SubNav</div><div class=\"line\">subnav:</div><div class=\"line\">  github: &quot;#&quot;</div><div class=\"line\">  weibo: &quot;#&quot;</div><div class=\"line\">  rss: &quot;#&quot;</div><div class=\"line\">  zhihu: &quot;#&quot;</div><div class=\"line\">  #qq: &quot;#&quot;</div><div class=\"line\">  #weixin: &quot;#&quot;</div><div class=\"line\">  #jianshu: &quot;#&quot;</div><div class=\"line\">  #douban: &quot;#&quot;</div><div class=\"line\">  #segmentfault: &quot;#&quot;</div><div class=\"line\">  #bilibili: &quot;#&quot;</div><div class=\"line\">  #acfun: &quot;#&quot;</div><div class=\"line\">  #mail: &quot;mailto:litten225@qq.com&quot;</div><div class=\"line\">  #facebook: &quot;#&quot;</div><div class=\"line\">  #google: &quot;#&quot;</div><div class=\"line\">  #twitter: &quot;#&quot;</div><div class=\"line\">  #linkedin: &quot;#&quot;</div><div class=\"line\"></div><div class=\"line\">rss: /atom.xml</div><div class=\"line\"></div><div class=\"line\">#  root </div><div class=\"line\">#  http://yoursite.com/blog</div><div class=\"line\">#  url  http://yoursite.com/blog  root  /blog/</div><div class=\"line\">root: </div><div class=\"line\"></div><div class=\"line\"># Content</div><div class=\"line\"></div><div class=\"line\"># false</div><div class=\"line\">excerpt_link: false</div><div class=\"line\"># false</div><div class=\"line\">show_all_link: &quot;Read more&quot;</div><div class=\"line\"># </div><div class=\"line\">mathjax: false</div><div class=\"line\"># </div><div class=\"line\">open_in_new: false</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\"># type0- 1-mdreward:true 2-</div><div class=\"line\"># reward_type: 2</div><div class=\"line\"># wording</div><div class=\"line\"># reward_wording: &apos;&apos;</div><div class=\"line\"># /assets/img/alipay.jpg</div><div class=\"line\"># alipay: </div><div class=\"line\"># </div><div class=\"line\"># weixin: </div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\"># 0- 1-mdtoc:true 2-</div><div class=\"line\">toc: 1</div><div class=\"line\"># truehexofalse</div><div class=\"line\">toc_hide_index: true</div><div class=\"line\"># </div><div class=\"line\">toc_empty_wording: &apos;&apos;</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\">top: true</div><div class=\"line\"></div><div class=\"line\"># Miscellaneous</div><div class=\"line\">baidu_analytics: &apos;&apos;</div><div class=\"line\">google_analytics: &apos;&apos;</div><div class=\"line\">favicon: /favicon.png</div><div class=\"line\"></div><div class=\"line\">#url</div><div class=\"line\">avatar:</div><div class=\"line\"></div><div class=\"line\">#</div><div class=\"line\">share_jia: false</div><div class=\"line\"></div><div class=\"line\">#1234Disqus5Gitment</div><div class=\"line\">#false</div><div class=\"line\">#wikihttps://github.com/litten/hexo-theme-yilia/wiki/</div><div class=\"line\"></div><div class=\"line\">#1</div><div class=\"line\">duoshuo: false</div><div class=\"line\"></div><div class=\"line\">#2</div><div class=\"line\">wangyiyun: false</div><div class=\"line\"></div><div class=\"line\">#3</div><div class=\"line\">changyan_appid: false</div><div class=\"line\">changyan_conf: false</div><div class=\"line\"></div><div class=\"line\">#4Disqus hexoconfigdisqus_shortnameyilia</div><div class=\"line\">disqus: false</div><div class=\"line\"></div><div class=\"line\">#5Gitment</div><div class=\"line\">gitment_owner: false      # GitHub ID</div><div class=\"line\">gitment_repo: &apos;&apos;          # repo</div><div class=\"line\">gitment_oauth:</div><div class=\"line\">  client_id: &apos;&apos;           #client ID</div><div class=\"line\">  client_secret: &apos;&apos;       #client secret</div><div class=\"line\"></div><div class=\"line\">#  - </div><div class=\"line\">style:</div><div class=\"line\">  # </div><div class=\"line\">  header: &apos;#4d4d4d&apos;</div><div class=\"line\">  # </div><div class=\"line\">  slider: &apos;linear-gradient(200deg,#a0cfe4,#e8c37e)&apos;</div><div class=\"line\"></div><div class=\"line\"># slider</div><div class=\"line\">slider:</div><div class=\"line\">  # tags</div><div class=\"line\">  showTags: false</div><div class=\"line\"></div><div class=\"line\"># </div><div class=\"line\"># false</div><div class=\"line\"># </div><div class=\"line\">#smart_menu:</div><div class=\"line\">#  friends: false</div><div class=\"line\">smart_menu:</div><div class=\"line\">  innerArchive: &apos;All articles&apos;</div><div class=\"line\">  # friends: &apos;&apos;</div><div class=\"line\">  aboutme: &apos;About me&apos;</div><div class=\"line\"></div><div class=\"line\"># friends:</div><div class=\"line\">#   1: http://localhost:4000/</div><div class=\"line\">#   2: http://localhost:4000/</div><div class=\"line\">#   3: http://localhost:4000/</div><div class=\"line\">#   4: http://localhost:4000/</div><div class=\"line\">#   5: http://localhost:4000/</div><div class=\"line\">#   6: http://localhost:4000/</div><div class=\"line\"></div><div class=\"line\">aboutme: &lt;br&gt;&lt;br&gt;&lt;br&gt;</div></pre></td></tr></table></figure></p>\n<h3 id=\"2-3-\"><a href=\"#2-3-\" class=\"headerlink\" title=\"2.3 \"></a>2.3 </h3><ul>\n<li><p><br><code>hexo new &lt;title&gt;</code></p>\n</li>\n<li><p><br><code>hexo new page &lt;title&gt;</code></p>\n</li>\n<li><p><br><code>hexo generate</code></p>\n</li>\n<li><p><br><code>hexo server</code></p>\n</li>\n<li><p>github<br><code>hexo deploy</code></p>\n</li>\n</ul>\n<h2 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h2><h3 id=\"3-1-\"><a href=\"#3-1-\" class=\"headerlink\" title=\"3.1 \"></a>3.1 </h3><ul>\n<li><p>githublittleya.github.io</p>\n</li>\n<li><p>: master, hexo; hexo</p>\n</li>\n<li><p>git clone git@github.com:littleya/littleya.github.io.git </p>\n</li>\n<li><p>2.1 </p>\n</li>\n<li><p>_config.ymldeploy, master, 2.2 </p>\n</li>\n<li><p>.gitignore, public/.deploy*/</p>\n</li>\n<li><p>git add .; git commit -m ; git push origin hexo (hexohexo)</p>\n</li>\n<li><p>hexo g -d (master)</p>\n</li>\n</ul>\n<h3 id=\"3-2-\"><a href=\"#3-2-\" class=\"headerlink\" title=\"3.2 \"></a>3.2 </h3><p>:</p>\n<ul>\n<li><p>git add .; git commit -m ; git push origin hexo (hexohexo)</p>\n</li>\n<li><p>hexo g -d (master)</p>\n</li>\n</ul>\n<h3 id=\"3-3-\"><a href=\"#3-3-\" class=\"headerlink\" title=\"3.3 \"></a>3.3 </h3><ul>\n<li><p>git clone git@github.com:littleya/littleya.github.io.git </p>\n</li>\n<li><p> 1, 2.1, 2.2(hexo init )</p>\n</li>\n</ul>"}],"PostAsset":[{"_id":"source/_posts/201710091601/183e05351cd1cd68.jpg","slug":"183e05351cd1cd68.jpg","post":"cj8k2a24r0000zizpavcpsk1z","modified":1,"renderable":0},{"_id":"source/_posts/201710091601/295ffe7e24431533.jpg","slug":"295ffe7e24431533.jpg","post":"cj8k2a24r0000zizpavcpsk1z","modified":1,"renderable":0},{"_id":"source/_posts/201710091601/59918027883d893c.jpg","slug":"59918027883d893c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","modified":1,"renderable":0},{"_id":"source/_posts/201710091601/68b12c83fd82b947.jpg","slug":"68b12c83fd82b947.jpg","post":"cj8k2a24r0000zizpavcpsk1z","modified":1,"renderable":0},{"_id":"source/_posts/201710091601/90b48b8f16df2557.jpg","slug":"90b48b8f16df2557.jpg","post":"cj8k2a24r0000zizpavcpsk1z","modified":1,"renderable":0},{"_id":"source/_posts/201710091601/ba39d3720b24a03f.jpg","slug":"ba39d3720b24a03f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","modified":1,"renderable":0},{"_id":"source/_posts/201710091643/183e05351cd1cd68.jpg","slug":"183e05351cd1cd68.jpg","post":"cj8k2a24w0001zizpmwxpmio4","modified":1,"renderable":0},{"_id":"source/_posts/201710091643/295ffe7e24431533.jpg","slug":"295ffe7e24431533.jpg","post":"cj8k2a24w0001zizpmwxpmio4","modified":1,"renderable":0},{"_id":"source/_posts/201710091643/59918027883d893c.jpg","slug":"59918027883d893c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","modified":1,"renderable":0},{"_id":"source/_posts/201710091643/68b12c83fd82b947.jpg","slug":"68b12c83fd82b947.jpg","post":"cj8k2a24w0001zizpmwxpmio4","modified":1,"renderable":0},{"_id":"source/_posts/201710091643/90b48b8f16df2557.jpg","slug":"90b48b8f16df2557.jpg","post":"cj8k2a24w0001zizpmwxpmio4","modified":1,"renderable":0},{"_id":"source/_posts/201710091643/ba39d3720b24a03f.jpg","slug":"ba39d3720b24a03f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","modified":1,"renderable":0},{"_id":"source/_posts/201710091601/031b589e22e15416.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"031b589e22e15416.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/06132485ab59545a.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"06132485ab59545a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/06c092ba2bbcc190.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"06c092ba2bbcc190.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/07d3ef73b5c3f8ce.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"07d3ef73b5c3f8ce.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/0afa78fbca1dc288.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"0afa78fbca1dc288.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/0c837e38c20eba10.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"0c837e38c20eba10.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/0cfc23cd25d88711.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"0cfc23cd25d88711.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/0e655e34fd585501.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"0e655e34fd585501.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/0feee6754fbdf152.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"0feee6754fbdf152.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/1508a77d6a8ea1c8.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"1508a77d6a8ea1c8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/1673c7249c05f467.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"1673c7249c05f467.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/180a716339eaac7d.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"180a716339eaac7d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/1a594160a1ba91e0.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"1a594160a1ba91e0.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/1cda4b829db27966.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"1cda4b829db27966.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/1d6b5e876b43563e.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"1d6b5e876b43563e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/21eef25b932cef4f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"21eef25b932cef4f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/2324f721115c3785.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"2324f721115c3785.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/2354389b190af5b4.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"2354389b190af5b4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/266f5cf2a5c7db28.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"266f5cf2a5c7db28.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/2a5be182dfce2f21.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"2a5be182dfce2f21.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/2d6ca36262af1fb1.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"2d6ca36262af1fb1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/2d95d2595ef8cf3b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"2d95d2595ef8cf3b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/2f56d5f920ff1ade.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"2f56d5f920ff1ade.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/32e3eb023f6ee3ba.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"32e3eb023f6ee3ba.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/339c821002d465d5.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"339c821002d465d5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/37bfc853a59b3cea.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"37bfc853a59b3cea.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/3d6c3c2b7962e631.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"3d6c3c2b7962e631.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/42997c9404fbb3c5.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"42997c9404fbb3c5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/42d722931576c18a.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"42d722931576c18a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/48071838f3615424.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"48071838f3615424.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/4812df9dc90e7725.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"4812df9dc90e7725.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/4c9a2f038cdaeb71.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"4c9a2f038cdaeb71.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/50b60481426d3afd.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"50b60481426d3afd.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/528dcf36c7d52e6e.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"528dcf36c7d52e6e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/545eaec054fd5218.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"545eaec054fd5218.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/551b7ab676551748.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"551b7ab676551748.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/566bae7cacf04cc7.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"566bae7cacf04cc7.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/5691d99da449aeb2.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"5691d99da449aeb2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/5a74c07b6f07c6d7.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"5a74c07b6f07c6d7.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/5ae453ac46cb1abd.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"5ae453ac46cb1abd.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/5b4ae1ddf38c5bac.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"5b4ae1ddf38c5bac.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/5cf991d40fd5681e.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"5cf991d40fd5681e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/6062c404ce14a9d1.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"6062c404ce14a9d1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/61e865e896205541.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"61e865e896205541.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/62ab2af515b36b54.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"62ab2af515b36b54.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/633b5face3642b7c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"633b5face3642b7c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/63d531446c748da6.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"63d531446c748da6.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/66e88f1227120852.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"66e88f1227120852.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/6848d154f70459a4.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"6848d154f70459a4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/6a9abbd5bcd8ae9b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"6a9abbd5bcd8ae9b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/6cbc855c0e0788ca.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"6cbc855c0e0788ca.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/6e480ad0f8a2f6f8.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"6e480ad0f8a2f6f8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/6e979887453d65b1.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"6e979887453d65b1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/73411fbff77a7f7f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"73411fbff77a7f7f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/744d4a1d9493956f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"744d4a1d9493956f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/751bb2b097bb76bf.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"751bb2b097bb76bf.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/7775353d41d1249a.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"7775353d41d1249a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/785e0001fc28c841.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"785e0001fc28c841.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/7896501557e9646b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"7896501557e9646b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/7977fce67fad7ab2.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"7977fce67fad7ab2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/7d3f472d90225cb6.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"7d3f472d90225cb6.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/873b13631b0a2d43.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"873b13631b0a2d43.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/89d7a010bcc96bca.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"89d7a010bcc96bca.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/89edccb8d8efc05c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"89edccb8d8efc05c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/8e5ebabc9106f714.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"8e5ebabc9106f714.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/8f4b4c50b604bbdf.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"8f4b4c50b604bbdf.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/8f64eab0ae66fc3a.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"8f64eab0ae66fc3a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/8f82cb2725fa616e.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"8f82cb2725fa616e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/8ff306dda9496ae3.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"8ff306dda9496ae3.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/939dfa4b1fcc1ce4.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"939dfa4b1fcc1ce4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/941e2ac251f1c098.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"941e2ac251f1c098.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/95811662f155207b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"95811662f155207b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/95b0d3bf93fe30ff.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"95b0d3bf93fe30ff.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/96ac1f339e1a918c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"96ac1f339e1a918c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/973098e8bf92ca7d.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"973098e8bf92ca7d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/99c342e6c648a626.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"99c342e6c648a626.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/9aecf98177c7cca2.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"9aecf98177c7cca2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/9b3ba694564ec5f0.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"9b3ba694564ec5f0.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/9e2505199e03c37c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"9e2505199e03c37c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/9f4a8ebbc574434d.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"9f4a8ebbc574434d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/a182ce0049370fe2.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"a182ce0049370fe2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/a20500ba11982b27.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"a20500ba11982b27.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/a2709486cef98dd9.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"a2709486cef98dd9.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/a5e44268d9368b5e.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"a5e44268d9368b5e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/a73157c0e03e0bef.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"a73157c0e03e0bef.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/a88904ba22eff8e8.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"a88904ba22eff8e8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/abfe4002d809a330.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"abfe4002d809a330.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/ad32819d93b8330c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"ad32819d93b8330c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/ae6370a150336ea8.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"ae6370a150336ea8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/af16537d53144f5b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"af16537d53144f5b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/aff21e7004340e15.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"aff21e7004340e15.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b121ca70c26deb9b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b121ca70c26deb9b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b169f5c72441e23a.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b169f5c72441e23a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b1969927bd8996fc.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b1969927bd8996fc.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b1e83ae7831df206.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b1e83ae7831df206.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b39860a01ad48dc3.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b39860a01ad48dc3.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b4b3d6a322cdc35d.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b4b3d6a322cdc35d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b54c525c75ddad2c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b54c525c75ddad2c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/b9575e72d62e7474.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"b9575e72d62e7474.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/ba5c85b09c522978.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"ba5c85b09c522978.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/bd5f4888a2ae5a64.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"bd5f4888a2ae5a64.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/c1e7b073aa72b3c1.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"c1e7b073aa72b3c1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/c3138d78572d2472.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"c3138d78572d2472.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/c34e5c68c50e2534.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"c34e5c68c50e2534.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/c48ab6841594e0ac.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"c48ab6841594e0ac.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/c4c9fe68e495067a.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"c4c9fe68e495067a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/c50e8879ac7789e9.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"c50e8879ac7789e9.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/cbedaa2848096de4.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"cbedaa2848096de4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/cdbf09ff9e323ccf.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"cdbf09ff9e323ccf.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d0e16aa7a3eecca7.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d0e16aa7a3eecca7.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d4c4710cfbbb1b48.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d4c4710cfbbb1b48.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d52ef53e746bc4cb.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d52ef53e746bc4cb.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d547095ccdfa9a70.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d547095ccdfa9a70.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d6e56c27934793e5.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d6e56c27934793e5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d805875fea4f71d5.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d805875fea4f71d5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d84386cd9bcedc8f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d84386cd9bcedc8f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/d9fd15b03ad56209.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"d9fd15b03ad56209.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e0099648baa42e6f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e0099648baa42e6f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e01e25032e3cd3a8.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e01e25032e3cd3a8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e0b95334d12d044f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e0b95334d12d044f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e0b981f651d23679.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e0b981f651d23679.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e0bb2f4c6b455757.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e0bb2f4c6b455757.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e53df4dd51341905.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e53df4dd51341905.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e5aa907519fce1c0.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e5aa907519fce1c0.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e620aae6ab7c8e13.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e620aae6ab7c8e13.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e649a7b010a24b60.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e649a7b010a24b60.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e696685082cabdab.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e696685082cabdab.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e6eaabb5e0327380.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e6eaabb5e0327380.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/e83ee1ff8a839a1c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"e83ee1ff8a839a1c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/eb9fae41092bd441.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"eb9fae41092bd441.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f10b4296db3e0a05.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f10b4296db3e0a05.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f410bb787d1fb33f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f410bb787d1fb33f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f4526c5a2570e5b2.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f4526c5a2570e5b2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f48bf0716013ac11.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f48bf0716013ac11.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f48dc945f00e213f.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f48dc945f00e213f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f9120d53fb7c396b.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f9120d53fb7c396b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/f92ff5e1e860a45c.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"f92ff5e1e860a45c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/fb218f399632a938.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"fb218f399632a938.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/fb85018c73538669.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"fb85018c73538669.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091601/fba20274fc7b6174.jpg","post":"cj8k2a24r0000zizpavcpsk1z","slug":"fba20274fc7b6174.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/031b589e22e15416.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"031b589e22e15416.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/06132485ab59545a.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"06132485ab59545a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/06c092ba2bbcc190.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"06c092ba2bbcc190.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/07d3ef73b5c3f8ce.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"07d3ef73b5c3f8ce.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/0afa78fbca1dc288.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"0afa78fbca1dc288.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/0c837e38c20eba10.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"0c837e38c20eba10.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/0cfc23cd25d88711.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"0cfc23cd25d88711.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/0e655e34fd585501.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"0e655e34fd585501.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/0feee6754fbdf152.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"0feee6754fbdf152.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/1508a77d6a8ea1c8.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"1508a77d6a8ea1c8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/1673c7249c05f467.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"1673c7249c05f467.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/180a716339eaac7d.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"180a716339eaac7d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/1a594160a1ba91e0.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"1a594160a1ba91e0.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/1cda4b829db27966.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"1cda4b829db27966.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/1d6b5e876b43563e.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"1d6b5e876b43563e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/21eef25b932cef4f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"21eef25b932cef4f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/2324f721115c3785.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"2324f721115c3785.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/2354389b190af5b4.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"2354389b190af5b4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/266f5cf2a5c7db28.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"266f5cf2a5c7db28.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/2a5be182dfce2f21.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"2a5be182dfce2f21.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/2d6ca36262af1fb1.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"2d6ca36262af1fb1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/2d95d2595ef8cf3b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"2d95d2595ef8cf3b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/2f56d5f920ff1ade.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"2f56d5f920ff1ade.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/32e3eb023f6ee3ba.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"32e3eb023f6ee3ba.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/339c821002d465d5.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"339c821002d465d5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/37bfc853a59b3cea.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"37bfc853a59b3cea.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/3d6c3c2b7962e631.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"3d6c3c2b7962e631.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/42997c9404fbb3c5.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"42997c9404fbb3c5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/42d722931576c18a.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"42d722931576c18a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/48071838f3615424.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"48071838f3615424.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/4812df9dc90e7725.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"4812df9dc90e7725.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/4c9a2f038cdaeb71.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"4c9a2f038cdaeb71.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/50b60481426d3afd.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"50b60481426d3afd.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/528dcf36c7d52e6e.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"528dcf36c7d52e6e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/545eaec054fd5218.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"545eaec054fd5218.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/551b7ab676551748.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"551b7ab676551748.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/566bae7cacf04cc7.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"566bae7cacf04cc7.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/5691d99da449aeb2.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"5691d99da449aeb2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/5a74c07b6f07c6d7.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"5a74c07b6f07c6d7.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/5ae453ac46cb1abd.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"5ae453ac46cb1abd.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/5b4ae1ddf38c5bac.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"5b4ae1ddf38c5bac.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/5cf991d40fd5681e.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"5cf991d40fd5681e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/6062c404ce14a9d1.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"6062c404ce14a9d1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/61e865e896205541.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"61e865e896205541.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/62ab2af515b36b54.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"62ab2af515b36b54.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/633b5face3642b7c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"633b5face3642b7c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/63d531446c748da6.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"63d531446c748da6.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/66e88f1227120852.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"66e88f1227120852.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/6848d154f70459a4.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"6848d154f70459a4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/6a9abbd5bcd8ae9b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"6a9abbd5bcd8ae9b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/6cbc855c0e0788ca.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"6cbc855c0e0788ca.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/6e480ad0f8a2f6f8.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"6e480ad0f8a2f6f8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/6e979887453d65b1.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"6e979887453d65b1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/73411fbff77a7f7f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"73411fbff77a7f7f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/744d4a1d9493956f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"744d4a1d9493956f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/751bb2b097bb76bf.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"751bb2b097bb76bf.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/7775353d41d1249a.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"7775353d41d1249a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/785e0001fc28c841.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"785e0001fc28c841.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/7896501557e9646b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"7896501557e9646b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/7977fce67fad7ab2.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"7977fce67fad7ab2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/7d3f472d90225cb6.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"7d3f472d90225cb6.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/873b13631b0a2d43.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"873b13631b0a2d43.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/89d7a010bcc96bca.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"89d7a010bcc96bca.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/89edccb8d8efc05c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"89edccb8d8efc05c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/8e5ebabc9106f714.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"8e5ebabc9106f714.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/8f4b4c50b604bbdf.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"8f4b4c50b604bbdf.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/8f64eab0ae66fc3a.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"8f64eab0ae66fc3a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/8f82cb2725fa616e.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"8f82cb2725fa616e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/8ff306dda9496ae3.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"8ff306dda9496ae3.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/939dfa4b1fcc1ce4.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"939dfa4b1fcc1ce4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/941e2ac251f1c098.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"941e2ac251f1c098.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/95811662f155207b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"95811662f155207b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/95b0d3bf93fe30ff.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"95b0d3bf93fe30ff.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/96ac1f339e1a918c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"96ac1f339e1a918c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/973098e8bf92ca7d.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"973098e8bf92ca7d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/99c342e6c648a626.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"99c342e6c648a626.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/9aecf98177c7cca2.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"9aecf98177c7cca2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/9b3ba694564ec5f0.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"9b3ba694564ec5f0.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/9e2505199e03c37c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"9e2505199e03c37c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/9f4a8ebbc574434d.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"9f4a8ebbc574434d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/a182ce0049370fe2.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"a182ce0049370fe2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/a20500ba11982b27.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"a20500ba11982b27.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/a2709486cef98dd9.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"a2709486cef98dd9.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/a5e44268d9368b5e.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"a5e44268d9368b5e.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/a73157c0e03e0bef.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"a73157c0e03e0bef.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/a88904ba22eff8e8.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"a88904ba22eff8e8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/abfe4002d809a330.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"abfe4002d809a330.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/ad32819d93b8330c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"ad32819d93b8330c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/ae6370a150336ea8.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"ae6370a150336ea8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/af16537d53144f5b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"af16537d53144f5b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/aff21e7004340e15.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"aff21e7004340e15.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b121ca70c26deb9b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b121ca70c26deb9b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b169f5c72441e23a.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b169f5c72441e23a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b1969927bd8996fc.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b1969927bd8996fc.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b1e83ae7831df206.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b1e83ae7831df206.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b39860a01ad48dc3.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b39860a01ad48dc3.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b4b3d6a322cdc35d.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b4b3d6a322cdc35d.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b54c525c75ddad2c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b54c525c75ddad2c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/b9575e72d62e7474.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"b9575e72d62e7474.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/ba5c85b09c522978.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"ba5c85b09c522978.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/bd5f4888a2ae5a64.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"bd5f4888a2ae5a64.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/c1e7b073aa72b3c1.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"c1e7b073aa72b3c1.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/c3138d78572d2472.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"c3138d78572d2472.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/c34e5c68c50e2534.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"c34e5c68c50e2534.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/c48ab6841594e0ac.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"c48ab6841594e0ac.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/c4c9fe68e495067a.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"c4c9fe68e495067a.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/c50e8879ac7789e9.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"c50e8879ac7789e9.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/cbedaa2848096de4.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"cbedaa2848096de4.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/cdbf09ff9e323ccf.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"cdbf09ff9e323ccf.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d0e16aa7a3eecca7.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d0e16aa7a3eecca7.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d4c4710cfbbb1b48.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d4c4710cfbbb1b48.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d52ef53e746bc4cb.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d52ef53e746bc4cb.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d547095ccdfa9a70.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d547095ccdfa9a70.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d6e56c27934793e5.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d6e56c27934793e5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d805875fea4f71d5.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d805875fea4f71d5.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d84386cd9bcedc8f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d84386cd9bcedc8f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/d9fd15b03ad56209.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"d9fd15b03ad56209.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e0099648baa42e6f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e0099648baa42e6f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e01e25032e3cd3a8.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e01e25032e3cd3a8.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e0b95334d12d044f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e0b95334d12d044f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e0b981f651d23679.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e0b981f651d23679.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e0bb2f4c6b455757.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e0bb2f4c6b455757.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e53df4dd51341905.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e53df4dd51341905.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e5aa907519fce1c0.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e5aa907519fce1c0.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e620aae6ab7c8e13.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e620aae6ab7c8e13.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e649a7b010a24b60.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e649a7b010a24b60.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e696685082cabdab.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e696685082cabdab.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e6eaabb5e0327380.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e6eaabb5e0327380.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/e83ee1ff8a839a1c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"e83ee1ff8a839a1c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/eb9fae41092bd441.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"eb9fae41092bd441.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f10b4296db3e0a05.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f10b4296db3e0a05.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f410bb787d1fb33f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f410bb787d1fb33f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f4526c5a2570e5b2.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f4526c5a2570e5b2.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f48bf0716013ac11.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f48bf0716013ac11.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f48dc945f00e213f.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f48dc945f00e213f.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f9120d53fb7c396b.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f9120d53fb7c396b.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/f92ff5e1e860a45c.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"f92ff5e1e860a45c.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/fb218f399632a938.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"fb218f399632a938.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/fb85018c73538669.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"fb85018c73538669.jpg","modified":1,"renderable":1},{"_id":"source/_posts/201710091643/fba20274fc7b6174.jpg","post":"cj8k2a24w0001zizpmwxpmio4","slug":"fba20274fc7b6174.jpg","modified":1,"renderable":1}],"PostCategory":[],"PostTag":[{"post_id":"cj8k2a24r0000zizpavcpsk1z","tag_id":"cj8k2a24z0002zizpryamv0j7","_id":"cj8k2a25c0007zizpbernuedd"},{"post_id":"cj8k2a24w0001zizpmwxpmio4","tag_id":"cj8k2a24z0002zizpryamv0j7","_id":"cj8k2a25v000fzizpyqpgedcy"},{"post_id":"cj8k2a24w0001zizpmwxpmio4","tag_id":"cj8k2a25j000azizp8m5qfh9d","_id":"cj8k2a25y000hzizpk3h6r99y"},{"post_id":"cj8k2a2500003zizp2431a05b","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26f000nzizpkqvhaeit"},{"post_id":"cj8k2a2500003zizp2431a05b","tag_id":"cj8k2a260000izizpel2swh2e","_id":"cj8k2a26g000ozizpjmq4tldn"},{"post_id":"cj8k2a26c000mzizpja4q2k33","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26h000qzizprncafkrd"},{"post_id":"cj8k2a26c000mzizpja4q2k33","tag_id":"cj8k2a260000izizpel2swh2e","_id":"cj8k2a26h000rzizpo4u9gu6h"},{"post_id":"cj8k2a2530004zizpbersf4t5","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26i000tzizpk4oy018q"},{"post_id":"cj8k2a2530004zizpbersf4t5","tag_id":"cj8k2a260000izizpel2swh2e","_id":"cj8k2a26i000uzizplcpf7wjf"},{"post_id":"cj8k2a2570005zizpideapban","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26k000xzizpuhc4mxqx"},{"post_id":"cj8k2a2570005zizpideapban","tag_id":"cj8k2a260000izizpel2swh2e","_id":"cj8k2a26k000yzizp54rayasr"},{"post_id":"cj8k2a25c0008zizpoh0frzq7","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26m0012zizpgg6zdgnd"},{"post_id":"cj8k2a25c0008zizpoh0frzq7","tag_id":"cj8k2a26l000zzizprh2vur5q","_id":"cj8k2a26m0013zizpupoc3oal"},{"post_id":"cj8k2a25c0008zizpoh0frzq7","tag_id":"cj8k2a26l0010zizpbzggxj6z","_id":"cj8k2a26n0015zizpjhuxo774"},{"post_id":"cj8k2a25i0009zizpa4snopvh","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26o0017zizpo1ynixyb"},{"post_id":"cj8k2a25i0009zizpa4snopvh","tag_id":"cj8k2a26l000zzizprh2vur5q","_id":"cj8k2a26o0018zizppm2pf2e6"},{"post_id":"cj8k2a25n000bzizpzi3jj641","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26p001bzizp28lqh6f9"},{"post_id":"cj8k2a25n000bzizpzi3jj641","tag_id":"cj8k2a26l000zzizprh2vur5q","_id":"cj8k2a26q001czizpkgjo376z"},{"post_id":"cj8k2a25r000czizpi60b5ib8","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26r001fzizpeyq831fr"},{"post_id":"cj8k2a25r000czizpi60b5ib8","tag_id":"cj8k2a26l000zzizprh2vur5q","_id":"cj8k2a26r001gzizpifmr0zo0"},{"post_id":"cj8k2a25v000ezizpo6aiv5zf","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26r001izizpge0hmcyt"},{"post_id":"cj8k2a25v000ezizpo6aiv5zf","tag_id":"cj8k2a26l000zzizprh2vur5q","_id":"cj8k2a26s001jzizpst63j29f"},{"post_id":"cj8k2a25y000gzizp3s4g3ix9","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26s001lzizpju7hsom1"},{"post_id":"cj8k2a25y000gzizp3s4g3ix9","tag_id":"cj8k2a26r001hzizplhno90ui","_id":"cj8k2a26s001mzizpqo9yzxya"},{"post_id":"cj8k2a261000jzizpwf3fw5ic","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26t001ozizp96smvhqd"},{"post_id":"cj8k2a261000jzizpwf3fw5ic","tag_id":"cj8k2a26r001hzizplhno90ui","_id":"cj8k2a26t001pzizpk8naif1t"},{"post_id":"cj8k2a264000kzizptgi918ap","tag_id":"cj8k2a25s000dzizp8crfcz2z","_id":"cj8k2a26t001qzizpe5x3nb6b"},{"post_id":"cj8k2a264000kzizptgi918ap","tag_id":"cj8k2a26r001hzizplhno90ui","_id":"cj8k2a26t001rzizp926dmooe"}],"Tag":[{"name":"virtualization","_id":"cj8k2a24z0002zizpryamv0j7"},{"name":"ESXi","_id":"cj8k2a25j000azizp8m5qfh9d"},{"name":"linux","_id":"cj8k2a25s000dzizp8crfcz2z"},{"name":"other","_id":"cj8k2a260000izizpel2swh2e"},{"name":"network","_id":"cj8k2a26l000zzizprh2vur5q"},{"name":"gfw","_id":"cj8k2a26l0010zizpbzggxj6z"},{"name":"tools","_id":"cj8k2a26r001hzizplhno90ui"}]}}